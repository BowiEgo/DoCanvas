{"version":3,"file":"x-canvas.js","sources":["../../src/utils/boxModel.ts","../../src/utils/general.ts","../../src/utils/device.ts","../../src/utils/normalizeProp.ts","../../src/vnode.ts","../../node_modules/tslib/tslib.es6.js","../../src/scheduler.ts","../../src/renderer.ts","../../src/canvas/treeNode.ts","../../src/utils/traversal.ts","../../src/canvas/styleConstant.ts","../../src/canvas/renderer.ts","../../src/utils/throttle.ts","../../src/canvas/weapp-adapter.ts","../../src/canvas/completeStyles.ts","../../src/canvas/line.ts","../../src/canvas/flexBox.ts","../../src/canvas/element.ts","../../src/nodeOps.ts","../../src/createApp.ts","../../src/index.ts","../../src/h.ts","../../src/canvas/layer.ts"],"sourcesContent":["import { CanvasElement } from '../canvas/element'\nimport { TreeNodeChildren } from '../canvas/treeNode'\n\nexport function floor(val) {\n  return (0.5 + val) << 0\n}\n\nexport function walk(element, callback) {\n  let _continue = false // 是否跳过当前节点以及后面的节点\n  let _next = false // 是否跳过当前节点数，子元素都不会遍历\n  const _callContinue = () => (_continue = true)\n  const _callNext = () => (_next = true)\n  if (element != null) {\n    const stack: CanvasElement[] = []\n    let item: CanvasElement | undefined | null = null\n    let children: TreeNodeChildren = []\n    stack.push(element)\n    while (stack.length !== 0) {\n      item = stack.pop()\n      callback(item, _callContinue, _callNext)\n      if (!_next && item) {\n        children = item.treeNode.children\n        for (let i = children.length - 1; i >= 0; i--) {\n          if (!_continue) {\n            stack.push(children[i].context)\n          } else {\n            // 复位\n            _continue = false\n          }\n        }\n      } else {\n        // 复位\n        _next = false\n      }\n    }\n  }\n}\n\nexport function walkParent(element, callback) {\n  if (!element) return\n  let cur = element\n  let stop = false\n  const callbreak = () => {\n    stop = true\n  }\n  while (cur.parent) {\n    callback(cur.parent, callbreak)\n    if (stop) {\n      break\n    }\n    cur = cur.parent\n  }\n}\n\nexport function findRelativeTo(element) {\n  if (element.isInFlow()) return element.parent\n  if (element.renderStyles.position === 'fixed') return element.root\n  let relativeTo = null\n  walkParent(element, (parent) => {\n    if (parent.renderStyles.position !== 'static' && !relativeTo) {\n      relativeTo = parent\n    }\n  })\n  if (!relativeTo) {\n    relativeTo = element.root\n  }\n  return relativeTo\n}\n","export const EMPTY_OBJ = Object.freeze({})\nexport const EMPTY_ARR = Object.freeze([])\n\nexport const NOOP = () => {}\n\n/**\n * Always return false.\n */\nexport const NO = () => false\n\nconst onRE = /^on[^a-z]/\nexport const isOn = (key: string) => onRE.test(key)\n\nexport const isModelListener = (key: string) => key.startsWith('onUpdate:')\n\nexport const extend = Object.assign\n\nexport const remove = <T>(arr: T[], el: T) => {\n  const i = arr.indexOf(el)\n  if (i > -1) {\n    arr.splice(i, 1)\n  }\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nexport const hasOwn = (\n  val: object,\n  key: string | symbol\n): key is keyof typeof val => hasOwnProperty.call(val, key)\n\nexport const isExact = (num: unknown) => {\n  return typeof num === 'number'\n}\n\nexport const isAuto = (num: unknown) => {\n  return num === 'auto'\n}\n\nexport const isOuter = (num) => {\n  if (typeof num !== 'string') return\n  return num.match('%')\n}\n\nexport const parseOuter = (num) => {\n  let _n = parseInt(num.replace('%', ''))\n  return isNaN(_n) || _n < 0 ? 0 : _n / 100\n}\n\nexport const isArray = Array.isArray\nexport const isMap = (val: unknown): val is Map<any, any> =>\n  toTypeString(val) === '[object Map]'\nexport const isSet = (val: unknown): val is Set<any> =>\n  toTypeString(val) === '[object Set]'\n\nexport const isDate = (val: unknown): val is Date =>\n  toTypeString(val) === '[object Date]'\nexport const isRegExp = (val: unknown): val is RegExp =>\n  toTypeString(val) === '[object RegExp]'\nexport const isFunction = (val: unknown): val is Function =>\n  typeof val === 'function'\nexport const isString = (val: unknown): val is string => typeof val === 'string'\nexport const isSymbol = (val: unknown): val is symbol => typeof val === 'symbol'\nexport const isObject = (val: unknown): val is Record<any, any> =>\n  val !== null && typeof val === 'object'\n\nexport const isPromise = <T = any>(val: unknown): val is Promise<T> => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const objectToString = Object.prototype.toString\nexport const toTypeString = (value: unknown): string =>\n  objectToString.call(value)\n\nexport const toRawType = (value: unknown): string => {\n  // extract \"RawType\" from strings like \"[object RawType]\"\n  return toTypeString(value).slice(8, -1)\n}\n\nexport const isPlainObject = (val: unknown): val is object =>\n  toTypeString(val) === '[object Object]'\n\nexport const isIntegerKey = (key: unknown) =>\n  isString(key) &&\n  key !== 'NaN' &&\n  key[0] !== '-' &&\n  '' + parseInt(key, 10) === key\n","export const isWX = (function () {\n  try {\n    return Boolean(wx.getSystemInfoSync)\n  } catch (err) {\n    return false\n  }\n})()\n","import { isString, isArray, isObject } from './general'\n\nexport type NormalizedStyle = Record<string, string | number>\n\nexport function normalizeStyle(\n  value: unknown\n): NormalizedStyle | string | undefined {\n  if (isArray(value)) {\n    const res: NormalizedStyle = {}\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i]\n      const normalized = isString(item)\n        ? parseStringStyle(item)\n        : (normalizeStyle(item) as NormalizedStyle)\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key]\n        }\n      }\n    }\n    return res\n  } else if (isString(value)) {\n    return value\n  } else if (isObject(value)) {\n    return value\n  }\n}\n\nconst listDelimiterRE = /;(?![^(]*\\))/g\nconst propertyDelimiterRE = /:([^]+)/\nconst styleCommentRE = /\\/\\*.*?\\*\\//gs\n\nexport function parseStringStyle(cssText: string): NormalizedStyle {\n  const ret: NormalizedStyle = {}\n  cssText\n    .replace(styleCommentRE, '')\n    .split(listDelimiterRE)\n    .forEach((item) => {\n      if (item) {\n        const tmp = item.split(propertyDelimiterRE)\n        tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim())\n      }\n    })\n  return ret\n}\n\nexport function normalizeClass(value: unknown): string {\n  let res = ''\n  if (isString(value)) {\n    res = value\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i])\n      if (normalized) {\n        res += normalized + ' '\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + ' '\n      }\n    }\n  }\n  return res.trim()\n}\n","import {\n  isOn,\n  isString,\n  isObject,\n  isArray,\n  isFunction,\n  normalizeClass,\n  normalizeStyle\n} from './utils'\nimport { RendererNode } from './renderer'\nimport { ComponentInternalInstance, Data } from './components'\nimport { AppContext } from './createApp'\n\nexport const Fragment = Symbol.for('v-fgt') as any as {\n  __isFragment: true\n  new (): {\n    $props: VNodeProps\n  }\n}\nexport const Text = Symbol.for('v-txt')\nexport const Comment = Symbol.for('v-cmt')\n\nexport type VNodeTypes =\n  | string\n  | VNode\n  | typeof Text\n  | typeof Comment\n  | typeof Fragment\n\nexport type VNodeProps = {\n  key?: string | number | symbol\n  ref_for?: boolean\n  ref_key?: string\n}\n\ntype VNodeChildAtom =\n  | VNode\n  | string\n  | number\n  | boolean\n  | null\n  | undefined\n  | void\n\nexport type VNodeArrayChildren = Array<VNodeArrayChildren | VNodeChildAtom>\n\nexport type VNodeChild = VNodeChildAtom | VNodeArrayChildren\n\nexport type VNodeNormalizedChildren = string | VNodeArrayChildren | null\n\nexport interface VNode<\n  HostNode = RendererNode,\n  ExtraProps = { [key: string]: any }\n> {\n  /**\n   * @internal\n   */\n  __v_isVNode: true\n\n  type: VNodeTypes\n  props: (VNodeProps & ExtraProps) | null\n  children: VNodeNormalizedChildren\n  component: ComponentInternalInstance | null\n\n  el: HostNode | null\n  /**\n   * number of elements contained in a static vnode\n   * @internal\n   */\n  staticCount: number\n\n  // application root node only\n  appContext: AppContext | null\n\n  /**\n   * @internal lexical scope owner instance\n   */\n  ctx: ComponentInternalInstance | null\n}\n\nexport function isVNode(value: any): value is VNode {\n  return value ? value.__v_isVNode === true : false\n}\n\nexport function isSameVNodeType(n1: VNode, n2: VNode): boolean {\n  return n1.type === n2.type\n}\n\nfunction createBaseVNode(\n  type: VNodeTypes,\n  props: (Data & VNodeProps) | null = null,\n  children: unknown = null,\n  patchFlag = 0\n) {\n  console.log('createBaseVNode', type, props, children)\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    children,\n    component: null,\n    el: null,\n    staticCount: 0,\n    appContext: null,\n    ctx: null\n  } as VNode\n\n  // if (type !== 'Text') {\n  //   normalizeChildren(vnode, children)\n  // }\n  return vnode\n}\n\nexport function createVNode(\n  type: VNodeTypes,\n  props: (Data & VNodeProps) | null = null,\n  children: unknown = null,\n  patchFlag: number = 0\n) {\n  console.log('createVNode', type, props, children)\n  if (isVNode(type)) {\n    const cloned = cloneVNode(type, props, true /* mergeRef: true */)\n    console.log('cloned', cloned)\n    if (children) {\n      normalizeChildren(cloned, children)\n    }\n    console.log('children', children)\n\n    return cloned\n  }\n\n  // class & style normalization.\n  if (props) {\n    // for reactive or proxy objects, we need to clone it to enable mutation.\n    // props = guardReactiveProps(props)!\n    let { class: klass, style } = props\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass)\n    }\n    if (isObject(style)) {\n      props.style = normalizeStyle(style)\n    }\n  }\n\n  return createBaseVNode(type, props, children, patchFlag)\n}\n\nexport function cloneVNode(\n  vnode: VNode,\n  extraProps?: (Data & VNodeProps) | null,\n  mergeRef = false\n): VNode {\n  if (vnode && typeof vnode !== 'object') {\n    console.log('cloneVNode', vnode)\n    return vnode\n  }\n  // This is intentionally NOT using spread or extend to avoid the runtime\n  // key enumeration cost.\n  const { props, children } = vnode\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props\n  const cloned: VNode = {\n    __v_isVNode: true,\n    type: vnode.type,\n    props: mergedProps,\n    children: isArray(children)\n      ? (children as VNode[]).map(deepCloneVNode)\n      : children,\n    staticCount: vnode.staticCount,\n    appContext: vnode.appContext,\n    component: vnode.component,\n    el: vnode.el,\n    ctx: vnode.ctx\n  }\n  return cloned as any\n}\n\n/**\n * Dev only, for HMR of hoisted vnodes reused in v-for\n * https://github.com/vitejs/vite/issues/2022\n */\nfunction deepCloneVNode(vnode: VNode): VNode {\n  console.log('deepCloneVNode', vnode)\n  const cloned = cloneVNode(vnode)\n  if (isArray(vnode.children)) {\n    cloned.children = (vnode.children as VNode[]).map(deepCloneVNode)\n  }\n  return cloned\n}\n\n/**\n * @private\n */\nexport function createTextVNode(text: string = ' ', flag: number = 0): VNode {\n  return createVNode('Text', null, text)\n}\n\nexport function normalizeVNode(child: VNodeChild): VNode {\n  console.log('normalizeVNode', child)\n  if (child == null || typeof child === 'boolean') {\n    // empty placeholder\n    return createVNode(Comment)\n  } else if (isArray(child)) {\n    // fragment\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    )\n  } else if (typeof child === 'object') {\n    // already vnode, this should be the most common since compiled templates\n    // always produce all-vnode children arrays\n    return cloneIfMounted(child)\n  } else {\n    // strings and numbers\n    return createTextVNode(String(child))\n  }\n}\n\nexport function cloneIfMounted(child: VNode): VNode {\n  return cloneVNode(child)\n}\n\nexport function normalizeChildren(vnode: VNode, children: unknown) {\n  console.log('normalizeChildren', vnode, children)\n\n  if (children == null) {\n    children = null\n  } else if (isArray(children)) {\n  } else if (typeof children === 'object') {\n  } else if (isFunction(children)) {\n  } else {\n    children = [createTextVNode(children as string)]\n  }\n  vnode.children = children as VNodeNormalizedChildren\n}\n\nexport function mergeProps(...args: (Data & VNodeProps)[]) {\n  const ret: Data = {}\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i]\n    for (const key in toMerge) {\n      if (key === 'class') {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class])\n        }\n      } else if (key === 'style') {\n        ret.style = normalizeStyle([ret.style, toMerge.style])\n      } else if (isOn(key)) {\n        const existing = ret[key]\n        const incoming = toMerge[key]\n        if (\n          incoming &&\n          existing !== incoming &&\n          !(isArray(existing) && existing.includes(incoming))\n        ) {\n          ret[key] = existing\n            ? [].concat(existing as any, incoming as any)\n            : incoming\n        }\n      } else if (key !== '') {\n        ret[key] = toMerge[key]\n      }\n    }\n  }\n  return ret\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.push(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.push(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import { ComponentInternalInstance } from './components'\n\nexport interface SchedulerJob extends Function {\n  id?: number\n  pre?: boolean\n  active?: boolean\n  computed?: boolean\n  /**\n   * Indicates whether the effect is allowed to recursively trigger itself\n   * when managed by the scheduler.\n   *\n   * By default, a job cannot trigger itself because some built-in method calls,\n   * e.g. Array.prototype.push actually performs reads as well (#1740) which\n   * can lead to confusing infinite loops.\n   * The allowed cases are component update functions and watch callbacks.\n   * Component update functions may update child component props, which in turn\n   * trigger flush: \"pre\" watch callbacks that mutates state that the parent\n   * relies on (#1801). Watch callbacks doesn't track its dependencies so if it\n   * triggers itself again, it's likely intentional and it is the user's\n   * responsibility to perform recursive state mutation that eventually\n   * stabilizes (#1727).\n   */\n  allowRecurse?: boolean\n  /**\n   * Attached by renderer.ts when setting up a component's render effect\n   * Used to obtain component information when reporting max recursive updates.\n   * dev only.\n   */\n  ownerInstance?: ComponentInternalInstance\n}\n\nexport type SchedulerJobs = SchedulerJob | SchedulerJob[]\n\nlet isFlushing = false\nlet isFlushPending = false\n\nconst queue: SchedulerJob[] = []\nlet flushIndex = 0\n\nconst pendingPostFlushCbs: SchedulerJob[] = []\nlet activePostFlushCbs: SchedulerJob[] | null = null\nlet postFlushIndex = 0\n\nconst resolvedPromise = /*#__PURE__*/ Promise.resolve() as Promise<any>\nlet currentFlushPromise: Promise<void> | null = null\n\nconst RECURSION_LIMIT = 100\ntype CountMap = Map<SchedulerJob, number>\n\nexport function flushPreFlushCbs(\n  seen?: CountMap,\n  // if currently flushing, skip the current job itself\n  i = isFlushing ? flushIndex + 1 : 0\n) {\n  seen = seen || new Map()\n  for (; i < queue.length; i++) {\n    const cb = queue[i]\n    if (cb && cb.pre) {\n      if (checkRecursiveUpdates(seen!, cb)) {\n        continue\n      }\n      queue.splice(i, 1)\n      i--\n      cb()\n    }\n  }\n}\n\nexport function flushPostFlushCbs(seen?: CountMap) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)]\n    pendingPostFlushCbs.length = 0\n\n    // #1947 already has active queue, nested flushPostFlushCbs call\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped)\n      return\n    }\n\n    activePostFlushCbs = deduped\n\n    seen = seen || new Map()\n\n    activePostFlushCbs.sort((a, b) => getId(a) - getId(b))\n\n    for (\n      postFlushIndex = 0;\n      postFlushIndex < activePostFlushCbs.length;\n      postFlushIndex++\n    ) {\n      if (checkRecursiveUpdates(seen!, activePostFlushCbs[postFlushIndex])) {\n        continue\n      }\n      activePostFlushCbs[postFlushIndex]()\n    }\n    activePostFlushCbs = null\n    postFlushIndex = 0\n  }\n}\n\nconst getId = (job: SchedulerJob): number =>\n  job.id == null ? Infinity : job.id\n\nfunction checkRecursiveUpdates(seen: CountMap, fn: SchedulerJob) {\n  if (!seen.has(fn)) {\n    seen.set(fn, 1)\n  } else {\n    const count = seen.get(fn)!\n    if (count > RECURSION_LIMIT) {\n      return true\n    } else {\n      seen.set(fn, count + 1)\n    }\n  }\n}\n","import {\n  VNode,\n  VNodeProps,\n  VNodeArrayChildren,\n  isSameVNodeType,\n  normalizeVNode\n} from './vnode'\nimport { ComponentInternalInstance, Data } from './components'\nimport { flushPreFlushCbs, flushPostFlushCbs } from './scheduler'\nimport { EMPTY_OBJ, EMPTY_ARR, PatchFlags, ShapeFlags } from './utils'\n\nexport type RootRenderFunction<HostElement = RendererElement> = (\n  vnode: VNode | null,\n  container: HostElement,\n  isSVG?: boolean\n) => void\n\ntype MountChildrenFn = (\n  children: VNodeArrayChildren,\n  container: RendererElement,\n  anchor: RendererNode | null,\n  parentComponent: ComponentInternalInstance | null,\n  start?: number\n) => void\n\ntype NextFn = (vnode: VNode) => RendererNode | null\n\ntype RemoveFn = (vnode: VNode) => void\n\ntype UnmountChildrenFn = (\n  children: VNode[],\n  parentComponent: ComponentInternalInstance | null,\n  // parentSuspense: SuspenseBoundary | null,\n  doRemove?: boolean,\n  optimized?: boolean,\n  start?: number\n) => void\n\ntype ProcessTextOrCommentFn = (\n  n1: VNode | null,\n  n2: VNode,\n  container: RendererElement,\n  anchor: RendererNode | null\n) => void\n\nexport interface RendererOptions<\n  HostNode = RendererNode,\n  HostElement = RendererElement\n> {\n  patchProp(\n    el: HostElement,\n    key: string,\n    prevValue: any,\n    nextValue: any,\n    prevChildren?: VNode<HostNode, HostElement>[],\n    parentComponent?: ComponentInternalInstance | null,\n    unmountChildren?: UnmountChildrenFn\n  ): void\n  insert(el: HostNode, parent: HostElement, anchor?: HostNode | null): void\n  remove(el: HostNode): void\n  createElement(\n    type: string,\n    vnodeProps?: (VNodeProps & { [key: string]: any }) | null\n  ): HostElement\n  createText(text: string): HostNode\n  createComment(text: string): HostNode\n  setText(node: HostNode, text: string): void\n  setElementText(node: HostElement, text: string): void\n  parentNode(node: HostNode): HostElement | null\n  nextSibling(node: HostNode): HostNode | null\n  // querySelector?(selector: string): HostElement | null\n}\n\nexport interface RendererNode {\n  [key: string]: any\n}\n\nexport interface RendererElement extends RendererNode {}\n\ntype PatchFn = (\n  n1: VNode | null, // null means this is a mount\n  n2: VNode,\n  container: RendererElement,\n  anchor?: RendererNode | null,\n  parentComponent?: ComponentInternalInstance | null\n) => void\n\ntype PatchChildrenFn = (\n  n1: VNode | null,\n  n2: VNode,\n  container: RendererElement,\n  anchor: RendererNode | null,\n  parentComponent: ComponentInternalInstance | null\n) => void\n\ntype UnmountFn = (\n  vnode: VNode,\n  parentComponent: ComponentInternalInstance | null,\n  doRemove?: boolean,\n  optimized?: boolean\n) => void\n\nexport function createRenderer(options: RendererOptions): any {\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling\n  } = options\n\n  const patch: PatchFn = (\n    n1,\n    n2,\n    container,\n    anchor = null,\n    parentComponent = null\n  ) => {\n    // console.log('patch', n1, n2, container)\n    if (n1 === n2) {\n      return\n    }\n\n    // patching & not same type, unmount old tree\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1)\n      unmount(n1, parentComponent, true)\n      n1 = null\n    }\n\n    const { type } = n2\n    switch (type) {\n      case 'Text':\n        processText(n1, n2, container, anchor)\n        break\n      // case 'Comment':\n      //   processCommentNode(n1, n2, container, anchor)\n      //   break\n      default:\n        processElement(n1, n2, container, anchor, parentComponent)\n    }\n  }\n\n  const processText: ProcessTextOrCommentFn = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(hostCreateText(n2.children as string), container, anchor)\n    } else {\n      if (n2.children !== n1.children) {\n        hostSetText(n2, n2.children as string)\n      }\n    }\n  }\n\n  const processElement = (\n    n1: VNode | null,\n    n2: VNode,\n    container: RendererElement,\n    anchor: RendererNode | null,\n    parentComponent: ComponentInternalInstance | null\n  ) => {\n    if (n1 == null) {\n      mountElement(n2, container, anchor, parentComponent)\n    } else {\n      patchElement(n1, n2, parentComponent)\n    }\n  }\n\n  const mountElement = (\n    vnode: VNode,\n    container: RendererElement,\n    anchor: RendererNode | null,\n    parentComponent: ComponentInternalInstance | null\n  ) => {\n    let el: RendererElement\n    const { type, props } = vnode\n    // console.log('mountElement', vnode, container, anchor, parentComponent)\n\n    el = vnode.el = hostCreateElement(vnode.type as string, props)\n\n    // mount children first, since some props may rely on child content\n    // being already rendered, e.g. `<select value>`\n\n    mountChildren(\n      vnode.children as VNodeArrayChildren,\n      el,\n      null,\n      parentComponent\n    )\n\n    // props\n    if (props) {\n      // for (const key in props) {\n      //   if (key !== 'value' && !isReservedProp(key)) {\n      //     hostPatchProp(\n      //       el,\n      //       key,\n      //       null,\n      //       props[key],\n      //       isSVG,\n      //       vnode.children as VNode[],\n      //       parentComponent,\n      //       parentSuspense,\n      //       unmountChildren\n      //     )\n      //   }\n      // }\n\n      if ('value' in props) {\n        // hostPatchProp(el, 'value', null, props.value)\n      }\n    }\n\n    hostInsert(el, container, anchor)\n  }\n\n  const mountChildren: MountChildrenFn = (\n    children,\n    container,\n    anchor,\n    parentComponent,\n    start = 0\n  ) => {\n    // console.log('mountChildren', children, container, anchor, parentComponent)\n    if (typeof children === 'string') {\n      patch(null, normalizeVNode(children), container, anchor, parentComponent)\n    } else {\n      for (let i = start; i < children.length; i++) {\n        const child = normalizeVNode(children[i])\n        patch(null, child, container, anchor, parentComponent)\n      }\n    }\n  }\n\n  const patchElement = (\n    n1: VNode,\n    n2: VNode,\n    parentComponent: ComponentInternalInstance | null\n  ) => {\n    const el = (n2.el = n1.el!)\n\n    const oldProps = n1.props || EMPTY_OBJ\n    const newProps = n2.props || EMPTY_OBJ\n\n    patchChildren(n1, n2, el, null, parentComponent)\n\n    // text\n    if (n1.children !== n2.children) {\n      hostSetElementText(el, n2.children as string)\n    }\n\n    patchProps(el, n2, oldProps, newProps, parentComponent)\n  }\n\n  const patchChildren: PatchChildrenFn = (\n    n1,\n    n2,\n    container,\n    anchor,\n    parentComponent\n  ) => {\n    const c1 = n1 && n1.children\n    const c2 = n2.children\n\n    patchUnkeyedChildren(\n      c1 as VNode[],\n      c2 as VNodeArrayChildren,\n      container,\n      anchor,\n      parentComponent\n    )\n  }\n\n  const patchUnkeyedChildren = (\n    c1: VNode[],\n    c2: VNodeArrayChildren,\n    container: RendererElement,\n    anchor: RendererNode | null,\n    parentComponent: ComponentInternalInstance | null\n  ) => {\n    c1 = c1 || EMPTY_ARR\n    c2 = c2 || EMPTY_ARR\n    const oldLength = c1.length\n    const newLength = c2.length\n    const commonLength = Math.min(oldLength, newLength)\n    let i\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = normalizeVNode(c2[i])\n      patch(c1[i], nextChild, container, null, parentComponent)\n    }\n    if (oldLength > newLength) {\n      // remove old\n      unmountChildren(c1, parentComponent, true, false, commonLength)\n    } else {\n      // mount new\n      mountChildren(c2, container, anchor, parentComponent, commonLength)\n    }\n  }\n\n  const patchProps = (\n    el: RendererElement,\n    vnode: VNode,\n    oldProps: Data,\n    newProps: Data,\n    parentComponent: ComponentInternalInstance | null\n  ) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          hostPatchProp(\n            el,\n            key,\n            oldProps[key],\n            null,\n            vnode.children as VNode[],\n            parentComponent,\n            unmountChildren\n          )\n        }\n      }\n      for (const key in newProps) {\n        const next = newProps[key]\n        const prev = oldProps[key]\n        // defer patching value\n        if (next !== prev && key !== 'value') {\n          hostPatchProp(\n            el,\n            key,\n            prev,\n            next,\n            vnode.children as VNode[],\n            parentComponent,\n            unmountChildren\n          )\n        }\n      }\n      if ('value' in newProps) {\n        hostPatchProp(el, 'value', oldProps.value, newProps.value)\n      }\n    }\n  }\n\n  const unmount: UnmountFn = (\n    vnode,\n    parentComponent,\n    doRemove = false,\n    optimized = false\n  ) => {\n    const { type, props, children } = vnode\n\n    unmountChildren(children as VNode[], parentComponent)\n\n    if (doRemove) {\n      remove(vnode)\n    }\n  }\n\n  const remove: RemoveFn = (vnode) => {\n    const performRemove = () => {\n      hostRemove(vnode)\n    }\n\n    performRemove()\n  }\n\n  const unmountChildren: UnmountChildrenFn = (\n    children,\n    parentComponent,\n    doRemove = false,\n    optimized = false,\n    start = 0\n  ) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, doRemove)\n    }\n  }\n\n  const getNextHostNode: NextFn = (vnode) => {\n    return hostNextSibling(vnode!)\n  }\n\n  const render: RootRenderFunction = (vnode, container) => {\n    // console.log('render:', vnode, container, container._vnode)\n\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, true)\n      }\n    } else {\n      patch(container._vnode || null, vnode, container, null, null)\n    }\n    flushPreFlushCbs()\n    flushPostFlushCbs()\n    container._vnode = vnode\n  }\n\n  return {\n    render\n  }\n}\n","type TreeNodeChildren = Array<TreeNode>\n\nexport interface TreeNode {\n  __v_isTreeNode: boolean\n  _children: TreeNode[]\n  parent: TreeNode | null\n  root: TreeNode | null\n  prev: TreeNode | null\n  next: TreeNode | null\n  children: TreeNodeChildren\n  context: any\n  _setParent(node: TreeNode): void\n  _setSibling(prev: TreeNode | null, next: TreeNode | null): void\n  hasChildren(): boolean\n  appendChild(child: TreeNode): void\n  prependChild(child: TreeNode): void\n  removeChild(child: TreeNode): void\n  append(): void\n  prepend(): void\n  remove(): void\n}\n\nexport function isTreeNode(value: any): value is TreeNode {\n  return value ? value.__v_isTreeNode === true : false\n}\n\nexport function isEndNode(node) {\n  return node.parent && !node.next && !node.hasChildren()\n}\n\nexport function createTreeNode(context) {\n  const treeNode: TreeNode = {\n    __v_isTreeNode: true,\n    _children: [] as TreeNode[],\n    parent: null,\n    root: null,\n    prev: null,\n    next: null,\n    context,\n\n    get children() {\n      return treeNode.hasChildren() ? treeNode._children : []\n    },\n\n    _setParent(node) {\n      console.log('_setParent', this, node)\n      this.parent = treeNode.parent = node\n      this.root = treeNode.root = node.root\n    },\n\n    _setSibling(prev, next) {\n      this.prev = treeNode.prev = prev\n      this.next = treeNode.next = next\n    },\n\n    hasChildren() {\n      return Array.isArray(treeNode._children) && treeNode._children.length\n        ? true\n        : false\n    },\n\n    appendChild(child) {\n      if (!isTreeNode(child)) throw Error('Unknown treeNode type')\n\n      const prev = this.children[this.children.length - 1] || null\n      prev && prev._setSibling(prev.prev, child)\n\n      this._children.push(child)\n\n      child._setParent(this)\n      child._setSibling(prev, null)\n    },\n\n    prependChild(child) {\n      if (!isTreeNode(child)) throw Error('Unknown treeNode type')\n    },\n\n    removeChild(child) {\n      if (!isTreeNode(child)) throw Error('Unknown treeNode type')\n    },\n\n    append() {},\n\n    prepend() {},\n\n    remove() {}\n  }\n\n  return treeNode\n}\n\nexport function connectChildren(el) {\n  console.warn('connectChildren', el)\n  if (el.hasChildren()) {\n    el.children = el.children.filter((item) => {\n      isTreeNode(item)\n    })\n    el._getChildren().map((child, index) => {\n      child._setParent(el)\n      child._setSibling(\n        el._getChildren()[index - 1],\n        el._getChildren()[index + 1]\n      )\n      connectChildren(child)\n    })\n  }\n}\n","import { TreeNode } from '../Canvas/treeNode'\nimport { TravedElementList } from '../canvas/layer'\n\ntype Queue<T> = T[]\n\ntype TraversalFn = (node: TreeNode) => TravedElementList\n\nexport const deepTraversal: TraversalFn = (node) => {\n  const nodes = <any>[]\n\n  if (node != null) {\n    const queue: Queue<TreeNode> = []\n    let item\n    let children\n    queue.unshift(node)\n\n    while (queue.length != 0) {\n      item = queue.shift()\n      nodes.push(item.elementInstance)\n\n      children = item.children\n\n      for (let i = children.length - 1; i >= 0; i--)\n        queue.push(children[i].elementInstance)\n    }\n  }\n  return nodes\n}\n\nexport const wideTraversal: TraversalFn = (node) => {\n  const nodes = <any>[]\n\n  if (node != null) {\n    const queue: Queue<TreeNode> = []\n    let item\n    let children\n\n    queue.unshift(node)\n\n    while (queue.length != 0) {\n      item = queue.shift()\n      nodes.push(item.elementInstance)\n\n      children = item.children\n\n      for (let i = 0; i < children.length; i++)\n        queue.push(children[i].elementInstance)\n    }\n  }\n\n  return nodes\n}\n","export type TextAlign =\n  | 'start'\n  | 'end'\n  | 'left'\n  | 'right'\n  | 'center'\n  | 'justify'\n  | 'justify-all'\n  | 'match-parent'\n  | 'inherit'\n  | 'initial'\n  | 'revert'\n  | 'revert-layer'\n  | 'unset'\n\nexport type VerticalAlign =\n  | 'middle'\n  | 'baseline'\n  | 'sub'\n  | 'super'\n  | 'text-top'\n  | 'text-bottom'\n  | 'top'\n  | 'bottom'\n  | 'inherit'\n  | 'initial'\n  | 'revert'\n  | 'revert-layer'\n  | 'unset'\n  | number\n\nexport interface ElementStyleType {\n  display: string\n  fontSize: number\n  fontWeight: number\n  fontFamily: string\n  color: string\n  paddingTop: number\n  paddingBottom: number\n  paddingLeft: number\n  paddingRight: number\n  marginTop: number\n  marginBottom: number\n  marginLeft: number\n  marginRight: number\n  height: number | string\n  borderRadius: number\n  lineCap: string\n  flexDirection: string\n  verticalAlign: VerticalAlign\n  textAlign: 'left'\n  justifyContent: 'flex-start'\n  alignItems: 'flex-start'\n  alignSelf: 'auto'\n  whiteSpace: 'normal'\n  zIndex: 1\n  visible: true\n  position: 'static'\n}\n\nconst DISPLAY = {\n  BLOCK: 'block',\n  INLINE_BLOCK: 'inline-block',\n  INLINE: 'inline', // 用户不能设置inline，text默认为inline\n  FLEX: 'flex',\n  NONE: 'none'\n}\n\nconst WIDTH = {\n  AUTO: 'auto',\n  OUTER: '100%'\n}\n\nconst POSITION = {\n  ABSOLUTE: 'absolute',\n  FIXED: 'fixed',\n  RELATIVE: 'relative',\n  STATIC: 'static'\n}\n\nconst TEXT_ALIGN = {\n  LEFT: 'left',\n  RIGHT: 'right',\n  CENTER: 'center'\n}\n\nconst FLEX_DIRECTION = {\n  ROW: 'row',\n  COLUMN: 'column'\n}\n\nconst DEFAULT_STYLES = {\n  display: DISPLAY.BLOCK,\n  fontSize: 14,\n  fontWeight: 400,\n  fontFamily: 'sans-serif',\n  color: '#000',\n  paddingTop: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  paddingRight: 0,\n  marginTop: 0,\n  marginBottom: 0,\n  marginLeft: 0,\n  marginRight: 0,\n  height: WIDTH.AUTO,\n  borderRadius: 0,\n  lineCap: 'square',\n  flexDirection: FLEX_DIRECTION.ROW,\n  verticalAlign: 'middle',\n  textAlign: 'left',\n  justifyContent: 'flex-start',\n  alignItems: 'flex-start',\n  alignSelf: 'auto',\n  whiteSpace: 'normal',\n  zIndex: 1,\n  visible: true,\n  position: 'static'\n}\n\nconst STYLE_CONSTANT = {\n  DISPLAY,\n  WIDTH,\n  POSITION,\n  TEXT_ALIGN,\n  FLEX_DIRECTION,\n  DEFAULT_STYLES\n} as const\n\nexport default STYLE_CONSTANT\n","import { floor, getThrottle, isExact, isWX, walk } from '../utils'\nimport { CanvasElement } from './element'\nimport { Layer } from './layer'\nimport STYLE_CONSTANT from './styleConstant'\nimport { isEndNode } from './treeNode'\nimport { getImage } from './weapp-adapter'\n\nfunction getBorderRadius(element: CanvasElement) {\n  const { paddingWidth, paddingHeight } = element.renderStyles\n  let { borderRadius } = element.renderStyles\n  if (borderRadius * 2 > paddingWidth) {\n    // 如果大于一半，则角不是90度，统一限制最大为一半\n    borderRadius = paddingWidth / 2\n  }\n  if (borderRadius * 2 > paddingHeight) {\n    borderRadius = paddingHeight / 2\n  }\n  if (borderRadius < 0) borderRadius = 0\n  return floor(borderRadius)\n}\n\nexport interface CanvasRenderer {\n  layer: Layer\n  imageBus: Object\n  isAnimate: boolean\n  lastPaintTime: number\n  lastFrameComplete: boolean\n  throttle: (fn: number) => void\n\n  _restore(fn: any): void\n  _path(fn: any): void\n  _helpParentRestoreCtx(el: CanvasElement): void\n  _drawBox(el: CanvasElement): void\n  _drawBackground(el: CanvasElement): void\n  _clip(el: CanvasElement): void\n  _parseBackground(color: string, el: CanvasElement): void\n  _drawText(el: CanvasElement): void\n  _drawImage(el: CanvasElement): void\n  _drawScroll(el: CanvasElement): void\n  _animate(): void\n  isDebug(): boolean\n  getCtx(): CanvasRenderingContext2D\n  getLayer(): Layer\n  paint(el: CanvasElement): void\n  afterPaint(el: CanvasElement): void\n  topBorder(x, y, borderRadius, w, h): void\n  rightBorder(x, y, borderRadius, w, h): void\n  bottomBorder(x, y, borderRadius, w, h): void\n  leftBorder(x, y, borderRadius, w, h): void\n  measureText(\n    el: CanvasElement,\n    text: string\n  ): { width: number; fontHeight: number }\n  getImageInstance(src: string): string[]\n  render(node: CanvasElement): void\n  renderFPS(): void\n  readyToRender(el: CanvasElement): void\n  requestRepaint(el: CanvasElement): void\n  getCanvas(): HTMLCanvasElement\n  stopAnimate(): void\n  onEffectFinished(): Promise<any[]>\n}\n\nexport function createCanvasRenderer(layer: Layer): CanvasRenderer {\n  let renderer: CanvasRenderer = {\n    layer: layer,\n    imageBus: {},\n    isAnimate: false,\n    lastPaintTime: 0,\n    lastFrameComplete: false,\n    throttle: getThrottle(16),\n\n    _restore(callback) {\n      this.getCtx().save()\n      callback()\n      this.getCtx().restore()\n    },\n\n    _path(callback) {\n      this.getCtx().beginPath()\n      callback()\n      this.getCtx().closePath()\n    },\n\n    _helpParentRestoreCtx(element) {\n      if (\n        (element.isVisible() && !isEndNode(element)) ||\n        (!element.isVisible() && element.next)\n      )\n        return\n      this.getCtx().restore()\n      let cur = element.parent\n      while (cur && !cur.next) {\n        // 如果父级也是同级最后一个，再闭合上一个\n        this.getCtx().restore()\n        cur = cur.parent\n      }\n    },\n\n    _drawBox(element) {\n      if (\n        !(element.renderStyles.borderColor || element.renderStyles.shadowBlur)\n      )\n        return\n      const {\n        contentWidth,\n        contentHeight,\n        paddingLeft,\n        paddingTop,\n        borderStyle,\n        paddingRight,\n        paddingBottom,\n        borderLeftWidth,\n        borderRightWidth,\n        borderTopWidth,\n        borderBottomWidth,\n        borderWidth\n      } = element.renderStyles\n\n      let borderRadius = getBorderRadius(element)\n\n      // 这里是计算画border的位置，起点位置是在线条中间，所以要考虑线条宽度\n      let x =\n        element.contentX -\n        element.renderStyles.paddingLeft -\n        borderLeftWidth / 2\n      let y =\n        element.contentY - element.renderStyles.paddingTop - borderTopWidth / 2\n      let w =\n        contentWidth +\n        paddingLeft +\n        paddingRight +\n        (borderLeftWidth + borderRightWidth) / 2\n      let h =\n        contentHeight +\n        paddingTop +\n        paddingBottom +\n        (borderTopWidth + borderBottomWidth) / 2\n\n      this.getCtx().lineCap = element.renderStyles.lineCap\n      this.getCtx().strokeStyle = element.renderStyles.borderColor\n      this.getCtx().lineJoin = 'round'\n\n      // 实现虚线\n      if (borderStyle && borderStyle !== 'solid') {\n        if (Array.isArray(borderStyle)) {\n          this.getCtx().setLineDash(borderStyle)\n        } else {\n          this.getCtx().setLineDash([5, 5])\n        }\n      }\n\n      const stroke = (borderWidth) => {\n        // 有样式则绘制出来\n        this.getCtx().lineWidth = borderWidth\n        this.getCtx().stroke()\n      }\n      this._restore(() => {\n        this._path(() => {\n          if (element.renderStyles.borderTopWidth) {\n            this.topBorder({\n              x,\n              y,\n              borderRadius: borderRadius\n                ? borderRadius + element.renderStyles.borderTopWidth / 2\n                : 0,\n              w,\n              h\n            })\n            // 判断borderwidth 如果都是一样宽，只需要最后一次性绘制，提高性能\n            !borderWidth && stroke(element.renderStyles.borderTopWidth)\n          }\n          if (element.renderStyles.borderRightWidth) {\n            this.getCtx().moveTo(\n              x +\n                w -\n                borderRadius -\n                (borderRadius ? element.renderStyles.borderTopWidth / 2 : 0),\n              y\n            )\n            this.rightBorder({\n              x,\n              y,\n              borderRadius: borderRadius\n                ? borderRadius + element.renderStyles.borderRightWidth / 2\n                : 0,\n              w,\n              h\n            })\n            !borderWidth && stroke(element.renderStyles.borderRightWidth)\n          }\n          if (element.renderStyles.borderBottomWidth) {\n            this.getCtx().moveTo(\n              x + w,\n              y +\n                h -\n                borderRadius -\n                (borderRadius ? element.renderStyles.borderRightWidth / 2 : 0)\n            )\n            this.bottomBorder({\n              x,\n              y,\n              borderRadius: borderRadius\n                ? borderRadius + element.renderStyles.borderBottomWidth / 2\n                : 0,\n              w,\n              h\n            })\n            !borderWidth && stroke(element.renderStyles.borderBottomWidth)\n          }\n          if (element.renderStyles.borderLeftWidth) {\n            this.getCtx().moveTo(\n              x +\n                borderRadius +\n                (borderRadius ? element.renderStyles.borderBottomWidth / 2 : 0),\n              y + h\n            )\n            this.leftBorder({\n              x,\n              y,\n              borderRadius: borderRadius\n                ? borderRadius + element.renderStyles.borderLeftWidth / 2\n                : 0,\n              w,\n              h\n            })\n            stroke(element.renderStyles.borderLeftWidth)\n          }\n        })\n      })\n    },\n\n    _drawBackground(element) {\n      const {\n        backgroundColor,\n        contentWidth,\n        contentHeight,\n        shadowColor,\n        shadowBlur,\n        paddingLeft,\n        paddingRight,\n        paddingTop,\n        paddingBottom,\n        opacity,\n        shadowOffsetX,\n        shadowOffsetY,\n        borderLeftWidth,\n        borderRightWidth,\n        borderTopWidth,\n        borderBottomWidth\n      } = element.renderStyles\n      const ctx = this.getCtx()\n\n      let borderRadius = getBorderRadius(element)\n\n      // 这里是计算画border的位置，起点位置是在线条中间，所以要考虑线条宽度\n      let x =\n        element.contentX - element.renderStyles.paddingLeft - borderLeftWidth\n      let y =\n        element.contentY - element.renderStyles.paddingTop - borderTopWidth\n      let w =\n        contentWidth +\n        paddingLeft +\n        paddingRight +\n        (borderLeftWidth + borderRightWidth)\n      let h =\n        contentHeight +\n        paddingTop +\n        paddingBottom +\n        (borderTopWidth + borderBottomWidth)\n\n      if (isExact(opacity)) {\n        // 绘制透明图\n        ctx.globalAlpha = opacity\n      }\n\n      // 绘制boxshadow\n      // 需要在clip之前\n      if (shadowColor && shadowBlur) {\n        this._restore(() => {\n          this._path(() => {\n            this.topBorder({ x, y, borderRadius, w, h })\n            this.rightBorder({ x, y, borderRadius, w, h })\n            this.bottomBorder({ x, y, borderRadius, w, h })\n            this.leftBorder({ x, y, borderRadius, w, h })\n          })\n          if (isExact(shadowOffsetX)) {\n            this.getCtx().shadowOffsetX = shadowOffsetX\n          }\n          if (isExact(shadowOffsetY)) {\n            this.getCtx().shadowOffsetY = shadowOffsetY\n          }\n          this.getCtx().shadowBlur = shadowBlur\n          this.getCtx().shadowColor = shadowColor\n          this.getCtx().fillStyle = shadowColor\n          this.getCtx().fill()\n        })\n      }\n\n      this._clip(element)\n\n      // draw background\n      if (backgroundColor) {\n        this.getCtx().fillStyle = this._parseBackground(\n          backgroundColor,\n          element\n        )\n        this.getCtx().fillRect(\n          element.contentX - paddingLeft,\n          element.contentY - paddingTop,\n          contentWidth + paddingLeft + paddingRight,\n          contentHeight + paddingTop + paddingBottom\n        )\n      }\n\n      // for debug\n      if (this.isDebug()) {\n        this.getCtx().strokeStyle = element.debugColor || 'green'\n        this.getCtx().strokeRect(\n          element.contentX,\n          element.contentY,\n          element.renderStyles.contentWidth,\n          element.renderStyles.contentHeight\n        )\n        // ctx.strokeStyle = '#fff'\n        // ctx.strokeText(`${parseInt(this.contentX)} ${parseInt(this.contentY)} ${contentWidth} ${contentHeight}`, this.contentX + 100, this.contentY + 10)\n\n        //\n      }\n    },\n\n    _clip(element) {\n      if (element.renderStyles.overflow !== 'hidden') return\n      const {\n        contentWidth,\n        contentHeight,\n        paddingLeft,\n        paddingTop,\n        paddingRight,\n        paddingBottom,\n        borderLeftWidth,\n        borderRightWidth,\n        borderTopWidth,\n        borderBottomWidth\n      } = element.renderStyles\n\n      let borderRadius = getBorderRadius(element)\n\n      const borderBase = 0.7\n      // 为了把border也切进去\n      let x =\n        element.contentX -\n        element.renderStyles.paddingLeft -\n        borderLeftWidth * borderBase\n      let y =\n        element.contentY -\n        element.renderStyles.paddingTop -\n        borderTopWidth * borderBase\n      let w =\n        contentWidth +\n        paddingLeft +\n        paddingRight +\n        (borderLeftWidth + borderRightWidth) * borderBase\n      let h =\n        contentHeight +\n        paddingTop +\n        paddingBottom +\n        (borderTopWidth + borderBottomWidth) * borderBase\n\n      this._path(() => {\n        this.topBorder({ x, y, borderRadius, w, h })\n        this.rightBorder({ x, y, borderRadius, w, h })\n        this.bottomBorder({ x, y, borderRadius, w, h })\n        this.leftBorder({ x, y, borderRadius, w, h })\n      })\n\n      this.getCtx().clip()\n    },\n\n    _parseBackground(color, element) {\n      if (Array.isArray(color)) {\n        const gradient = this.getCtx().createLinearGradient(\n          element.contentX,\n          element.contentY,\n          element.contentX + element.renderStyles.contentWidth,\n          element.contentY + element.renderStyles.contentHeight\n        )\n        for (let i = 0; i < color.length; i++) {\n          if (i === 0) {\n            gradient.addColorStop(0, color[0])\n          } else {\n            gradient.addColorStop(i / (color.length - 1), color[i])\n          }\n        }\n        return gradient\n      } else {\n        return color\n      }\n    },\n\n    _drawText(element) {\n      const {\n        color,\n        contentWidth,\n        lineHeight,\n        textAlign,\n        textIndent,\n        textDecoration\n      } = element.renderStyles\n      let x = element.contentX\n      this.getCtx().fillStyle = color\n      this.getCtx().textAlign = textAlign\n      this.getCtx().font = element._getFont()\n      this.getCtx().textBaseline = 'middle'\n      if (textAlign === STYLE_CONSTANT.TEXT_ALIGN.RIGHT) {\n        x = element.contentX + contentWidth\n      } else if (textAlign === STYLE_CONSTANT.TEXT_ALIGN.CENTER) {\n        x = element.contentX + contentWidth / 2\n      }\n      let _x = x\n      let _y = 0\n      let line\n      for (let index = 0; index < element._lines.length; index++) {\n        line = element._lines[index]\n        if (index === 0 && textIndent) {\n          // 第一行实现textIndent\n          _x = x + textIndent\n        } else {\n          _x = x\n        }\n        _y = element.contentY + lineHeight / 2 + lineHeight * index + 0.5\n\n        this.getCtx().fillText(line.text, _x, _y)\n\n        if (isWX && element.renderStyles.fontWeight !== 400) {\n          // 小程序 字体加粗不生效\n          const offset = element.renderStyles.fontSize * 0.001\n          this.getCtx().fillText(line.text, _x - offset, _y)\n        }\n\n        // draw decoration\n        if (textDecoration) {\n          const decorationType = textDecoration[0]\n          _y += 1\n          this._restore(() => {\n            this._path(() => {\n              let decorationY = _y\n              if (decorationType === 'underline') {\n                decorationY = _y + element._layout.fontHeight / 2\n              } else if (decorationType === 'line-through') {\n                decorationY = _y\n              }\n              this.getCtx().moveTo(_x, decorationY)\n              this.getCtx().lineTo(_x + line.layout.width, decorationY)\n            })\n            this.getCtx().strokeStyle = color\n            this.getCtx().stroke()\n          })\n        }\n      }\n    },\n\n    _drawImage(element) {\n      if (!element._image) return\n      const { contentWidth, contentHeight } = element.renderStyles\n      const { mode } = element.options.attrs\n      const {\n        sx,\n        sy,\n        swidth,\n        sheight,\n        dx,\n        dy,\n        dwidth,\n        dheight,\n        width: imageW,\n        height: imageH\n      } = element._imageInfo\n      if (mode === 'aspectFill') {\n        this.getCtx().drawImage(\n          element._image,\n          sx,\n          sy,\n          swidth,\n          sheight,\n          element.contentX,\n          element.contentY,\n          contentWidth,\n          contentHeight\n        )\n      } else if (mode === 'aspectFit') {\n        this.getCtx().drawImage(\n          element._image,\n          0,\n          0,\n          imageW,\n          imageH,\n          dx,\n          dy,\n          dwidth,\n          dheight\n        )\n      } else {\n        this.getCtx().drawImage(\n          element._image,\n          element.contentX,\n          element.contentY,\n          contentWidth,\n          contentHeight\n        )\n      }\n    },\n\n    _drawScroll(element) {\n      this.getCtx().translate(element.currentScrollX, element.currentScrollY)\n    },\n\n    _animate() {\n      const now = Date.now()\n      this.render(this.element)\n      if (!this.isAnimate) return\n      window.requestAnimationFrame(() => this._animate(now))\n    },\n\n    isDebug() {\n      return this.getLayer().options && this.getLayer().options.debug\n    },\n\n    getCtx() {\n      return this.layer.ctx\n    },\n\n    getLayer() {\n      return this.layer\n    },\n\n    paint(element) {\n      this.getCtx().save()\n\n      element.paint(this.lastPaintTime)\n\n      this.afterPaint(element)\n    },\n\n    afterPaint(element) {\n      // 这里通过this.ctx栈实现了overflow\n      // 第一步判断没有子元素，绘制完成即restore 有子元素需要子元素全部绘制完毕再restore\n      if (!element.hasChildren() || element.type === 'text') {\n        this.getCtx().restore()\n      }\n\n      // 如果到了层级的最后一个 释放父级的stack\n      this._helpParentRestoreCtx(element)\n    },\n\n    topBorder({ x, y, borderRadius, w, h }) {\n      // 左上角开始\n      this.getCtx().moveTo(x, y + borderRadius)\n      borderRadius &&\n        this.getCtx().arc(\n          x + borderRadius,\n          y + borderRadius,\n          borderRadius,\n          2 * angle,\n          3 * angle\n        )\n      this.getCtx().lineTo(x + w - borderRadius, y)\n    },\n\n    rightBorder({ x, y, borderRadius, w, h }) {\n      // 右上角\n      // this.getCtx().moveTo(x + w - borderRadius, y)\n      borderRadius &&\n        this.getCtx().arc(\n          x + w - borderRadius,\n          y + borderRadius,\n          borderRadius,\n          3 * angle,\n          4 * angle\n        )\n      this.getCtx().lineTo(x + w, y + h - borderRadius)\n    },\n\n    bottomBorder({ x, y, borderRadius, w, h }) {\n      // 右下角\n      // this.getCtx().moveTo(x + w, y + h - borderRadius)\n      borderRadius &&\n        this.getCtx().arc(\n          x + w - borderRadius,\n          y + h - borderRadius,\n          borderRadius,\n          0,\n          angle\n        )\n      this.getCtx().lineTo(x + borderRadius, y + h)\n    },\n\n    leftBorder({ x, y, borderRadius, w, h }) {\n      // 左下角\n      borderRadius &&\n        this.getCtx().arc(\n          x + borderRadius,\n          y + h - borderRadius,\n          borderRadius,\n          angle,\n          angle * 2\n        )\n      this.getCtx().lineTo(x, y + borderRadius)\n    },\n\n    /**\n     * @param {String} text\n     * @return {Object<width,height>}\n     */\n    measureText(element, text) {\n      let w = 0\n      let h = 0\n      this._restore(() => {\n        this.getCtx().font = element._getFont()\n        const { width, actualBoundingBoxAscent } =\n          this.getCtx().measureText(text)\n        w = width\n        h = actualBoundingBoxAscent || element.renderStyles.fontSize * 0.7\n      })\n      return {\n        width: w,\n        fontHeight: h + 1\n      }\n    },\n\n    /**\n     * 这里应该保证onload src等接口\n     */\n    getImageInstance(src) {\n      let image = null\n\n      // 同样的路径返回缓存\n      if (this.imageBus[src]) {\n        image = this.imageBus[src]\n      } else {\n        if (isWX) {\n          if (this.getCanvas()) {\n            image = this.getCanvas().createImage()\n          } else {\n            console.warn('小程序请使用设置canvas参数以创建图片')\n            image = getImage(src)\n          }\n        } else {\n          image = new Image()\n          image.crossOrigin = 'anonymous'\n        }\n\n        if (src) {\n          this.imageBus[src] = new Promise((resolve, reject) => {\n            image.onload = (e) => {\n              resolve({\n                image: isWX && !this.getCanvas() ? e.image : image,\n                info: {\n                  width: isWX ? image.width : e.target.width,\n                  height: isWX ? image.height : e.target.height\n                }\n              })\n            }\n            image.onerror = (err) => {\n              reject(err)\n            }\n          })\n        }\n\n        image.src = src\n      }\n      return this.imageBus[src]\n    },\n\n    render(node) {\n      this.lastFrameComplete = false\n      this.lastPaintTime = Date.now()\n      if (!node.parent) {\n        // root\n        this.getCtx().clearRect(\n          0,\n          0,\n          this.getLayer().options.width,\n          this.getLayer().options.height\n        )\n      } else {\n        this.getCtx().clearRect(\n          node.x,\n          node.y,\n          node.renderStyles.width,\n          node.renderStyles.height\n        )\n      }\n      let element = null\n      walk(node, (renderNode, callContinue, callNext) => {\n        if (renderNode.isVisible()) {\n          // 可见的才渲染\n          this.paint(renderNode)\n        } else {\n          // 跳过整个子节点\n          callNext()\n          this._helpParentRestoreCtx(renderNode)\n        }\n      })\n      if (isWX) {\n        // 兼容小程序\n        this.getCtx().draw && this.getCtx().draw()\n      }\n\n      this.lastFrameComplete = true\n    },\n\n    renderFPS() {},\n\n    readyToRender(element) {\n      // this.element = generateRenderTree(element)\n      this.element = element\n\n      const options = this.getLayer().options\n\n      this.lastPaintTime = Date.now()\n\n      if (options && options.animate) {\n        this.animate()\n      } else {\n        this.render(this.element)\n      }\n    },\n\n    requestRepaint(element) {\n      if (this.isAnimate) return\n      // 如果已经有frame在排队等待了 忽略\n      // if(!this.lastFrameComplete) return\n      // let nextFrameTime = Date.now() - this.lastPaintTime\n      // if(nextFrameTime < 16){\n      //   setTimeout(() => this.render(this.element),nextFrameTime)\n      // }else{\n      this.render(this.element)\n      // }\n    },\n\n    // could be null\n    getCanvas() {\n      const options = this.getLayer().options\n      return (options && options.canvas) || null\n    },\n\n    stopAnimate() {\n      this.isAnimate = false\n    },\n\n    // 所有副作用完成\n    // 图片加载异步请求\n    onEffectFinished() {\n      const list = Object.keys(this.imageBus).map((key) => {\n        return this.imageBus[key]\n      })\n      return Promise.all(list)\n    }\n  }\n\n  return renderer\n}\n","export function getThrottle(threshold: number) {\n  let timer\n  return function (fn) {\n    if (!timer) {\n      timer = setTimeout(function () {\n        fn()\n        timer = null\n      }, threshold)\n    }\n  }\n}\n","// 只支持小程序最新的支持同层渲染的canvas api,\n// 不用了\nexport function getImage(url) {\n  const instance = { onload: () => {} }\n  new Promise((resolve, reject) => {\n    wx.downloadFile({\n      url: url,\n      success(res) {\n        wx.getImageInfo({\n          src: res.tempFilePath,\n          success(res1) {\n            resolve({\n              target: {\n                width: res1.width,\n                height: res1.height\n              },\n              image: res.tempFilePath\n            })\n          }\n        })\n      },\n      fail(err) {\n        reject(err)\n      }\n    })\n  })\n    .then((res) => {\n      instance.onload(res)\n    })\n    .catch((err) => {})\n  return instance\n}\n","import { isExact, isAuto, isOuter } from '../utils'\nimport CONSTANT from './styleConstant'\n\nexport default function (element) {\n  _completeFlex(element)\n\n  _completeWidth(element)\n\n  _completeBorder(element)\n\n  _completeFont(element)\n\n  _completePaddingMargin(element)\n}\n\nfunction _completePaddingMargin(element) {\n  if (element.styles.padding) {\n    if (isExact(element.styles.padding)) {\n      element.styles.paddingLeft = element.styles.padding\n      element.styles.paddingBottom = element.styles.padding\n      element.styles.paddingRight = element.styles.padding\n      element.styles.paddingTop = element.styles.padding\n    } else if (Array.isArray(element.styles.padding)) {\n      // 支持数组[10,20]相当于padding:10px 20px;\n      if (element.styles.padding.length === 2) {\n        element.styles.paddingLeft = element.styles.paddingRight =\n          element.styles.padding[1]\n        element.styles.paddingBottom = element.styles.paddingTop =\n          element.styles.padding[0]\n      } else if (element.styles.padding.length === 4) {\n        element.styles.paddingLeft = element.styles.padding[3]\n        element.styles.paddingBottom = element.styles.padding[2]\n        element.styles.paddingRight = element.styles.padding[1]\n        element.styles.paddingTop = element.styles.padding[0]\n      }\n    }\n  }\n\n  if (isExact(element.styles.margin)) {\n    element.styles.marginLeft = element.styles.margin\n    element.styles.marginBottom = element.styles.margin\n    element.styles.marginRight = element.styles.margin\n    element.styles.marginTop = element.styles.margin\n  } else if (Array.isArray(element.styles.margin)) {\n    // 支持数组[10,20]相当于padding:10px 20px;\n    if (element.styles.margin.length === 2) {\n      element.styles.marginLeft = element.styles.marginRight =\n        element.styles.margin[1]\n      element.styles.marginBottom = element.styles.marginTop =\n        element.styles.margin[0]\n    } else if (element.styles.margin.length === 4) {\n      element.styles.marginLeft = element.styles.margin[3]\n      element.styles.marginBottom = element.styles.margin[2]\n      element.styles.marginRight = element.styles.margin[1]\n      element.styles.marginTop = element.styles.margin[0]\n    }\n  }\n}\n\n/**\n * borderwidth到各个边\n */\nfunction _completeBorder(element) {\n  let {\n    borderWidth,\n    borderLeftWidth,\n    borderRightWidth,\n    borderBottomWidth,\n    borderTopWidth,\n    borderRadius\n  } = element.styles\n  if (!borderWidth) {\n    element.styles.borderWidth = 0\n    borderWidth = 0\n  }\n  if (Array.isArray(borderWidth)) {\n    element.styles.borderTopWidth = borderWidth[0]\n    element.styles.borderRightWidth = borderWidth[1]\n    element.styles.borderBottomWidth = borderWidth[2]\n    element.styles.borderLeftWidth = borderWidth[3]\n  } else {\n    if (!borderLeftWidth) {\n      element.styles.borderLeftWidth = borderWidth\n    }\n    if (!borderRightWidth) {\n      element.styles.borderRightWidth = borderWidth\n    }\n    if (!borderBottomWidth) {\n      element.styles.borderBottomWidth = borderWidth\n    }\n    if (!borderTopWidth) {\n      element.styles.borderTopWidth = borderWidth\n    }\n  }\n  if (borderRadius) {\n    element.styles.overflow = 'hidden'\n  }\n}\n\nfunction _completeWidth(element) {\n  if (!element.styles.width) {\n    if (\n      element.styles.display === CONSTANT.DISPLAY.INLINE_BLOCK ||\n      element.styles.display === CONSTANT.DISPLAY.INLINE ||\n      !element.isInFlow()\n    ) {\n      element.styles.width = CONSTANT.WIDTH.AUTO\n    } else if (\n      element.styles.display === CONSTANT.DISPLAY.BLOCK ||\n      element.styles.display === CONSTANT.DISPLAY.FLEX\n    ) {\n      element.styles.width = CONSTANT.WIDTH.OUTER\n    } else {\n      element.styles.width = 0\n    }\n  }\n\n  if (isOuter(element.styles.width)) {\n    if (element.parent && isAuto(element.parent.styles.width)) {\n      element.styles.width = CONSTANT.WIDTH.AUTO\n    }\n  }\n\n  if (isOuter(element.styles.height)) {\n    if (element.parent && isAuto(element.parent.styles.height)) {\n      element.styles.height = CONSTANT.WIDTH.AUTO\n    }\n  }\n}\n\nfunction _completeFont(element) {\n  if (element.styles.fontSize && !element.styles.lineHeight) {\n    element.styles.lineHeight = element.styles.fontSize * 1.4\n  }\n}\n\nfunction _completeFlex(element) {\n  if (\n    element.parent &&\n    element.parent.styles.display === CONSTANT.DISPLAY.FLEX\n  ) {\n    // flex布局内 width 和flex需要有一个\n    if (!element.styles.flex) {\n      if (!isExact(element.styles.height) && !isExact(element.styles.width)) {\n        element.styles.flex = 1\n      }\n    } else {\n      if (\n        element.parent.styles.flexDirection === 'column' &&\n        isExact(element.styles.flex)\n      ) {\n        element.styles.height = 0\n      } else if (\n        element.parent.styles.flexDirection === 'row' &&\n        isExact(element.styles.flex)\n      ) {\n        element.styles.width = 0\n      }\n    }\n  }\n}\n","import { isAuto } from '../utils'\nimport { CanvasElement } from './element'\n\nexport interface Line {\n  width: number\n  height: number\n  contentWidth: number // 右边界\n  x: number\n  y: number // 上\n  right: number\n  doorClosed: boolean // 是否允许加入\n  outerWidth: number\n  container: CanvasElement | null\n  elements: CanvasElement[]\n  start: CanvasElement | null // 起点，行最左边第一个\n  end: CanvasElement | null // 结束\n  offsetX: number\n  id: number\n  _initHeight(el: CanvasElement): void\n  _initLayout(el: CanvasElement): void\n  _getOffsetY(el: CanvasElement): number\n  _refreshWidthHeight(el: CanvasElement): void\n  _closeLine(): void\n  _getPrevLine(el: CanvasElement): { x: number; y: number }\n  _refreshXAlign(): void\n  bindElement(el: CanvasElement): void\n  refreshElementPosition(el: CanvasElement): void\n  addElement(el: CanvasElement): void\n  canIEnter(el: CanvasElement): boolean\n}\n\nlet id = 0\n\nexport function createLine() {\n  let line: Line = {\n    width: 0,\n    height: 0,\n    contentWidth: 0, // 右边界\n    x: 0,\n    y: 0, // 上\n    right: 0,\n    doorClosed: false, // 是否允许加入\n    outerWidth: 0,\n    container: null,\n    elements: [] as CanvasElement[],\n    start: null, // 起点，行最左边第一个\n    end: null, // 结束\n    offsetX: 0,\n    id: ++id,\n\n    _initHeight(el) {\n      line.height =\n        (el.parent && el.parent.context.renderStyles.lineHeight) || 0\n    },\n\n    _initLayout(el) {\n      line.right = el.getContainerLayout().contentX || 0\n      line.x = el.getContainerLayout().contentX || 0\n      line.y = line._getPrevLine(el).y\n    },\n\n    _getOffsetY(el) {\n      if (el.renderStyles.verticalAlign === 'bottom') {\n        return line.height - el.renderStyles.height\n      } else if (el.renderStyles.verticalAlign === 'middle') {\n        return (line.height - el.renderStyles.height) / 2\n      } else {\n        return 0\n      }\n    },\n\n    _refreshWidthHeight(el) {\n      if (el.renderStyles.height > line.height) {\n        line.height = el.renderStyles.height\n      }\n\n      line.width += el.renderStyles.width\n    },\n\n    _closeLine() {\n      // new line\n      line.end = line.elements[line.elements.length - 1]\n      line._refreshXAlign()\n    },\n\n    _getPrevLine(el: CanvasElement) {\n      if (el.prev) {\n        const prevLine = el.prev.context.line\n        if (prevLine) {\n          return { y: prevLine.height + prevLine.y, x: prevLine.x }\n        } else {\n          const prevLayout = el.getPrevLayout()\n          return {\n            y: prevLayout.y + prevLayout.height,\n            x: prevLayout.x\n          }\n        }\n      } else {\n        return {\n          y: el.getContainerLayout().contentY,\n          x: el.getContainerLayout().contentX\n        }\n      }\n    },\n\n    _refreshXAlign() {\n      if (line.outerWidth > 5000) return\n      if (!line.end) return\n      if (!line.end.parent) return\n      let offsetX = line.outerWidth - line.width\n      if (line.end.parent.context.renderStyles.textAlign === 'center') {\n        offsetX = offsetX / 2\n      } else if (line.end.parent.context.renderStyles.textAlign === 'left') {\n        offsetX = 0\n      }\n      line.offsetX = offsetX\n    },\n\n    bindElement(el) {\n      line.container = el.parent?.context\n      line._initHeight(el)\n\n      line.outerWidth =\n        el.parent && isAuto(el.parent.context.styles.width)\n          ? Infinity\n          : el.parent?.context.renderStyles.contentWidth\n\n      line.start = el\n      line.addElement(el)\n    },\n\n    refreshElementPosition(el) {\n      if (line.start === el) {\n        line._initLayout(el)\n      }\n      // 刷新位置，首先以左边计算\n      el.x = line.right + line.offsetX\n      el.y = line.y + line._getOffsetY(el)\n      // + (line.height - el.renderStyles.height) / 2\n      line.right += el.renderStyles.width\n    },\n\n    addElement(el: CanvasElement) {\n      line.elements.push(el)\n      el.line = line\n      line._refreshWidthHeight(el)\n\n      if (!el.next || el.next.context.renderStyles.display !== 'inline-block') {\n        line._closeLine()\n      }\n    },\n\n    canIEnter(el: CanvasElement) {\n      if (el.renderStyles.width + line.width > line.outerWidth) {\n        line._closeLine()\n        return false\n      } else {\n        return true\n      }\n    }\n  }\n\n  return line\n}\n","import { CanvasElement } from './element'\nimport { isExact, isAuto } from '../utils'\nimport STYLE_CONSTANT from './styleConstant'\n\nconst KEY = {\n  [STYLE_CONSTANT.FLEX_DIRECTION.ROW]: {\n    width: 'width',\n    contentWidth: 'contentWidth',\n    x: 'x',\n    y: 'y',\n    contentX: 'contentX',\n    height: 'height',\n    contentHeight: 'contentHeight'\n  },\n  [STYLE_CONSTANT.FLEX_DIRECTION.COLUMN]: {\n    width: 'height',\n    contentWidth: 'contentHeight',\n    x: 'y',\n    y: 'x',\n    contentX: 'contentY',\n    height: 'width',\n    contentHeight: 'contentWidth'\n  }\n}\n\nexport interface FlexBox {\n  key: null | string\n  exactValue: number\n  flexTotal: number\n  _closeLine(): void\n  _initHeight(): void\n  _refreshWidthHeight(el: CanvasElement): void\n  _initLayout(el: CanvasElement): void\n  _refreshElementPosition(el: CanvasElement): void\n  _calcFlex(): void\n  _refreshXAlign(): void\n  _getOffsetY(el: CanvasElement): number\n  bindElement(el: CanvasElement): void\n  addElement(el: CanvasElement): void\n}\n\n// 目前flex是基于inline-block的简单实现，只支持row方向width + flex混用\nexport function createFlexBox(): FlexBox {\n  let flexBox: FlexBox = {\n    key: null,\n    exactValue: 0,\n    flexTotal: 0,\n    _closeLine() {\n      super.closeLine()\n      this.calcFlex()\n    },\n\n    _initHeight() {\n      this[this.key.height] = 0\n    },\n\n    _refreshWidthHeight(el) {\n      if (el.renderStyles[this.key.height] > this[this.key.height]) {\n        this[this.key.height] = el.renderStyles[this.key.height]\n      }\n\n      this[this.key.width] += el.renderStyles[this.key.width]\n    },\n\n    _initLayout(el) {\n      this.right = el.getContainerLayout()[this.key.contentX]\n      this[this.key.x] = el.getContainerLayout()[this.key.contentX]\n      this[this.key.y] = this.getPreLine(el)[this.key.y]\n    },\n\n    _refreshElementPosition(el) {\n      if (this.start === el) {\n        this.initLayout(el)\n      }\n      // 刷新位置，首先以左边计算\n      el[this.key.x] = this.right + this.offsetX\n      el[this.key.y] = this[this.key.y] + this.getOffsetY(el)\n      // + (this.height - el.renderStyles.height) / 2\n      this.right += el.renderStyles[this.key.width]\n    },\n\n    _calcFlex() {\n      const { [this.key.contentWidth]: containerWidth } =\n        this.container.renderStyles\n      this.elements.forEach((child) => {\n        if (isExact(child.styles.flex)) {\n          child.renderStyles[this.key.width] =\n            (child.styles.flex / this.flexTotal) *\n            (containerWidth - this.exactValue)\n          child._refreshContentWithLayout()\n        }\n      })\n    },\n\n    _refreshXAlign() {\n      if (!this.end.parent) return\n      let offsetX = this.outerWidth - this[this.key.width]\n      if (this.end.parent.renderStyles.justifyContent === 'center') {\n        offsetX = offsetX / 2\n      } else if (this.end.parent.renderStyles.justifyContent === 'flex-start') {\n        offsetX = 0\n      }\n      this.offsetX = offsetX\n    },\n\n    _getOffsetY(el) {\n      if (el.renderStyles.alignSelf === 'flex-end') {\n        return (\n          this.container.renderStyles[this.key.contentHeight] -\n          el.renderStyles[this.key.height]\n        )\n      } else if (el.renderStyles.alignSelf === 'center') {\n        return (\n          (this.container.renderStyles[this.key.contentHeight] -\n            el.renderStyles[this.key.height]) /\n          2\n        )\n      } else {\n        return 0\n      }\n    },\n\n    bindElement(el) {\n      this.container = el.parent\n      if (el.parent) {\n        this.key = KEY[el.parent.context.renderStyles.flexDirection]\n      }\n      this.initHeight(el)\n      this.outerWidth =\n        el.parent && isAuto(el.parent.context.styles[this.key.width])\n          ? Infinity\n          : el.parent?.context.renderStyles[this.key.contentWidth]\n      this.start = el\n      this.add(el)\n    },\n\n    addElement(el) {\n      if (isExact(el.styles[this.key.width])) {\n        this.exactValue += el.renderStyles[this.key.width]\n      } else if (isExact(el.styles.flex)) {\n        this.flexTotal += el.renderStyles.flex\n      }\n\n      this.elements.push(el)\n      el.line = this\n      this.refreshWidthHeight(el)\n\n      if (!el.next) {\n        this.closeLine()\n      }\n    }\n  }\n\n  return flexBox\n}\n","import STYLE_CONSTANT, { ElementStyleType } from './styleConstant'\nimport { TreeNode, createTreeNode } from './treeNode'\nimport { Layer } from './layer'\nimport completeStyles from './completeStyles'\nimport {\n  isAuto,\n  isOuter,\n  isExact,\n  parseOuter,\n  findRelativeTo,\n  floor\n} from '../utils'\nimport { Line, createLine } from './line'\nimport { createFlexBox } from './flexBox'\n\nexport enum ElementTypes {\n  root = 'root',\n  view = 'view',\n  text = 'text',\n  img = 'img'\n}\n\nexport type Layout = {\n  width: number\n  height: number\n  x: number\n  y: number\n  paddingTop?: number\n  paddingBottom?: number\n  paddingLeft?: number\n  paddingRight?: number\n  marginLeft?: number\n  marginRight?: number\n  marginTop?: number\n  marginBottom?: number\n  contentX?: number\n  contentY?: number\n  contentWidth?: number\n  contentHeight?: number\n}\n\ntype ExtendStyles = {\n  textAlign?: string\n  lineHeight?: number\n  fontSize?: number\n  color?: string\n  fontFamily?: string\n  alignItems?: string\n  alignSelf?: string\n  visible?: string\n}\n\nexport type ElementOptions = {\n  styles?: ElementStyleType\n  text?: string\n}\n\nexport interface CanvasElement extends TreeNode {\n  __v_isElement: boolean\n  type: ElementTypes\n  options: ElementOptions\n  styles: ElementStyleType\n  renderStyles: any\n  debugColor: string | null\n  container: CanvasElement | null\n  layer: Layer | null\n  line: Line | null\n  x: number\n  y: number\n  contentX: number\n  contentY: number\n  left: number\n  top: number\n  height: number\n  width: number\n  treeNode: TreeNode\n  _initStyles(): void\n  _initRenderStyles(): void\n  _getParentStyles(curStyles: ElementStyleType): ElementStyleType\n  _getDefaultStyles(): ElementStyleType\n  _completeStyles(): void\n  _getChildrenInFlow(): CanvasElement[]\n  _reflow(): void\n  _initWidthHeight(): void\n  _initPosition(): void\n  _InFlexBox(): void\n  _refreshLayoutWithContent(): void\n  _refreshContentWithLayout(): void\n  _getTotalBorderWidth(): void\n  _getTotalBorderHeight(): void\n  _bindLine(): void\n  _bindFlexBox(): void\n  _measureLayout(): void\n  init(): void\n  mount(layer: any): void\n  appendChild(element: CanvasElement): void\n  getContainerLayout(): Layout\n  getPrevLayout(): Layout\n  isInFlow(): boolean\n  isVisible(): boolean\n  paint(lastPaintTime: number): void\n}\n\nexport function createElement(\n  type: ElementTypes,\n  options: ElementOptions = {},\n  container: CanvasElement | null,\n  layer: Layer\n): CanvasElement {\n  console.log('createElement', type, options, container, layer)\n\n  let element = {\n    __v_isElement: true,\n    type,\n    options,\n    styles: {},\n    renderStyles: {},\n    debugColor: null,\n    x: 0,\n    y: 0,\n    contentX: 0,\n    contentY: 0,\n    left: 0,\n    top: 0,\n    height: 0,\n    width: 0,\n\n    container,\n    root: layer ? layer.node : null,\n    layer,\n\n    get treeNode() {\n      return treeNode\n    },\n\n    _initStyles() {\n      console.log('_initStyle', element)\n      element.styles = Object.assign(\n        {},\n        element._getDefaultStyles(),\n        element._getParentStyles(),\n        element.options.style || {}\n      )\n      console.log('_initStyles-00000000', element.styles)\n\n      element._completeStyles()\n\n      element._initRenderStyles()\n\n      console.log('_initStyles', element.styles, element.renderStyles)\n    },\n\n    _initRenderStyles() {\n      const renderStyles = { ...element.styles }\n      const parentWidth = element.getContainerLayout().contentWidth\n      const parentHeight = element.getContainerLayout().contentHeight\n\n      if (isAuto(renderStyles.width)) {\n        renderStyles.paddingWidth = 0\n      } else if (isOuter(renderStyles.width)) {\n        renderStyles.paddingWidth =\n          parseOuter(renderStyles.width) * parentWidth -\n          renderStyles.marginLeft -\n          renderStyles.marginRight\n      } else {\n        renderStyles.paddingWidth = renderStyles.width\n      }\n\n      if (isAuto(renderStyles.height)) {\n        renderStyles.paddingHeight = 0\n      } else if (isOuter(renderStyles.height)) {\n        renderStyles.paddingHeight =\n          parseOuter(renderStyles.height) * parentHeight -\n          renderStyles.marginTop -\n          renderStyles.marginBottom\n      } else {\n        renderStyles.paddingHeight = renderStyles.height\n      }\n\n      if (!renderStyles.paddingWidth) renderStyles.paddingWidth = 0\n      if (!renderStyles.paddingHeight) renderStyles.paddingHeight = 0\n\n      // 初始化contentWidth\n      renderStyles.contentWidth =\n        renderStyles.paddingWidth -\n        renderStyles.paddingLeft -\n        renderStyles.paddingRight\n      renderStyles.contentHeight =\n        renderStyles.paddingHeight -\n        renderStyles.paddingTop -\n        renderStyles.paddingBottom\n\n      renderStyles.width =\n        renderStyles.paddingWidth +\n        renderStyles.marginLeft +\n        renderStyles.marginRight +\n        element._getTotalBorderWidth(renderStyles)\n      renderStyles.height =\n        renderStyles.paddingHeight +\n        renderStyles.marginTop +\n        renderStyles.marginBottom +\n        element._getTotalBorderHeight(renderStyles)\n\n      element.renderStyles = renderStyles\n\n      if (element._InFlexBox()) {\n        element._bindFlexBox()\n      } else if (!element.isInFlow()) {\n        element.relativeTo = findRelativeTo(element)\n      }\n    },\n\n    _getParentStyles(curStyles = { alignSelf: 'auto' }): ExtendStyles {\n      let {\n        textAlign,\n        fontSize,\n        color,\n        fontFamily,\n        alignItems,\n        visible = true\n      } = (element.parent && element.parent.renderStyles) || {}\n\n      console.log('_getParentStyles', element.parent)\n      if (element.parent) {\n        console.log(\n          '_getParentStyles-renderStyles',\n          element.parent.renderStyles\n        )\n        let extendStyles: ExtendStyles = {}\n        if (textAlign) extendStyles.textAlign = textAlign\n        if (fontSize) extendStyles.fontSize = fontSize\n        if (color) extendStyles.color = color\n        if (fontFamily) extendStyles.fontFamily = fontFamily\n        if (alignItems && !curStyles.alignSelf)\n          extendStyles.alignSelf = alignItems\n        extendStyles.visible = visible\n        return extendStyles\n      }\n\n      return {}\n    },\n\n    _getDefaultStyles() {\n      return STYLE_CONSTANT.DEFAULT_STYLES\n    },\n\n    _completeStyles() {\n      completeStyles(element)\n    },\n\n    // 获取文档流中的子节点\n    _getChildrenInFlow() {\n      return element._getChildren().filter((item) => item.isInFlow())\n    },\n\n    /**\n     * 实现文档流 需要知道上一个兄弟节点\n     */\n    _reflow() {},\n\n    _initWidthHeight() {\n      const {\n        width,\n        height,\n        display,\n        flex,\n        marginLeft,\n        marginRight,\n        marginTop,\n        marginBottom\n      } = element.styles\n      if (isAuto(width) || isAuto(height)) {\n        // 这一步需要遍历，判断一下\n        const layout = element._measureLayout()\n        // 初始化宽度高度\n        if (isAuto(width)) {\n          element.renderStyles.contentWidth = floor(layout.width)\n        }\n\n        if (isAuto(height)) {\n          // 不填就是auto\n          element.renderStyles.contentHeight = floor(layout.height)\n        }\n      }\n\n      element._refreshLayoutWithContent()\n\n      if (element._InFlexBox()) {\n        element.line.refreshWidthHeight(element)\n      } else if (display === STYLE_CONSTANT.DISPLAY.INLINE_BLOCK) {\n        // 如果是inline-block  这里仅计算高度\n        element._bindLine()\n      }\n    },\n\n    _initPosition() {\n      let { contentX } = element.getContainerLayout()\n      const {\n        paddingLeft,\n        paddingTop,\n        borderLeftWidth,\n        borderTopWidth,\n        marginLeft,\n        marginTop\n      } = element.renderStyles\n      // 初始化ctx位置\n      if (!element.isInFlow()) {\n        // 不在文档流中\n        let { contentX, contentY, contentWidth, contentHeight } =\n          element.getContainerLayout(element.relativeTo)\n        let { top, bottom, right, left, width, height } = element.renderStyles\n        if (isOuter(top)) top = parseOuter(top) * contentHeight\n        if (isOuter(bottom)) bottom = parseOuter(bottom) * contentHeight\n        if (isOuter(left)) left = parseOuter(left) * contentWidth\n        if (isOuter(right)) right = parseOuter(right) * contentWidth\n        if (isExact(top)) {\n          element.y = contentY + top\n        } else if (isExact(bottom)) {\n          element.y = contentY + contentHeight - bottom - height\n        }\n\n        if (isExact(left)) {\n          element.x = contentX + left\n        } else if (isExact(right)) {\n          element.x = contentX + contentWidth - right - width\n        }\n      } else if (element._InFlexBox()) {\n        element.line.refreshElementPosition(element)\n      } else if (\n        element.renderStyles.display === STYLE_CONSTANT.DISPLAY.INLINE_BLOCK\n      ) {\n        // inline-block到line里计算\n        // element._bindLine()\n        element.line.refreshElementPosition(element)\n      } else {\n        element.x = contentX\n        element.y = element.getPrevLayout().y + element.getPrevLayout().height\n      }\n      element.x = floor(element.x)\n      element.y = floor(element.y)\n      element.contentX = element.x + paddingLeft + borderLeftWidth + marginLeft\n      element.contentY = element.y + paddingTop + borderTopWidth + marginTop\n    },\n\n    _InFlexBox() {\n      if (!element.isInFlow()) return false\n      if (!element.parent) return false\n      if (\n        element.parent &&\n        element.parent.renderStyles.display === STYLE_CONSTANT.DISPLAY.FLEX\n      )\n        return true\n    },\n\n    // 父元素根据子元素撑开content后，再计算width\n    _refreshLayoutWithContent() {\n      element.renderStyles.height = floor(\n        element.renderStyles.contentHeight +\n          element.renderStyles.paddingTop +\n          element.renderStyles.paddingBottom +\n          element.renderStyles.marginTop +\n          element.renderStyles.marginBottom +\n          element._getTotalBorderHeight()\n      )\n      element.renderStyles.width = floor(\n        element.renderStyles.contentWidth +\n          element.renderStyles.paddingLeft +\n          element.renderStyles.paddingRight +\n          element.renderStyles.marginLeft +\n          element.renderStyles.marginRight +\n          element._getTotalBorderWidth()\n      )\n      element.renderStyles.paddingWidth = floor(\n        element.renderStyles.contentWidth +\n          element.renderStyles.paddingLeft +\n          element.renderStyles.paddingRight\n      )\n      element.renderStyles.paddingHeight = floor(\n        element.renderStyles.contentHeight +\n          element.renderStyles.paddingTop +\n          element.renderStyles.paddingBottom\n      )\n    },\n\n    // 父元素根据子元素撑开content后，再计算width\n    _refreshContentWithLayout() {\n      element.renderStyles.contentHeight =\n        element.renderStyles.height -\n        element.renderStyles.paddingTop -\n        element.renderStyles.paddingBottom -\n        element.renderStyles.marginTop -\n        element.renderStyles.marginBottom -\n        element._getTotalBorderHeight()\n      element.renderStyles.contentWidth =\n        element.renderStyles.width -\n        element.renderStyles.paddingLeft -\n        element.renderStyles.paddingRight -\n        element.renderStyles.marginLeft -\n        element.renderStyles.marginRight -\n        element._getTotalBorderWidth()\n      element.renderStyles.paddingWidth = floor(\n        element.renderStyles.contentWidth +\n          element.renderStyles.paddingLeft +\n          element.renderStyles.paddingRight\n      )\n      element.renderStyles.paddingHeight = floor(\n        element.renderStyles.contentHeight +\n          element.renderStyles.paddingTop +\n          element.renderStyles.paddingBottom\n      )\n    },\n\n    _getTotalBorderWidth(renderStyles = element.renderStyles) {\n      return renderStyles.borderLeftWidth + renderStyles.borderRightWidth\n    },\n\n    _getTotalBorderHeight(renderStyles = element.renderStyles) {\n      return renderStyles.borderTopWidth + renderStyles.borderBottomWidth\n    },\n\n    _bindLine() {\n      if (\n        element.prev &&\n        element.prev.line &&\n        element.prev.line.canIEnter(element)\n      ) {\n        element.prev.line.add(element)\n      } else {\n        // 新行\n        createLine().bindElement(element)\n        // new Line().bind(element)\n      }\n    },\n\n    _bindFlexBox() {\n      if (element.pre && element.pre.line) {\n        element.pre.line.add(element)\n      } else {\n        // 新行\n        createFlexBox().bindElement(element)\n      }\n    },\n\n    // 计算自身的高度\n    _measureLayout() {\n      let width = 0 // 需要考虑原本的宽度\n      let height = 0\n      element._getChildrenInFlow().forEach((child) => {\n        if (child.line) {\n          if (child.line.start === child) {\n            if (child.line.width > width) {\n              width = child.line.width\n            }\n            height += child.line.height\n          }\n        } else if (child.renderStyles.width > width) {\n          width = child.renderStyles.width\n          height += child.renderStyles.height\n        } else {\n          height += child.renderStyles.height\n        }\n      })\n\n      return { width, height }\n    },\n\n    init() {\n      console.log('init', element)\n      element._initStyles()\n    },\n\n    mount(layer) {\n      layer.mountElement(element)\n    },\n\n    appendChild(element) {\n      treeNode.appendChild.call(element, element)\n      element.layer.onElementAdd(element)\n    },\n\n    getContainerLayout(container = element.parent) {\n      if (!container) {\n        // root\n        // if (!element.container) {\n        //   debugger\n        // }\n        container = {\n          renderStyles: {\n            width: element.container ? element.container.width : '100%',\n            height: element.container ? element.container.height : '100%',\n            paddingTop: 0,\n            paddingBottom: 0,\n            paddingLeft: 0,\n            paddingRight: 0,\n            marginLeft: 0,\n            marginRight: 0,\n            marginTop: 0,\n            marginBottom: 0,\n            contentWidth: element.container ? element.container.width : '100%',\n            contentHeight: element.container ? element.container.height : '100%'\n          },\n          x: 0,\n          y: 0,\n          contentX: 0,\n          contentY: 0\n        }\n      }\n      return {\n        width: container.renderStyles.width,\n        height: container.renderStyles.height,\n        x: container.x,\n        y: container.y,\n        paddingTop: container.renderStyles.paddingTop,\n        paddingBottom: container.renderStyles.paddingBottom,\n        paddingLeft: container.renderStyles.paddingLeft,\n        paddingRight: container.renderStyles.paddingRight,\n        marginLeft: container.renderStyles.marginLeft,\n        marginRight: container.renderStyles.marginRight,\n        marginTop: container.renderStyles.marginTop,\n        marginBottom: container.renderStyles.marginBottom,\n        contentX: container.contentX,\n        contentY: container.contentY,\n        contentWidth: container.renderStyles.contentWidth,\n        contentHeight: container.renderStyles.contentHeight\n      }\n    },\n\n    // 这里前一个节点必须在文档流中\n    getPrevLayout(): Layout {\n      let cur = element.pre\n      while (cur && !cur.isInFlow()) {\n        cur = cur.pre\n      }\n      // 如果没有前一个或者前面的都不在文档流中，获取容器的\n      if (cur) {\n        return {\n          width: cur.renderStyles.width,\n          height: cur.renderStyles.height,\n          x: cur.x,\n          y: cur.y\n        }\n      } else {\n        return {\n          width: 0,\n          height: 0,\n          x: element.getContainerLayout().contentX,\n          y: element.getContainerLayout().contentY\n        }\n      }\n    },\n\n    // 是否在文档流中\n    isInFlow() {\n      const { position, display } = element.styles\n      return (\n        position !== STYLE_CONSTANT.POSITION.ABSOLUTE &&\n        position !== STYLE_CONSTANT.POSITION.FIXED\n      )\n    },\n\n    isVisible() {\n      return element.renderStyles.visible && element.visible\n    },\n\n    parseInt(lastPaintTime) {}\n  }\n\n  const treeNode = createTreeNode(element)\n  element.__proto__ = treeNode\n\n  return element\n}\n","import { createElement } from './canvas'\nimport { ElementTypes } from './canvas/element'\nimport { RendererOptions } from './renderer'\n\nexport const createNodeOps = (renderContext: any): RendererOptions => {\n  return {\n    insert: (child, parent, anchor) => {\n      console.log('insert', child, parent, anchor)\n      if (!child) {\n        return\n      }\n\n      parent.appendChild(child)\n    },\n\n    remove: (child) => {\n      console.log('remove', child)\n    },\n\n    createElement: (tag, props) => {\n      console.log('createElement', tag, props)\n\n      props = props || {}\n      const { style } = props\n\n      switch (tag) {\n        default:\n          return createElement(\n            ElementTypes.view,\n            { style },\n            null,\n            renderContext\n          )\n      }\n    },\n\n    createText: (text) => {\n      // console.log('createText', text)\n      return createElement(ElementTypes.text, {}, null, renderContext)\n    },\n\n    createComment: (text) => {},\n\n    setText: (node, text) => {},\n\n    setElementText: (el, text) => {},\n\n    parentNode: (node) => node.parentNode as Element | null,\n\n    nextSibling: (node) => node.nextSibling\n\n    //   querySelector: (selector) => {},\n  }\n}\n","import { Component, ComponentInternalInstance, Data } from './components'\nimport { createVNode } from './vnode'\nimport { createRenderer } from './renderer'\nimport { createNodeOps } from './nodeOps'\n\nexport interface App<HostElement = any> {\n  _uid: number\n  _component: Component\n  _props: Data | null\n  _container: HostElement | null\n  _instance: ComponentInternalInstance | null\n\n  mount(rootContainer: HostElement | string): any\n}\n\nexport interface AppContext {\n  app: App // for devtools\n}\n\nexport type createApp<HostElement> = (\n  rootComponent: Component,\n  rootProps?: Data | null\n) => App<HostElement>\n\nlet uid = 0\n\nexport default function createApp(rootComponent, rootProps = null) {\n  const app: App = {\n    _uid: uid++,\n    _component: rootComponent as Component,\n    _props: rootProps,\n    _container: null,\n    _instance: null,\n\n    mount(rootContainer, layer?): any {\n      const vnode = createVNode(rootComponent, rootProps)\n\n      app._container = rootContainer\n      layer && layer.mountNode(rootContainer)\n\n      createRenderer(createNodeOps(layer)).render(vnode, rootContainer)\n    }\n  }\n\n  return app\n}\n","import createApp from './createApp'\nimport { h } from './h'\nimport { createLayer, createElement } from './canvas'\n\nconst XCanvas = {\n  createApp,\n  h,\n  createLayer,\n  createElement\n}\n\nexport default XCanvas\n","import { VNode, createVNode, VNodeArrayChildren, isVNode } from './vnode'\nimport { isObject, isArray } from './utils'\n\nexport function h(type: any, propsOrChildren?: any, children?: any): VNode {\n  const l = arguments.length\n  console.log('h', l, type, propsOrChildren, children)\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      // single vnode without props\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren])\n      }\n      // props without children\n      return createVNode(type, propsOrChildren)\n    } else {\n      // omit props\n      return createVNode(type, null, propsOrChildren)\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2)\n    } else if (l === 3 && isVNode(children)) {\n      children = [children]\n    }\n    return createVNode(type, propsOrChildren, children)\n  }\n}\n","import { TreeNode, connectChildren } from './treeNode'\nimport { CanvasElement } from './element'\nimport { wideTraversal, deepTraversal } from '../utils/traversal'\nimport { CanvasRenderer, createCanvasRenderer } from './renderer'\nimport { isWX, walkParent } from '../utils'\n\nexport type TravedElementList = Array<CanvasElement>\n\ntype LayerOptions = {\n  renderStyles: any\n}\n\nexport interface Layer {\n  ctx: CanvasRenderingContext2D\n  node: CanvasElement | null\n  p2cList: TravedElementList\n  c2pList: TravedElementList\n  nodeList: TreeNode[]\n  options: LayerOptions\n  renderer: CanvasRenderer\n  _initRender(): void\n  _initC2PList(): void\n  _initP2CList(): void\n  _flow(): void\n  _reflow(): void\n  _initPaintList(): void\n  _reflowElement(el: CanvasElement): void\n  __callBeforePaint(): void\n  _repaint(): void\n  update(ctx: CanvasRenderingContext2D, options: LayerOptions): void\n  mountNode(node: CanvasElement): void\n  onElementRemove(el: CanvasElement): void\n  onElementAdd(el: CanvasElement): void\n  onElementChange(el: CanvasElement): void\n  animate(): void\n  getElementBy(): CanvasElement\n  lifecycle(name: string, arg: any): void\n}\n\nexport function createLayer(ctx, options) {\n  const layer: Layer = {\n    ctx,\n    node: null,\n    p2cList: [] as CanvasElement[],\n    c2pList: [] as CanvasElement[],\n    nodeList: [],\n    options: options,\n    renderer: createCanvasRenderer(layer),\n\n    _initRender() {\n      // for 打印耗时\n      const startTime = Date.now()\n\n      connectChildren(layer.node)\n      layer._initC2PList()\n      layer._initP2CList()\n      console.log('initRender', layer.c2pList)\n\n      layer._flow()\n\n      // flow 完成后监听effect完成\n      layer.renderer\n        .onEffectFinished()\n        .then((res) => layer.lifecycle('onEffectSuccess', res))\n        .catch((res) => layer.lifecycle('onEffectFail', res))\n      // .finally((res) => layer.lifecycle('onEffectFinished', res))\n\n      layer._repaint()\n\n      console.log(\n        `渲染${layer.p2cList.length}个元素 耗时 ${Date.now() - startTime} ms`\n      )\n    },\n\n    _initP2CList() {\n      if (layer.node) layer.p2cList = wideTraversal(layer.node)\n    },\n\n    _initC2PList() {\n      if (layer.node) layer.c2pList = deepTraversal(layer.node)\n    },\n\n    _flow() {\n      for (let i = 0; i < layer.p2cList.length; i++) {\n        layer.p2cList[i].init()\n      }\n\n      layer._reflow()\n    },\n\n    _reflow() {},\n\n    _initPaintList() {},\n\n    _reflowElement(el) {},\n\n    __callBeforePaint() {\n      for (let i = 0; i < layer.p2cList.length; i++) {\n        layer.p2cList[i].beforePaint && layer.p2cList[i].beforePaint()\n      }\n    },\n\n    /**\n     * 可以给定element，则只会重绘element所在的区域\n     * @param {Element} element\n     */\n    _repaint(element = layer.node) {\n      if (isWX) {\n        // 微信环境下始终重绘整个树\n        element = layer.node\n      }\n      if (!element.isInFlow()) element = layer.node\n\n      layer._callBeforePaint()\n\n      layer.renderer.readyToRender(layer.node)\n    },\n\n    update(ctx, options) {\n      layer.ctx = ctx\n      layer.options = options\n      layer.options.renderStyles = options\n      if (layer.node) {\n        layer.node.context.container = layer.options\n      }\n    },\n\n    mountNode(node) {\n      console.info('mountNode------------------------', node)\n      node.layer = layer\n      node.root = node\n      layer.node = node\n\n      layer._initRender()\n    },\n\n    onElementRemove() {},\n\n    onElementAdd(el) {\n      layer._initC2PList()\n      layer._initP2CList()\n\n      layer.p2cList.forEach((item) => {\n        item.init()\n      })\n\n      layer._reflowElement(el)\n    },\n\n    // 元素变化后调用，尽可能少重排重绘\n    onElementChange(element) {\n      walkParent(element, (parent, callbreak) => {\n        parent._initWidthHeight()\n        if (parent.type === 'scroll-view') callbreak()\n      })\n\n      for (let i = 0; i < layer.p2cList.length; i++) {\n        layer.p2cList[i]._initPosition()\n      }\n      layer._repaint()\n    },\n\n    animate() {\n      console.warn('use [animate] option instead!')\n    },\n\n    getElementBy() {\n      return layer.node.getElementBy(...arguments)\n    },\n\n    lifecycle(name, arg) {\n      if (layer.options.lifecycle) {\n        layer.options.lifecycle[name] && layer.options.lifecycle[name](arg)\n      }\n    }\n  }\n\n  return layer\n}\n"],"names":["floor","val","walkParent","element","callback","cur","stop","callbreak","parent","isOuter","num","match","parseOuter","_n","parseInt","replace","isNaN","isFunction","isWX","Boolean","wx","getSystemInfoSync","err","EMPTY_OBJ","Object","freeze","EMPTY_ARR","onRE","isOn","key","test","isExact","isAuto","isArray","Array","isString","isObject","normalizeStyle","value","res","i","length","item","normalized","cssText","ret","styleCommentRE","split","listDelimiterRE","forEach","tmp","propertyDelimiterRE","trim","normalizeClass","name_1","Fragment","Symbol","for","Comment","isVNode","__v_isVNode","createVNode","type","props","children","klass","style","console","log","cloned","cloneVNode","vnode","createTextVNode","class","__v_skip","component","el","staticCount","appContext","ctx","extraProps","mergedProps","args","_i","arguments","existing","incoming","toMerge","includes","concat","map","deepCloneVNode","text","normalizeVNode","child","slice","String","__assign","assign","t","s","n","p","prototype","hasOwnProperty","call","apply","this","queue","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","RECURSION_LIMIT","flushPostFlushCbs","seen","deduped","to","from","pack","ar","l","Set","push","Map","sort","a","b","getId","checkRecursiveUpdates","job","id","Infinity","fn","has","count","get","set","createRenderer","options","hostInsert","insert","hostRemove","remove","hostPatchProp","patchProp","hostCreateElement","createElement","hostCreateText","createText","hostSetText","createComment","setText","hostSetElementText","setElementText","hostNextSibling","parentNode","nextSibling","patch","n1","n2","container","anchor","parentComponent","getNextHostNode","unmount","processText","processElement","mountChildren","oldProps","newProps","patchChildren","patchProps","start","c1","c2","oldLength","newLength","commonLength","Math","min","nextChild","unmountChildren","next","prev","doRemove","optimized","render","_vnode","flushPreFlushCbs","cb","pre","splice","isTreeNode","__v_isTreeNode","DISPLAY","BLOCK","INLINE_BLOCK","INLINE","FLEX","NONE","WIDTH","AUTO","OUTER","FLEX_DIRECTION","ROW","COLUMN","STYLE_CONSTANT","POSITION","ABSOLUTE","FIXED","RELATIVE","STATIC","TEXT_ALIGN","LEFT","RIGHT","CENTER","DEFAULT_STYLES","display","fontSize","fontWeight","fontFamily","color","paddingTop","paddingBottom","paddingLeft","paddingRight","marginTop","marginBottom","marginLeft","marginRight","height","borderRadius","lineCap","flexDirection","verticalAlign","textAlign","justifyContent","alignItems","alignSelf","whiteSpace","zIndex","visible","position","getBorderRadius","_a","renderStyles","paddingWidth","paddingHeight","createCanvasRenderer","layer","threshold","timer","imageBus","isAnimate","lastPaintTime","lastFrameComplete","throttle","setTimeout","_restore","getCtx","save","restore","_path","beginPath","closePath","_helpParentRestoreCtx","isVisible","node","hasChildren","_drawBox","contentWidth","contentHeight","borderStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","borderWidth","x","y","w","h","stroke","_this","borderColor","shadowBlur","contentX","contentY","strokeStyle","lineJoin","setLineDash","lineWidth","topBorder","moveTo","rightBorder","bottomBorder","leftBorder","_drawBackground","backgroundColor","shadowColor","opacity","shadowOffsetX","shadowOffsetY","globalAlpha","fillStyle","fill","_clip","_parseBackground","fillRect","isDebug","debugColor","strokeRect","overflow","clip","gradient","createLinearGradient","addColorStop","_drawText","line","lineHeight","textIndent","textDecoration","_x","font","_getFont","textBaseline","_y","index","_lines","decorationType_1","this_1","fillText","offset","decorationY","_layout","fontHeight","lineTo","layout","width","_drawImage","mode","sx","sy","swidth","sheight","dx","dy","dwidth","dheight","imageW","imageH","_image","attrs","_b","_imageInfo","drawImage","_drawScroll","translate","currentScrollX","currentScrollY","_animate","now","Date","window","requestAnimationFrame","getLayer","debug","paint","afterPaint","arc","angle","measureText","actualBoundingBoxAscent","getImageInstance","src","url","instance","image","getCanvas","createImage","warn","onload","Promise","resolve","reject","downloadFile","success","getImageInfo","tempFilePath","res1","target","fail","then","catch","Image","crossOrigin","e","info","onerror","clearRect","renderNode","callContinue","callNext","_callContinue","_continue","_callNext","_next","stack","pop","treeNode","context","draw","renderFPS","readyToRender","animate","requestRepaint","canvas","stopAnimate","onEffectFinished","list","keys","all","completeStyles","styles","CONSTANT","flex","isInFlow","padding","margin","ElementTypes","KEY","__v_isElement","left","top","root","_initStyles","_getDefaultStyles","_getParentStyles","_completeStyles","_initRenderStyles","relativeTo","parentWidth","getContainerLayout","parentHeight","_getTotalBorderWidth","_getTotalBorderHeight","_InFlexBox","_bindFlexBox","curStyles","extendStyles","_getChildrenInFlow","_getChildren","filter","_reflow","_initWidthHeight","_measureLayout","_refreshLayoutWithContent","refreshWidthHeight","_bindLine","_initPosition","contentX_1","top_1","bottom","right","refreshElementPosition","getPrevLayout","_c","_refreshContentWithLayout","canIEnter","add","doorClosed","outerWidth","elements","end","offsetX","_initHeight","_initLayout","_getPrevLine","_getOffsetY","_refreshWidthHeight","_closeLine","_refreshXAlign","prevLayout","prevLine","bindElement","addElement","exactValue","flexTotal","_super","closeLine","calcFlex","getPreLine","_refreshElementPosition","initLayout","getOffsetY","_calcFlex","containerWidth","initHeight","init","mount","mountElement","appendChild","onElementAdd","_children","_setParent","_setSibling","Error","prependChild","removeChild","append","prepend","__proto__","uid","createApp","rootComponent","rootProps","app","_uid","_component","_props","_container","_instance","rootContainer","renderContext","mountNode","tag","view","propsOrChildren","createLayer","p2cList","c2pList","nodeList","renderer","_initRender","startTime","connectChildren","_initC2PList","_initP2CList","_flow","lifecycle","_repaint","nodes","unshift","shift","elementInstance","_initPaintList","_reflowElement","__callBeforePaint","beforePaint","_callBeforePaint","update","onElementRemove","onElementChange","getElementBy","name","arg"],"mappings":"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","x_google_ignoreList":[5]}