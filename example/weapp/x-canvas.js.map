{"version":3,"file":"x-canvas.js","sources":["../../node_modules/tslib/tslib.es6.js","../../src/utils/general.ts","../../src/utils/treeSearch.ts","../../src/render/canvas/background.ts","../../src/render/canvas/boundCurves.ts","../../src/render/canvas/vector.ts","../../src/render/canvas/bezierCurve.ts","../../src/css/syntax/parser.ts","../../src/css/types/length-percentage.ts","../../src/render/index.ts","../../src/utils/fp.ts","../../src/tree-node/index.ts","../../src/utils/patchFlags.ts","../../src/element/textNode.ts","../../src/layout/layoutBox-bp.ts","../../src/render/renderBlock.ts","../../src/render/lineBox.ts","../../src/render/renderInline.ts","../../src/render/renderInlineBlock.ts","../../src/text/Util.ts","../../src/text/utrie.ts","../../src/text/lineBreak.ts","../../src/text/linebreak-trie.ts","../../src/render/renderText.ts","../../src/render/renderObject.ts","../../src/css/constant.ts","../../src/css/property-descriptors/background-clip.ts","../../src/css/property-descriptors/background-color.ts","../../src/css/property-descriptors/border-color.ts","../../src/css/property-descriptors/color.ts","../../src/css/property-descriptors/display.ts","../../src/css/property-descriptors/font-size.ts","../../src/css/property-descriptors/font-weight.ts","../../src/css/property-descriptors/height.ts","../../src/css/property-descriptors/line-height.ts","../../src/css/property-descriptors/margin.ts","../../src/css/property-descriptors/opacity.ts","../../src/css/property-descriptors/padding.ts","../../src/css/property-descriptors/text-align.ts","../../src/css/property-descriptors/transform.ts","../../src/css/property-descriptors/visibility.ts","../../src/css/property-descriptors/width.ts","../../src/css/property-descriptors/z-index.ts","../../src/css/index.ts","../../src/element/element.ts","../../src/index.ts","../../src/engine.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.push(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.push(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export const EMPTY_OBJ = Object.freeze({})\nexport const EMPTY_ARR = Object.freeze([])\n\nexport const NOOP = () => {}\n\n/**\n * Always return false.\n */\nexport const NO = () => false\n\nconst onRE = /^on[^a-z]/\nexport const isOn = (key: string) => onRE.test(key)\n\nexport const isModelListener = (key: string) => key.startsWith('onUpdate:')\n\nexport const extend = Object.assign\n\nexport const remove = <T>(arr: T[], el: T) => {\n  const i = arr.indexOf(el)\n  if (i > -1) {\n    arr.splice(i, 1)\n  }\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nexport const hasOwn = (\n  val: object,\n  key: string | symbol\n): key is keyof typeof val => hasOwnProperty.call(val, key)\n\nexport const isExact = (num: unknown): num is number => {\n  return isNumber.call(null, num)\n}\n\nexport const isAuto = (num: unknown): num is string => {\n  return num === 'auto'\n}\n\nexport const isOuter = (num: unknown): num is string => {\n  if (!isString(num)) return\n  return isArray(num.match('%'))\n}\n\nexport const parseOuter = (num: string): number => {\n  let _n = parseInt(num.replace('%', ''))\n  return isNaN(_n) || _n < 0 ? 0 : _n / 100\n}\n\nexport const isArray = Array.isArray\nexport const isMap = (val: unknown): val is Map<any, any> =>\n  toTypeString(val) === '[object Map]'\nexport const isSet = (val: unknown): val is Set<any> =>\n  toTypeString(val) === '[object Set]'\n\nexport const isDate = (val: unknown): val is Date =>\n  toTypeString(val) === '[object Date]'\nexport const isRegExp = (val: unknown): val is RegExp =>\n  toTypeString(val) === '[object RegExp]'\nexport const isFunction = (val: unknown): val is Function =>\n  typeof val === 'function'\nexport const isString = (val: unknown): val is string => typeof val === 'string'\nexport const isNumber = (val: unknown): val is number => typeof val === 'number'\nexport const isSymbol = (val: unknown): val is symbol => typeof val === 'symbol'\nexport const isObject = (val: unknown): val is Record<any, any> =>\n  val !== null && typeof val === 'object'\n\nexport const isPromise = <T = any>(val: unknown): val is Promise<T> => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\nexport const objectToString = Object.prototype.toString\nexport const toTypeString = (value: unknown): string =>\n  objectToString.call(value)\n\nexport const toRawType = (value: unknown): string => {\n  // extract \"RawType\" from strings like \"[object RawType]\"\n  return toTypeString(value).slice(8, -1)\n}\n\nexport const isPlainObject = (val: unknown): val is object =>\n  toTypeString(val) === '[object Object]'\n\nexport const isIntegerKey = (key: unknown) =>\n  isString(key) &&\n  key !== 'NaN' &&\n  key[0] !== '-' &&\n  '' + parseInt(key, 10) === key\n\nexport const mergeDeep = (target: unknown, ...sources) => {\n  if (!sources.length) return target\n  const source = sources.shift()\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} })\n        mergeDeep(target[key], source[key])\n      } else {\n        Object.assign(target, { [key]: source[key] })\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources)\n}\n","import { TreeNode } from '../tree-node'\nimport { isArray } from './general'\n\ntype Queue<T> = T[]\n\ntype TreeSearchFn = (node: TreeNode) => any[]\n\n// https://javascript.plainenglish.io/tree-traversal-in-javascript-9b1e92e15abb\n\nexport const BFS: TreeSearchFn = (node) => {\n  const traversed = <any>[]\n\n  if (node != null) {\n    const queue: Queue<TreeNode> = []\n    let item\n    let children\n\n    queue.unshift(node)\n\n    while (queue.length != 0) {\n      item = queue.shift()\n      traversed.push(item)\n      children = item.children\n      if (isArray(children)) {\n        for (let i = 0; i < children.length; i++) queue.push(children[i])\n      }\n    }\n  }\n\n  return traversed\n}\n\nexport const PostOrderDFS: TreeSearchFn = (node) => {\n  let traversed = <any>[]\n\n  function traverse(curr) {\n    if (curr.children.length !== 0) {\n      curr.children.forEach((child) => {\n        traverse(child)\n      })\n    }\n    traversed.push(curr)\n  }\n\n  traverse(node)\n\n  return traversed\n}\n","export const getBackgroundValueForIndex = <T>(\n  values: T[],\n  index: number\n): T => {\n  return 0\n  const value = values[index]\n  if (typeof value === 'undefined') {\n    return values[0]\n  }\n\n  return value\n}\n","import {\n  getAbsoluteValue,\n  getAbsoluteValueForTuple\n} from '../../css/types/length-percentage'\nimport { BezierCurve } from './bezierCurve'\nimport { Path } from './path'\nimport { Vector } from './vector'\n\nexport interface BoundCurves {\n  topWidth: number\n  rightHeight: number\n  bottomWidth: number\n  leftHeight: number\n  borderTopWidth: number\n  borderRightWidth: number\n  borderBottomWidth: number\n  borderLeftWidth: number\n  paddingTop: number\n  paddingRight: number\n  paddingBottom: number\n  paddingLeft: number\n  topLeftBorderDoubleOuterBox: Path\n  topRightBorderDoubleOuterBox: Path\n  bottomRightBorderDoubleOuterBox: Path\n  bottomLeftBorderDoubleOuterBox: Path\n  topLeftBorderDoubleInnerBox: Path\n  topRightBorderDoubleInnerBox: Path\n  bottomRightBorderDoubleInnerBox: Path\n  bottomLeftBorderDoubleInnerBox: Path\n  topLeftBorderStroke: Path\n  topRightBorderStroke: Path\n  bottomRightBorderStroke: Path\n  bottomLeftBorderStroke: Path\n  topLeftBorderBox: Path\n  topRightBorderBox: Path\n  bottomRightBorderBox: Path\n  bottomLeftBorderBox: Path\n  topLeftPaddingBox: Path\n  topRightPaddingBox: Path\n  bottomRightPaddingBox: Path\n  bottomLeftPaddingBox: Path\n  topLeftContentBox: Path\n  topRightContentBox: Path\n  bottomRightContentBox: Path\n  bottomLeftContentBox: Path\n}\n\nexport function createBoundCurves(renderObject) {\n  console.log('createBoundCurves', renderObject)\n  let styles = renderObject.element.computedStyles\n  let bounds = renderObject.layoutBox\n\n  if (!styles) return\n\n  let [tlh, tlv] = getAbsoluteValueForTuple(\n    styles.borderTopLeftRadius,\n    bounds.width,\n    bounds.height\n  )\n  let [trh, trv] = getAbsoluteValueForTuple(\n    styles.borderTopRightRadius,\n    bounds.width,\n    bounds.height\n  )\n  let [brh, brv] = getAbsoluteValueForTuple(\n    styles.borderBottomRightRadius,\n    bounds.width,\n    bounds.height\n  )\n  let [blh, blv] = getAbsoluteValueForTuple(\n    styles.borderBottomLeftRadius,\n    bounds.width,\n    bounds.height\n  )\n\n  const factors = []\n  factors.push((tlh + trh) / bounds.width)\n  factors.push((blh + brh) / bounds.width)\n  factors.push((tlv + blv) / bounds.height)\n  factors.push((trv + brv) / bounds.height)\n  const maxFactor = Math.max(...factors)\n\n  if (maxFactor > 1) {\n    tlh /= maxFactor\n    tlv /= maxFactor\n    trh /= maxFactor\n    trv /= maxFactor\n    brh /= maxFactor\n    brv /= maxFactor\n    blh /= maxFactor\n    blv /= maxFactor\n  }\n\n  const topWidth = bounds.width - trh\n  const rightHeight = bounds.height - brv\n  const bottomWidth = bounds.width - brh\n  const leftHeight = bounds.height - blv\n\n  // const borderTopWidth = styles.borderTopWidth\n  // const borderRightWidth = styles.borderRightWidth\n  // const borderBottomWidth = styles.borderBottomWidth\n  // const borderLeftWidth = styles.borderLeftWidth\n  const borderTopWidth = 0\n  const borderRightWidth = 0\n  const borderBottomWidth = 0\n  const borderLeftWidth = 0\n\n  // const paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width)\n  // const paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width)\n  // const paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width)\n  // const paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width)\n  const paddingTop = styles.paddingTop\n  const paddingRight = styles.paddingRight\n  const paddingBottom = styles.paddingBottom\n  const paddingLeft = styles.paddingLeft\n\n  let boundCurves = {\n    topWidth,\n    rightHeight,\n    bottomWidth,\n    leftHeight,\n    borderTopWidth,\n    borderRightWidth,\n    borderBottomWidth,\n    borderLeftWidth,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    topLeftBorderDoubleOuterBox: null,\n    topRightBorderDoubleOuterBox: null,\n    bottomRightBorderDoubleOuterBox: null,\n    bottomLeftBorderDoubleOuterBox: null,\n    topLeftBorderDoubleInnerBox: null,\n    topRightBorderDoubleInnerBox: null,\n    bottomRightBorderDoubleInnerBox: null,\n    bottomLeftBorderDoubleInnerBox: null,\n    topLeftBorderStroke: null,\n    topRightBorderStroke: null,\n    bottomRightBorderStroke: null,\n    bottomLeftBorderStroke: null,\n    topLeftBorderBox: null,\n    topRightBorderBox: null,\n    bottomRightBorderBox: null,\n    bottomLeftBorderBox: null,\n    topLeftPaddingBox: null,\n    topRightPaddingBox: null,\n    bottomRightPaddingBox: null,\n    bottomLeftPaddingBox: null,\n    topLeftContentBox: null,\n    topRightContentBox: null,\n    bottomRightContentBox: null,\n    bottomLeftContentBox: null\n  }\n\n  boundCurves.topLeftBorderDoubleOuterBox =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth / 3,\n          bounds.top + borderTopWidth / 3,\n          tlh - borderLeftWidth / 3,\n          tlv - borderTopWidth / 3,\n          CORNER.TOP_LEFT\n        )\n      : new Vector(\n          bounds.left + borderLeftWidth / 3,\n          bounds.top + borderTopWidth / 3\n        )\n  boundCurves.topRightBorderDoubleOuterBox =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + topWidth,\n          bounds.top + borderTopWidth / 3,\n          trh - borderRightWidth / 3,\n          trv - borderTopWidth / 3,\n          CORNER.TOP_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - borderRightWidth / 3,\n          bounds.top + borderTopWidth / 3\n        )\n  boundCurves.bottomRightBorderDoubleOuterBox =\n    brh > 0 || brv > 0\n      ? getCurvePoints(\n          bounds.left + bottomWidth,\n          bounds.top + rightHeight,\n          brh - borderRightWidth / 3,\n          brv - borderBottomWidth / 3,\n          CORNER.BOTTOM_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - borderRightWidth / 3,\n          bounds.top + bounds.height - borderBottomWidth / 3\n        )\n  boundCurves.bottomLeftBorderDoubleOuterBox =\n    blh > 0 || blv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth / 3,\n          bounds.top + leftHeight,\n          blh - borderLeftWidth / 3,\n          blv - borderBottomWidth / 3,\n          CORNER.BOTTOM_LEFT\n        )\n      : new Vector(\n          bounds.left + borderLeftWidth / 3,\n          bounds.top + bounds.height - borderBottomWidth / 3\n        )\n  boundCurves.topLeftBorderDoubleInnerBox =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + (borderLeftWidth * 2) / 3,\n          bounds.top + (borderTopWidth * 2) / 3,\n          tlh - (borderLeftWidth * 2) / 3,\n          tlv - (borderTopWidth * 2) / 3,\n          CORNER.TOP_LEFT\n        )\n      : new Vector(\n          bounds.left + (borderLeftWidth * 2) / 3,\n          bounds.top + (borderTopWidth * 2) / 3\n        )\n  boundCurves.topRightBorderDoubleInnerBox =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + topWidth,\n          bounds.top + (borderTopWidth * 2) / 3,\n          trh - (borderRightWidth * 2) / 3,\n          trv - (borderTopWidth * 2) / 3,\n          CORNER.TOP_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n          bounds.top + (borderTopWidth * 2) / 3\n        )\n  boundCurves.bottomRightBorderDoubleInnerBox =\n    brh > 0 || brv > 0\n      ? getCurvePoints(\n          bounds.left + bottomWidth,\n          bounds.top + rightHeight,\n          brh - (borderRightWidth * 2) / 3,\n          brv - (borderBottomWidth * 2) / 3,\n          CORNER.BOTTOM_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - (borderRightWidth * 2) / 3,\n          bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n        )\n  boundCurves.bottomLeftBorderDoubleInnerBox =\n    blh > 0 || blv > 0\n      ? getCurvePoints(\n          bounds.left + (borderLeftWidth * 2) / 3,\n          bounds.top + leftHeight,\n          blh - (borderLeftWidth * 2) / 3,\n          blv - (borderBottomWidth * 2) / 3,\n          CORNER.BOTTOM_LEFT\n        )\n      : new Vector(\n          bounds.left + (borderLeftWidth * 2) / 3,\n          bounds.top + bounds.height - (borderBottomWidth * 2) / 3\n        )\n  boundCurves.topLeftBorderStroke =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth / 2,\n          bounds.top + borderTopWidth / 2,\n          tlh - borderLeftWidth / 2,\n          tlv - borderTopWidth / 2,\n          CORNER.TOP_LEFT\n        )\n      : new Vector(\n          bounds.left + borderLeftWidth / 2,\n          bounds.top + borderTopWidth / 2\n        )\n  boundCurves.topRightBorderStroke =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + topWidth,\n          bounds.top + borderTopWidth / 2,\n          trh - borderRightWidth / 2,\n          trv - borderTopWidth / 2,\n          CORNER.TOP_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - borderRightWidth / 2,\n          bounds.top + borderTopWidth / 2\n        )\n  boundCurves.bottomRightBorderStroke =\n    brh > 0 || brv > 0\n      ? getCurvePoints(\n          bounds.left + bottomWidth,\n          bounds.top + rightHeight,\n          brh - borderRightWidth / 2,\n          brv - borderBottomWidth / 2,\n          CORNER.BOTTOM_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - borderRightWidth / 2,\n          bounds.top + bounds.height - borderBottomWidth / 2\n        )\n  boundCurves.bottomLeftBorderStroke =\n    blh > 0 || blv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth / 2,\n          bounds.top + leftHeight,\n          blh - borderLeftWidth / 2,\n          blv - borderBottomWidth / 2,\n          CORNER.BOTTOM_LEFT\n        )\n      : new Vector(\n          bounds.left + borderLeftWidth / 2,\n          bounds.top + bounds.height - borderBottomWidth / 2\n        )\n  boundCurves.topLeftBorderBox =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\n      : new Vector(bounds.left, bounds.top)\n  boundCurves.topRightBorderBox =\n    trh > 0 || trv > 0\n      ? getCurvePoints(\n          bounds.left + topWidth,\n          bounds.top,\n          trh,\n          trv,\n          CORNER.TOP_RIGHT\n        )\n      : new Vector(bounds.left + bounds.width, bounds.top)\n  boundCurves.bottomRightBorderBox =\n    brh > 0 || brv > 0\n      ? getCurvePoints(\n          bounds.left + bottomWidth,\n          bounds.top + rightHeight,\n          brh,\n          brv,\n          CORNER.BOTTOM_RIGHT\n        )\n      : new Vector(bounds.left + bounds.width, bounds.top + bounds.height)\n  boundCurves.bottomLeftBorderBox =\n    blh > 0 || blv > 0\n      ? getCurvePoints(\n          bounds.left,\n          bounds.top + leftHeight,\n          blh,\n          blv,\n          CORNER.BOTTOM_LEFT\n        )\n      : new Vector(bounds.left, bounds.top + bounds.height)\n  boundCurves.topLeftPaddingBox =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth,\n          bounds.top + borderTopWidth,\n          Math.max(0, tlh - borderLeftWidth),\n          Math.max(0, tlv - borderTopWidth),\n          CORNER.TOP_LEFT\n        )\n      : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth)\n  boundCurves.topRightPaddingBox =\n    trh > 0 || trv > 0\n      ? getCurvePoints(\n          bounds.left + Math.min(topWidth, bounds.width - borderRightWidth),\n          bounds.top + borderTopWidth,\n          topWidth > bounds.width + borderRightWidth\n            ? 0\n            : Math.max(0, trh - borderRightWidth),\n          Math.max(0, trv - borderTopWidth),\n          CORNER.TOP_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - borderRightWidth,\n          bounds.top + borderTopWidth\n        )\n  boundCurves.bottomRightPaddingBox =\n    brh > 0 || brv > 0\n      ? getCurvePoints(\n          bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth),\n          bounds.top + Math.min(rightHeight, bounds.height - borderBottomWidth),\n          Math.max(0, brh - borderRightWidth),\n          Math.max(0, brv - borderBottomWidth),\n          CORNER.BOTTOM_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - borderRightWidth,\n          bounds.top + bounds.height - borderBottomWidth\n        )\n  boundCurves.bottomLeftPaddingBox =\n    blh > 0 || blv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth,\n          bounds.top + Math.min(leftHeight, bounds.height - borderBottomWidth),\n          Math.max(0, blh - borderLeftWidth),\n          Math.max(0, blv - borderBottomWidth),\n          CORNER.BOTTOM_LEFT\n        )\n      : new Vector(\n          bounds.left + borderLeftWidth,\n          bounds.top + bounds.height - borderBottomWidth\n        )\n  boundCurves.topLeftContentBox =\n    tlh > 0 || tlv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth + paddingLeft,\n          bounds.top + borderTopWidth + paddingTop,\n          Math.max(0, tlh - (borderLeftWidth + paddingLeft)),\n          Math.max(0, tlv - (borderTopWidth + paddingTop)),\n          CORNER.TOP_LEFT\n        )\n      : new Vector(\n          bounds.left + borderLeftWidth + paddingLeft,\n          bounds.top + borderTopWidth + paddingTop\n        )\n  boundCurves.topRightContentBox =\n    trh > 0 || trv > 0\n      ? getCurvePoints(\n          bounds.left +\n            Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft),\n          bounds.top + borderTopWidth + paddingTop,\n          topWidth > bounds.width + borderLeftWidth + paddingLeft\n            ? 0\n            : trh - borderLeftWidth + paddingLeft,\n          trv - (borderTopWidth + paddingTop),\n          CORNER.TOP_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - (borderRightWidth + paddingRight),\n          bounds.top + borderTopWidth + paddingTop\n        )\n  boundCurves.bottomRightContentBox =\n    brh > 0 || brv > 0\n      ? getCurvePoints(\n          bounds.left +\n            Math.min(\n              bottomWidth,\n              bounds.width - (borderLeftWidth + paddingLeft)\n            ),\n          bounds.top +\n            Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop),\n          Math.max(0, brh - (borderRightWidth + paddingRight)),\n          brv - (borderBottomWidth + paddingBottom),\n          CORNER.BOTTOM_RIGHT\n        )\n      : new Vector(\n          bounds.left + bounds.width - (borderRightWidth + paddingRight),\n          bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n        )\n  boundCurves.bottomLeftContentBox =\n    blh > 0 || blv > 0\n      ? getCurvePoints(\n          bounds.left + borderLeftWidth + paddingLeft,\n          bounds.top + leftHeight,\n          Math.max(0, blh - (borderLeftWidth + paddingLeft)),\n          blv - (borderBottomWidth + paddingBottom),\n          CORNER.BOTTOM_LEFT\n        )\n      : new Vector(\n          bounds.left + borderLeftWidth + paddingLeft,\n          bounds.top + bounds.height - (borderBottomWidth + paddingBottom)\n        )\n\n  return boundCurves\n}\n\nenum CORNER {\n  TOP_LEFT = 0,\n  TOP_RIGHT = 1,\n  BOTTOM_RIGHT = 2,\n  BOTTOM_LEFT = 3\n}\n\nconst getCurvePoints = (\n  x: number,\n  y: number,\n  r1: number,\n  r2: number,\n  position: CORNER\n): BezierCurve => {\n  const kappa = 4 * ((Math.sqrt(2) - 1) / 3)\n  const ox = r1 * kappa // control point offset horizontal\n  const oy = r2 * kappa // control point offset vertical\n  const xm = x + r1 // x-middle\n  const ym = y + r2 // y-middle\n\n  switch (position) {\n    case CORNER.TOP_LEFT:\n      return new BezierCurve(\n        new Vector(x, ym),\n        new Vector(x, ym - oy),\n        new Vector(xm - ox, y),\n        new Vector(xm, y)\n      )\n    case CORNER.TOP_RIGHT:\n      return new BezierCurve(\n        new Vector(x, y),\n        new Vector(x + ox, y),\n        new Vector(xm, ym - oy),\n        new Vector(xm, ym)\n      )\n    case CORNER.BOTTOM_RIGHT:\n      return new BezierCurve(\n        new Vector(xm, y),\n        new Vector(xm, y + oy),\n        new Vector(x + ox, ym),\n        new Vector(x, ym)\n      )\n    case CORNER.BOTTOM_LEFT:\n    default:\n      return new BezierCurve(\n        new Vector(xm, ym),\n        new Vector(xm - ox, ym),\n        new Vector(x, y + oy),\n        new Vector(x, y)\n      )\n  }\n}\n\nexport const calculateBorderBoxPath = (curves: BoundCurves): Path[] => {\n  return [\n    curves.topLeftBorderBox,\n    curves.topRightBorderBox,\n    curves.bottomRightBorderBox,\n    curves.bottomLeftBorderBox\n  ]\n}\n\nexport const calculateContentBoxPath = (curves: BoundCurves): Path[] => {\n  return [\n    curves.topLeftContentBox,\n    curves.topRightContentBox,\n    curves.bottomRightContentBox,\n    curves.bottomLeftContentBox\n  ]\n}\n\nexport const calculatePaddingBoxPath = (curves: BoundCurves): Path[] => {\n  return [\n    curves.topLeftPaddingBox,\n    curves.topRightPaddingBox,\n    curves.bottomRightPaddingBox,\n    curves.bottomLeftPaddingBox\n  ]\n}\n","import { IPath, Path, PathType } from './path'\n\nexport class Vector implements IPath {\n  type: PathType\n  x: number\n  y: number\n\n  constructor(x: number, y: number) {\n    this.type = PathType.VECTOR\n    this.x = x\n    this.y = y\n  }\n\n  add(deltaX: number, deltaY: number): Vector {\n    return new Vector(this.x + deltaX, this.y + deltaY)\n  }\n}\n\nexport const isVector = (path: Path): path is Vector =>\n  path.type === PathType.VECTOR\n","import { Vector } from './vector'\nimport { IPath, PathType, Path } from './path'\n\nconst lerp = (a: Vector, b: Vector, t: number): Vector => {\n  return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t)\n}\n\nexport class BezierCurve implements IPath {\n  type: PathType\n  start: Vector\n  startControl: Vector\n  endControl: Vector\n  end: Vector\n\n  constructor(\n    start: Vector,\n    startControl: Vector,\n    endControl: Vector,\n    end: Vector\n  ) {\n    this.type = PathType.BEZIER_CURVE\n    this.start = start\n    this.startControl = startControl\n    this.endControl = endControl\n    this.end = end\n  }\n\n  subdivide(t: number, firstHalf: boolean): BezierCurve {\n    const ab = lerp(this.start, this.startControl, t)\n    const bc = lerp(this.startControl, this.endControl, t)\n    const cd = lerp(this.endControl, this.end, t)\n    const abbc = lerp(ab, bc, t)\n    const bccd = lerp(bc, cd, t)\n    const dest = lerp(abbc, bccd, t)\n    return firstHalf\n      ? new BezierCurve(this.start, ab, abbc, dest)\n      : new BezierCurve(dest, bccd, cd, this.end)\n  }\n\n  add(deltaX: number, deltaY: number): BezierCurve {\n    return new BezierCurve(\n      this.start.add(deltaX, deltaY),\n      this.startControl.add(deltaX, deltaY),\n      this.endControl.add(deltaX, deltaY),\n      this.end.add(deltaX, deltaY)\n    )\n  }\n\n  reverse(): BezierCurve {\n    return new BezierCurve(\n      this.end,\n      this.endControl,\n      this.startControl,\n      this.start\n    )\n  }\n}\n\nexport const isBezierCurve = (path: Path): path is BezierCurve =>\n  path.type === PathType.BEZIER_CURVE\n","import {\n  CSSToken,\n  DimensionToken,\n  NumberValueToken,\n  StringValueToken,\n  TokenType\n} from './tokenizer'\n\nexport type CSSBlockType =\n  | TokenType.LEFT_PARENTHESIS_TOKEN\n  | TokenType.LEFT_SQUARE_BRACKET_TOKEN\n  | TokenType.LEFT_CURLY_BRACKET_TOKEN\n\nexport interface CSSBlock {\n  type: CSSBlockType\n  values: CSSValue[]\n}\n\nexport interface CSSFunction {\n  type: TokenType.FUNCTION\n  name: string\n  values: CSSValue[]\n}\n\nexport type CSSValue = CSSFunction | CSSToken | CSSBlock\n\n// export class Parser {\n//   private _tokens: CSSToken[]\n\n//   constructor(tokens: CSSToken[]) {\n//     this._tokens = tokens\n//   }\n\n//   static create(value: string): Parser {\n//     const tokenizer = new Tokenizer()\n//     tokenizer.write(value)\n//     return new Parser(tokenizer.read())\n//   }\n\n//   static parseValue(value: string): CSSValue {\n//     return Parser.create(value).parseComponentValue()\n//   }\n\n//   static parseValues(value: string): CSSValue[] {\n//     return Parser.create(value).parseComponentValues()\n//   }\n\n//   parseComponentValue(): CSSValue {\n//     let token = this.consumeToken()\n//     while (token.type === TokenType.WHITESPACE_TOKEN) {\n//       token = this.consumeToken()\n//     }\n\n//     if (token.type === TokenType.EOF_TOKEN) {\n//       throw new SyntaxError(`Error parsing CSS component value, unexpected EOF`)\n//     }\n\n//     this.reconsumeToken(token)\n//     const value = this.consumeComponentValue()\n\n//     do {\n//       token = this.consumeToken()\n//     } while (token.type === TokenType.WHITESPACE_TOKEN)\n\n//     if (token.type === TokenType.EOF_TOKEN) {\n//       return value\n//     }\n\n//     throw new SyntaxError(\n//       `Error parsing CSS component value, multiple values found when expecting only one`\n//     )\n//   }\n\n//   parseComponentValues(): CSSValue[] {\n//     const values = []\n//     while (true) {\n//       const value = this.consumeComponentValue()\n//       if (value.type === TokenType.EOF_TOKEN) {\n//         return values\n//       }\n//       values.push(value)\n//       values.push()\n//     }\n//   }\n\n//   private consumeComponentValue(): CSSValue {\n//     const token = this.consumeToken()\n\n//     switch (token.type) {\n//       case TokenType.LEFT_CURLY_BRACKET_TOKEN:\n//       case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\n//       case TokenType.LEFT_PARENTHESIS_TOKEN:\n//         return this.consumeSimpleBlock(token.type)\n//       case TokenType.FUNCTION_TOKEN:\n//         return this.consumeFunction(token)\n//     }\n\n//     return token\n//   }\n\n//   private consumeSimpleBlock(type: CSSBlockType): CSSBlock {\n//     const block: CSSBlock = { type, values: [] }\n\n//     let token = this.consumeToken()\n//     while (true) {\n//       if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\n//         return block\n//       }\n\n//       this.reconsumeToken(token)\n//       block.values.push(this.consumeComponentValue())\n//       token = this.consumeToken()\n//     }\n//   }\n\n//   private consumeFunction(functionToken: StringValueToken): CSSFunction {\n//     const cssFunction: CSSFunction = {\n//       name: functionToken.value,\n//       values: [],\n//       type: TokenType.FUNCTION\n//     }\n\n//     while (true) {\n//       const token = this.consumeToken()\n//       if (\n//         token.type === TokenType.EOF_TOKEN ||\n//         token.type === TokenType.RIGHT_PARENTHESIS_TOKEN\n//       ) {\n//         return cssFunction\n//       }\n\n//       this.reconsumeToken(token)\n//       cssFunction.values.push(this.consumeComponentValue())\n//     }\n//   }\n\n//   private consumeToken(): CSSToken {\n//     const token = this._tokens.shift()\n//     return typeof token === 'undefined' ? EOF_TOKEN : token\n//   }\n\n//   private reconsumeToken(token: CSSToken): void {\n//     this._tokens.unshift(token)\n//   }\n// }\n\nexport const isDimensionToken = (token: CSSValue): token is DimensionToken =>\n  token.type === TokenType.DIMENSION_TOKEN\nexport const isNumberToken = (token: CSSValue): token is NumberValueToken =>\n  token.type === TokenType.NUMBER_TOKEN\nexport const isIdentToken = (token: CSSValue): token is StringValueToken =>\n  token.type === TokenType.IDENT_TOKEN\nexport const isStringToken = (token: CSSValue): token is StringValueToken =>\n  token.type === TokenType.STRING_TOKEN\nexport const isIdentWithValue = (token: CSSValue, value: string): boolean =>\n  isIdentToken(token) && token.value === value\n\nexport const nonWhiteSpace = (token: CSSValue): boolean =>\n  token.type !== TokenType.WHITESPACE_TOKEN\nexport const nonFunctionArgSeparator = (token: CSSValue): boolean =>\n  token.type !== TokenType.WHITESPACE_TOKEN &&\n  token.type !== TokenType.COMMA_TOKEN\n\nexport const parseFunctionArgs = (tokens: CSSValue[]): CSSValue[][] => {\n  const args: CSSValue[][] = []\n  let arg: CSSValue[] = []\n  tokens.forEach((token) => {\n    if (token.type === TokenType.COMMA_TOKEN) {\n      if (arg.length === 0) {\n        throw new Error(`Error parsing function args, zero tokens for arg`)\n      }\n      args.push(arg)\n      arg = []\n      return\n    }\n\n    if (token.type !== TokenType.WHITESPACE_TOKEN) {\n      arg.push(token)\n    }\n  })\n  if (arg.length) {\n    args.push(arg)\n  }\n\n  return args\n}\n\nconst isEndingTokenFor = (token: CSSToken, type: CSSBlockType): boolean => {\n  if (\n    type === TokenType.LEFT_CURLY_BRACKET_TOKEN &&\n    token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN\n  ) {\n    return true\n  }\n  if (\n    type === TokenType.LEFT_SQUARE_BRACKET_TOKEN &&\n    token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN\n  ) {\n    return true\n  }\n\n  return (\n    type === TokenType.LEFT_PARENTHESIS_TOKEN &&\n    token.type === TokenType.RIGHT_PARENTHESIS_TOKEN\n  )\n}\n","import {\n  DimensionToken,\n  FLAG_INTEGER,\n  NumberValueToken,\n  TokenType\n} from '../syntax/tokenizer'\nimport { CSSValue, isDimensionToken } from '../syntax/parser'\nimport { isLength } from './length'\nexport type LengthPercentage = DimensionToken | NumberValueToken\nexport type LengthPercentageTuple =\n  | [LengthPercentage]\n  | [LengthPercentage, LengthPercentage]\n\nexport const isLengthPercentage = (\n  token: CSSValue\n): token is LengthPercentage =>\n  token.type === TokenType.PERCENTAGE_TOKEN || isLength(token)\nexport const parseLengthPercentageTuple = (\n  tokens: LengthPercentage[]\n): LengthPercentageTuple =>\n  tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]]\nexport const ZERO_LENGTH: NumberValueToken = {\n  type: TokenType.NUMBER_TOKEN,\n  number: 0,\n  flags: FLAG_INTEGER\n}\n\nexport const FIFTY_PERCENT: NumberValueToken = {\n  type: TokenType.PERCENTAGE_TOKEN,\n  number: 50,\n  flags: FLAG_INTEGER\n}\n\nexport const HUNDRED_PERCENT: NumberValueToken = {\n  type: TokenType.PERCENTAGE_TOKEN,\n  number: 100,\n  flags: FLAG_INTEGER\n}\n\nexport const getAbsoluteValueForTuple = (\n  tuple: LengthPercentageTuple,\n  width: number,\n  height: number\n): [number, number] => {\n  return [0, 0]\n  const [x, y] = tuple\n  return [\n    getAbsoluteValue(x, width),\n    getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)\n  ]\n}\nexport const getAbsoluteValue = (\n  token: LengthPercentage,\n  parent: number\n): number => {\n  return 0\n  if (token.type === TokenType.PERCENTAGE_TOKEN) {\n    return (token.number / 100) * parent\n  }\n\n  if (isDimensionToken(token)) {\n    switch (token.unit) {\n      case 'rem':\n      case 'em':\n        return 16 * token.number // TODO use correct font-size\n      case 'px':\n      default:\n        return token.number\n    }\n  }\n\n  return token.number\n}\n","// RenderBody {BODY} at (0, 0) size 640x480 [bgcolor=# FFFFFF]\n// |—— RenderBlock {P} at (0, 0) size 640x80\n// | |—— RenderText {#text} at (0, 0) size 48x24 \"First line.\"\n// | |—— RenderBR {BR} at (20, 20) size 0x0\n// | |—— RenderText {#text} at (0, 24) size 48x24 \"Second one.\"\n\nimport { BACKGROUND_CLIP } from '../css/property-descriptors/background-clip'\nimport { Color, isTransparent } from '../css/types/color'\nimport { CanvasElement } from '../element/element'\nimport { Engine } from '../engine'\nimport { getBackgroundValueForIndex } from './canvas/background'\nimport { isBezierCurve } from './canvas/bezierCurve'\nimport {\n  BoundCurves,\n  calculateBorderBoxPath,\n  calculateContentBoxPath,\n  calculatePaddingBoxPath\n} from './canvas/boundCurves'\nimport { Path } from './canvas/path'\nimport { Vector } from './canvas/vector'\nimport { RenderObject } from './renderObject'\n\nexport type RenderConfigurations = RenderOptions & {\n  backgroundColor: Color | null\n}\n\nexport interface RenderOptions {\n  canvas?: HTMLCanvasElement\n  ctx: CanvasRenderingContext2D\n  dpr?: number\n  defaultFontFamily: string\n  width: number\n  height: number\n}\n\nexport interface CanvasRenderer {\n  canvas: HTMLCanvasElement\n  ctx: CanvasRenderingContext2D\n  dpr?: number\n  defaultFontFamily: string\n  root: RenderObject\n  render(elm?: CanvasElement): void\n  paint(renderObject: RenderObject): void\n  paintBlock(renderObject: RenderObject): void\n  paintInline(renderObject: RenderObject): void\n  paintText(renderObject: RenderObject): void\n  mask(paths: Path[]): void\n}\n\nexport function createRenderer(options: RenderConfigurations): CanvasRenderer {\n  let renderer: CanvasRenderer = {\n    canvas: options.canvas,\n    ctx: options.ctx,\n    dpr: options.dpr || 1,\n    defaultFontFamily: options.defaultFontFamily,\n    root: null,\n    render,\n    paint,\n    paintBlock,\n    paintInline,\n    paintText,\n    mask\n  }\n\n  return renderer\n}\n\nfunction render(this: CanvasRenderer, elm) {\n  this.paint(elm.renderObject)\n}\n\nfunction paint(this: CanvasRenderer, renderObject: RenderObject) {\n  switch (renderObject.type) {\n    case 'block':\n      this.paintBlock(renderObject)\n      break\n    case 'inline-block':\n      this.paintInline(renderObject)\n      break\n    case 'inline':\n      this.paintInline(renderObject)\n      break\n    case 'text':\n      this.paintText(renderObject)\n      break\n    default:\n      break\n  }\n\n  if (renderObject.hasChildNode()) {\n    renderObject.children.forEach((child) => this.paint(child))\n  }\n}\n\nfunction mask(paths: Path[]): void {\n  this.ctx.beginPath()\n  this.ctx.moveTo(0, 0)\n  this.ctx.lineTo(this.canvas.width, 0)\n  this.ctx.lineTo(this.canvas.width, this.canvas.height)\n  this.ctx.lineTo(0, this.canvas.height)\n  this.ctx.lineTo(0, 0)\n  this.formatPath(paths.slice(0).reverse())\n  this.ctx.closePath()\n}\n\nfunction _path(ctx: CanvasRenderingContext2D, paths: Path[]): void {\n  ctx.beginPath()\n  _formatPath(ctx, paths)\n  ctx.closePath()\n}\n\nfunction _formatPath(ctx: CanvasRenderingContext2D, paths: Path[]): void {\n  paths.forEach((point, index) => {\n    const start: Vector = isBezierCurve(point) ? point.start : point\n    if (index === 0) {\n      ctx.moveTo(start.x, start.y)\n    } else {\n      ctx.lineTo(start.x, start.y)\n    }\n\n    if (isBezierCurve(point)) {\n      ctx.bezierCurveTo(\n        point.startControl.x,\n        point.startControl.y,\n        point.endControl.x,\n        point.endControl.y,\n        point.end.x,\n        point.end.y\n      )\n    }\n  })\n}\n\nfunction _paintBackGroundAndBorder(ctx: CanvasRenderingContext2D, renderObject) {\n  const styles = renderObject.element.computedStyles\n  const backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(\n    getBackgroundValueForIndex(styles.backgroundClip, 0),\n    renderObject.curves\n  )\n  ctx.save()\n  _path(ctx, backgroundPaintingArea)\n  ctx.clip()\n\n  // if (!isTransparent(styles.backgroundColor)) {\n  if (styles.backgroundColor && styles.backgroundColor !== 'transparent') {\n    ctx.fillStyle = styles.backgroundColor\n    ctx.fill()\n  }\n\n  ctx.restore()\n}\n\nfunction paintBlock(this: CanvasRenderer, renderObject) {\n  _paintBackGroundAndBorder(this.ctx, renderObject)\n}\n\nfunction paintInline(this: CanvasRenderer, renderObject) {\n  _paintBackGroundAndBorder(this.ctx, renderObject)\n}\n\nfunction paintText(this: CanvasRenderer, renderObject) {\n  const { ctx } = this\n  const styles = renderObject.getTextStyles()\n\n  ctx.textBaseline = 'ideographic'\n  console.log('fontFamily', styles.fontFamily, styles.fontSize)\n  ctx.font = `normal ${styles.fontSize}px ${styles.fontFamily || this.defaultFontFamily}`\n  ctx.fillStyle = styles.color\n  renderObject.textLines.lines.forEach((line) =>\n    ctx.fillText(line[0], line[1], line[2] + renderObject.layoutBox.top)\n  )\n}\n\nconst calculateBackgroundCurvedPaintingArea = (\n  clip: BACKGROUND_CLIP,\n  curves: BoundCurves\n): Path[] => {\n  switch (clip) {\n    case BACKGROUND_CLIP.BORDER_BOX:\n      return calculateBorderBoxPath(curves)\n    case BACKGROUND_CLIP.CONTENT_BOX:\n      return calculateContentBoxPath(curves)\n    case BACKGROUND_CLIP.PADDING_BOX:\n    default:\n      return calculatePaddingBoxPath(curves)\n  }\n}\n","import { isFunction } from './general'\n\nexport const withConstructor = (constructor) => (o) => {\n  const proto = Object.assign({}, Object.getPrototypeOf(o), { constructor })\n  return Object.assign(Object.create(proto), o)\n}\n\nexport const curry = (fn) => {\n  return function curried(...args) {\n    if (args.length >= fn.length) {\n      return fn.apply(this, args)\n    } else {\n      return function (...args2) {\n        return curried.apply(this, args.concat(args2))\n      }\n    }\n  }\n}\n\nexport const pipe =\n  <T>(...fns: Array<(arg: T) => T>) =>\n  (x: T): any => {\n    return fns.reduce((y, f) => f(y), x)\n  }\n\nexport const compose = (args) => pipe(args.reverse())\n\nlet breakFlag = false\n\nexport const pipeLine =\n  <T>(...fns: Array<(arg: T) => T>) =>\n  (x: T) => {\n    return fns.reduce((y, f) => (breakFlag ? resetPipeLine(x) : f(y)), x)\n  }\n\nexport const breakPipe = (): void => {\n  breakFlag = true\n}\n\nconst resetPipeLine = (x: any): any => {\n  breakFlag = false\n  return x\n}\n\nexport const when =\n  (cond: Function, f: Function, hook?: Function) => (x: any) =>\n    cond()\n      ? (() => {\n          hook && hook()\n          return f(x)\n        })()\n      : x\n","export type TreeNodeOptions<T> = {\n  children?: TreeNode<T>[]\n  textContent?: string\n}\n\nexport interface TreeNode<T> {\n  __v_isTreeNode: boolean\n  _parentNode: TreeNode<T> | null\n  _previousSibling: TreeNode<T> | null\n  _nextSibling: TreeNode<T> | null\n  _children: TreeNode<T>[]\n  parentNode: T | null\n  previousSibling: T | null\n  nextSibling: T | null\n  children: T[]\n  textContent: string | null\n  setParentNode(node: TreeNode<T>): void\n  getRootNode(): T | null\n  appendChildNode(child: TreeNode<T>): void\n  prependChildNode(child: TreeNode<T>): void\n  removeChildNode(child: TreeNode<T>): void\n  hasChildNode(): boolean\n  append(): void\n  prepend(): void\n  remove(): void\n}\n\nexport function isTreeNode(value: any): value is TreeNode<any> {\n  return value ? value.__v_isTreeNode === true : false\n}\n\nexport function isEndNode<T>(node: TreeNode<T>) {\n  return node.parentNode && !node.nextSibling && !node.hasChildNode()\n}\n\nexport const createTreeNode =\n  <T>(options?: TreeNodeOptions<T>) =>\n  (o): TreeNode<T> => {\n    const treeNode: TreeNode<T> = {\n      ...o,\n      __v_isTreeNode: true,\n      textContent: options ? options.textContent : null,\n      _parentNode: null,\n      _previousSibling: null,\n      _nextSibling: null,\n      _children: options ? options.children : [],\n      set parentNode(val) {\n        this._parentNode = val\n      },\n      get parentNode() {\n        return this._parentNode\n      },\n      set previousSibling(val) {\n        this._previousSibling = val\n      },\n      get previousSibling() {\n        return this._previousSibling\n      },\n      set nextSibling(val) {\n        this._nextSibling = val\n      },\n      get nextSibling() {\n        return this._nextSibling\n      },\n      set children(val) {\n        this._children = val\n      },\n      get children() {\n        return this._children || []\n      },\n      setParentNode,\n      getRootNode,\n      appendChildNode,\n      prependChildNode,\n      removeChildNode,\n      hasChildNode,\n      append,\n      prepend,\n      remove\n    }\n\n    return treeNode\n  }\n\nfunction setParentNode<T>(node: TreeNode<T>) {\n  this.parentNode = node\n}\n\nfunction getRootNode<T>(): TreeNode<T> | T {\n  return _getRoot<T>(this)\n}\n\nfunction hasChildNode() {\n  return Array.isArray(this._children) && this._children.length ? true : false\n}\n\nfunction appendChildNode<T>(child: T) {\n  if (!isTreeNode(child)) throw Error('Unknown treeNode type')\n  const node = this as TreeNode<T>\n\n  const prev = node._children[node._children.length - 1] || null\n  if (prev && isTreeNode(prev)) {\n    _setSiblingNode<T>(prev, prev.previousSibling, child)\n  }\n\n  Array.isArray(node._children) && node._children.push(child)\n\n  child.setParentNode(node)\n  _setSiblingNode(child, prev, null)\n}\n\nfunction prependChildNode<T>(child: TreeNode<T>) {\n  if (!isTreeNode(child)) throw Error('Unknown treeNode type')\n}\n\nfunction removeChildNode<T>(child: TreeNode<T>) {\n  if (!isTreeNode(child)) throw Error('Unknown treeNode type')\n}\n\nfunction append() {}\n\nfunction prepend() {}\n\nfunction remove() {}\n\nfunction _getRoot<T>(node: TreeNode<T>): TreeNode<T> | T {\n  if (node.parentNode) {\n    return _getRoot(node.parentNode as TreeNode<T>)\n  } else {\n    return node\n  }\n}\n\nfunction _setSiblingNode<T>(node: TreeNode<T>, prev: T | null, next: T | null): void {\n  node.previousSibling = prev\n  node.nextSibling = next\n}\n\nexport function connectChildren(node) {\n  if (node.hasChildNode()) {\n    node._children.map((child, index) => {\n      child.setParentNode(node)\n      _setSiblingNode(child, node._children[index - 1], node._children[index + 1])\n      connectChildren(child)\n    })\n  }\n}\n","/**\n * Patch flags are optimization hints generated by the compiler.\n * when a block with dynamicChildren is encountered during diff, the algorithm\n * enters \"optimized mode\". In this mode, we know that the vdom is produced by\n * a render function generated by the compiler, so the algorithm only needs to\n * handle updates explicitly marked by these patch flags.\n *\n * Patch flags can be combined using the | bitwise operator and can be checked\n * using the & operator, e.g.\n *\n * ```js\n * const flag = TEXT | CLASS\n * if (flag & TEXT) { ... }\n * ```\n *\n * Check the `patchElement` function in '../../runtime-core/src/renderer.ts' to see how the\n * flags are handled during diff.\n */\nexport const enum PatchFlags {\n  /**\n   * Indicates an element with dynamic textContent (children fast path)\n   */\n  TEXT = 1,\n\n  /**\n   * Indicates an element with dynamic class binding.\n   */\n  CLASS = 1 << 1,\n\n  /**\n   * Indicates an element with dynamic style\n   * The compiler pre-compiles static string styles into static objects\n   * + detects and hoists inline static objects\n   * e.g. `style=\"color: red\"` and `:style=\"{ color: 'red' }\"` both get hoisted\n   * as:\n   * ```js\n   * const style = { color: 'red' }\n   * render() { return e('div', { style }) }\n   * ```\n   */\n  STYLE = 1 << 2,\n\n  /**\n   * Indicates an element that has non-class/style dynamic props.\n   * Can also be on a component that has any dynamic props (includes\n   * class/style). when this flag is present, the vnode also has a dynamicProps\n   * array that contains the keys of the props that may change so the runtime\n   * can diff them faster (without having to worry about removed props)\n   */\n  PROPS = 1 << 3,\n\n  /**\n   * Indicates an element with props with dynamic keys. When keys change, a full\n   * diff is always needed to remove the old key. This flag is mutually\n   * exclusive with CLASS, STYLE and PROPS.\n   */\n  FULL_PROPS = 1 << 4,\n\n  /**\n   * Indicates an element with event listeners (which need to be attached\n   * during hydration)\n   */\n  HYDRATE_EVENTS = 1 << 5,\n\n  /**\n   * Indicates a fragment whose children order doesn't change.\n   */\n  STABLE_FRAGMENT = 1 << 6,\n\n  /**\n   * Indicates a fragment with keyed or partially keyed children\n   */\n  KEYED_FRAGMENT = 1 << 7,\n\n  /**\n   * Indicates a fragment with unkeyed children.\n   */\n  UNKEYED_FRAGMENT = 1 << 8,\n\n  /**\n   * Indicates an element that only needs non-props patching, e.g. ref or\n   * directives (onVnodeXXX hooks). since every patched vnode checks for refs\n   * and onVnodeXXX hooks, it simply marks the vnode so that a parent block\n   * will track it.\n   */\n  NEED_PATCH = 1 << 9,\n\n  /**\n   * Indicates a component with dynamic slots (e.g. slot that references a v-for\n   * iterated value, or dynamic slot names).\n   * Components with this flag are always force updated.\n   */\n  DYNAMIC_SLOTS = 1 << 10,\n\n  /**\n   * Indicates a fragment that was created only because the user has placed\n   * comments at the root level of a template. This is a dev-only flag since\n   * comments are stripped in production.\n   */\n  DEV_ROOT_FRAGMENT = 1 << 11,\n\n  /**\n   * SPECIAL FLAGS -------------------------------------------------------------\n   * Special flags are negative integers. They are never matched against using\n   * bitwise operators (bitwise matching should only happen in branches where\n   * patchFlag > 0), and are mutually exclusive. When checking for a special\n   * flag, simply check patchFlag === FLAG.\n   */\n\n  /**\n   * Indicates a hoisted static vnode. This is a hint for hydration to skip\n   * the entire sub tree since static content never needs to be updated.\n   */\n  HOISTED = -1,\n  /**\n   * A special flag that indicates that the diffing algorithm should bail out\n   * of optimized mode. For example, on block fragments created by renderSlot()\n   * when encountering non-compiler generated slots (i.e. manually written\n   * render functions, which should always be fully diffed)\n   * OR manually cloneVNodes\n   */\n  BAIL = -2\n}\n\n/**\n * dev only flag -> name mapping\n */\nexport const PatchFlagNames: Record<PatchFlags, string> = {\n  [PatchFlags.TEXT]: `TEXT`,\n  [PatchFlags.CLASS]: `CLASS`,\n  [PatchFlags.STYLE]: `STYLE`,\n  [PatchFlags.PROPS]: `PROPS`,\n  [PatchFlags.FULL_PROPS]: `FULL_PROPS`,\n  [PatchFlags.HYDRATE_EVENTS]: `HYDRATE_EVENTS`,\n  [PatchFlags.STABLE_FRAGMENT]: `STABLE_FRAGMENT`,\n  [PatchFlags.KEYED_FRAGMENT]: `KEYED_FRAGMENT`,\n  [PatchFlags.UNKEYED_FRAGMENT]: `UNKEYED_FRAGMENT`,\n  [PatchFlags.NEED_PATCH]: `NEED_PATCH`,\n  [PatchFlags.DYNAMIC_SLOTS]: `DYNAMIC_SLOTS`,\n  [PatchFlags.DEV_ROOT_FRAGMENT]: `DEV_ROOT_FRAGMENT`,\n  [PatchFlags.HOISTED]: `HOISTED`,\n  [PatchFlags.BAIL]: `BAIL`\n}\n","import { Engine } from '../engine'\nimport { RenderObject } from '../render/renderObject'\nimport { TreeNode, createTreeNode } from '../tree-node'\nimport { pipe, withConstructor } from '../utils'\nimport { CanvasElement, ComputedStyles, _initRenderObject } from './element'\n\nexport function isCanvasTextNode(value: any): value is CanvasTextNode {\n  return value ? value.__v_isCanvasTextNode === true : false\n}\n\nexport interface CanvasTextNode extends TreeNode<CanvasElement> {\n  __v_isCanvasTextNode: boolean\n  computedStyles: ComputedStyles | { width: number; height: number }\n  renderObject: RenderObject | null\n  debugColor: string | null\n  getContainer(): CanvasElement\n  attach(parent: CanvasElement): void\n}\n\nexport type CreateTextNodeAPI = (context: Engine) => CreateTextNodeFn\n\nexport type CreateTextNodeFn = (text: string) => CanvasTextNode\n\nexport const createTextNode = function CanvasTextNode(text: string) {\n  return pipe(\n    createTreeNode<CanvasTextNode>({ textContent: text }),\n    createBaseTextNode(),\n    withConstructor(CanvasTextNode)\n  )({} as CanvasTextNode)\n}\n\nexport const createBaseTextNode =\n  () =>\n  (o: TreeNode<CanvasElement>): CanvasTextNode => {\n    let textNode: CanvasTextNode = {\n      ...o,\n      __v_isCanvasTextNode: true,\n      computedStyles: { width: 0, height: 0 },\n      renderObject: null,\n      debugColor: null,\n      getContainer,\n      attach\n    }\n\n    return textNode\n  }\n\nfunction getContainer(this: CanvasTextNode) {\n  return this.parentNode\n}\n\nfunction attach(this: CanvasTextNode, parent: CanvasElement) {\n  if (!this.renderObject) {\n    _initRenderObject(this)\n  }\n  parent.renderObject.appendChild(this.renderObject)\n}\n","// RenderBlock {HTML} at (0, 0) size 640x480\n// |—— RenderBody {BODY} at (0, 80) size 640x480 [bgcolor=# FFFFFF]\n// | |—— RenderBlock {P} at (0, 0) size 640x80\n// | | |—— RenderText {#text} at (0, 0) size 48x24 \"First line.\"\n// | | |—— RenderBR {BR} at (20, 20) size 0x0\n// | | |—— RenderText {#text} at (0, 24) size 48x24 \"Second one.\"\n\nimport { TreeNode, createTreeNode } from '../tree-node'\nimport { pipe, withConstructor } from '../utils'\n\n// BoxModel\n// |-------------------------------------------------|\n// |                                                 |\n// |                  margin-top                     |\n// |                                                 |\n// |    |---------------------------------------|    |\n// |    |                                       |    |\n// |    |             border-top                |    |\n// |    |                                       |    |\n// |    |    |--------------------------|--|    |    |\n// |    |    |                          |  |    |    |\n// |    |    |       padding-top        |##|    |    |\n// |    |    |                          |##|    |    |\n// |    |    |    |----------------|    |##|    |    |\n// |    |    |    |                |    |  |    |    |\n// | ML | BL | PL |  content box   | PR |SW| BR | MR |\n// |    |    |    |                |    |  |    |    |\n// |    |    |    |----------------|    |  |    |    |\n// |    |    |                          |  |    |    |\n// |    |    |      padding-bottom      |  |    |    |\n// |    |    |                          |  |    |    |\n// |    |    |--------------------------|--|    |    |\n// |    |    |     scrollbar height ####|SC|    |    |\n// |    |    |-----------------------------|    |    |\n// |    |                                       |    |\n// |    |           border-bottom               |    |\n// |    |                                       |    |\n// |    |---------------------------------------|    |\n// |                                                 |\n// |                margin-bottom                    |\n// |                                                 |\n// |-------------------------------------------------|\n\n// BL = border-left\n// BR = border-right\n// ML = margin-left\n// MR = margin-right\n// PL = padding-left\n// PR = padding-right\n// SC = scroll corner\n// SW = scrollbar width\n\nexport type CreateLayoutFn = (\n  parent: LayoutBox,\n  top: number,\n  left: number,\n  width: number,\n  height: number\n) => LayoutBox\n\nexport interface LayoutBox extends TreeNode<LayoutBox> {\n  __v_isLayoutBox: boolean\n  top: number\n  left: number\n  bottom: number\n  right: number\n  width: number\n  height: number\n  appendChild(child: LayoutBox): void\n  setTop(val: number): void\n  setLeft(val: number): void\n  setWidth(val: number): void\n  setHeight(val: number): void\n}\n\nexport const createBaseLayoutBox =\n  (parent, top, left, width, height) =>\n  (o): LayoutBox => {\n    let layoutBox = {\n      __v_isLayoutBox: true,\n      ...o,\n      top,\n      left,\n      width,\n      height,\n      get bottom() {\n        return this.top + this.height\n      },\n      get right() {\n        return this.left + this.width\n      },\n      appendChild,\n      setTop,\n      setLeft,\n      setWidth,\n      setHeight\n    }\n\n    function appendChild(child) {\n      this.appendChildNode(child)\n    }\n\n    function setTop(val) {\n      this.top = val\n    }\n\n    function setLeft(val) {\n      this.left = val\n    }\n\n    function setWidth(val) {\n      this.width = val\n    }\n\n    function setHeight(val) {\n      this.height = val\n    }\n\n    return layoutBox\n  }\n\nexport const createLayoutBox: CreateLayoutFn = function LayoutBox(\n  parent,\n  top,\n  left,\n  width,\n  height\n) {\n  return pipe(\n    createTreeNode(),\n    createBaseLayoutBox(parent, top, left, width, height),\n    withConstructor(LayoutBox)\n  )({} as any)\n}\n","import { CanvasElement } from '../element/element'\nimport { LayoutBox, createLayoutBox } from '../layout/layoutBox-bp'\nimport { createTreeNode } from '../tree-node'\nimport { NOOP, breakPipe, isAuto, pipe, pipeLine, when, withConstructor } from '../utils'\nimport { RenderObject, RenderObjectOptions, createBaseRenderObject } from './renderObject'\n\ntype Bounds = {\n  parentBox: LayoutBox\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\ntype Size = {\n  width: number\n  height: number\n}\n\nexport type CreateRenderBlockFn = (\n  element: CanvasElement,\n  options?: RenderObjectOptions\n) => RenderBlock\n\nexport interface RenderBlock extends RenderObject {}\n\nexport const createRenderBlock: CreateRenderBlockFn = function RenderBlock(element, options = {}) {\n  return pipe(\n    createTreeNode<RenderObject>(),\n    createBaseRenderObject(element, options),\n    createBaseRenderBlock(),\n    withConstructor(RenderBlock)\n  )({} as RenderBlock)\n}\n\nexport const createBaseRenderBlock =\n  () =>\n  (o: RenderObject): RenderBlock => {\n    let renderBlock: RenderBlock = {\n      ...o,\n      type: 'block',\n      layout,\n      measureBoxSize\n    }\n\n    return renderBlock\n  }\n\nfunction layout(this: RenderBlock) {\n  console.log('layout', this)\n  const calc = (renderBlock: RenderBlock): Bounds =>\n    pipeLine(\n      when(() => renderBlock.isRoot(), initRootBounds(renderBlock), breakPipe),\n      calcBounds(renderBlock)\n    )({\n      parentBox: null,\n      top: 0,\n      left: 0,\n      width: 0,\n      height: 0\n    })\n\n  let bounds = calc(this)\n\n  if (!this.layoutBox) {\n    initLayout(this, bounds)\n  } else {\n    updateLayout(this, bounds)\n  }\n}\n\n// measure box size\nfunction measureBoxSize(this: RenderBlock) {\n  console.log('measureBoxSize', this)\n  const measure = (renderBlock: RenderBlock): Size =>\n    pipeLine(\n      initSize(renderBlock),\n      when(() => renderBlock.isRoot(), setRootSize(renderBlock), breakPipe),\n      when(() => !renderBlock.hasChildNode(), NOOP, breakPipe),\n      when(() => isAuto(renderBlock.element.computedStyles.width), calcWidthByChild(renderBlock)),\n      when(() => isAuto(renderBlock.element.computedStyles.height), calcHeightByChild(renderBlock))\n    )({ width: 0, height: 0 })\n\n  let size = measure(this)\n\n  this.element.computedStyles.width = size.width\n  this.element.computedStyles.height = size.height\n}\n\nconst initRootBounds =\n  (renderBlock: RenderBlock) =>\n  (o): Bounds => {\n    o.width = renderBlock.viewport.width\n    o.height = renderBlock.viewport.height\n\n    return o\n  }\n\nconst calcBounds =\n  (renderBlock: RenderBlock) =>\n  (o): Bounds => {\n    const {\n      borderTopWidth,\n      borderBottomWidth,\n      borderLeftWidth,\n      borderRightWidth,\n      paddingTop,\n      paddingBottom,\n      paddingLeft,\n      paddingRight,\n      marginTop,\n      width,\n      height\n    } = renderBlock.element.computedStyles\n\n    const parentBox = renderBlock.getContainer().layoutBox\n    const prevSiblingBox = renderBlock.previousSibling\n      ? renderBlock.previousSibling.layoutBox\n      : null\n\n    let _top = (prevSiblingBox ? prevSiblingBox.bottom : parentBox.top) + marginTop\n    let _left = parentBox.left\n    let _width =\n      Number(borderLeftWidth) +\n      Number(paddingLeft) +\n      Number(width) +\n      Number(paddingRight) +\n      Number(borderRightWidth)\n    let _height =\n      Number(borderTopWidth) +\n      Number(paddingTop) +\n      Number(height) +\n      Number(paddingBottom) +\n      Number(borderBottomWidth)\n\n    o.parentBox = parentBox\n    o.top = _top\n    o.left = _left\n    o.width = _width\n    o.height = _height\n    return o\n  }\n\nconst initLayout = (renderBlock: RenderBlock, bounds: Bounds): void => {\n  renderBlock.layoutBox = createLayoutBox(\n    bounds.parentBox,\n    bounds.top,\n    bounds.left,\n    bounds.width,\n    bounds.height\n  )\n}\n\nconst updateLayout = (renderBlock: RenderBlock, bounds: Bounds): void => {\n  renderBlock.layoutBox.setTop(bounds.top)\n  renderBlock.layoutBox.setLeft(bounds.left)\n  renderBlock.layoutBox.setWidth(bounds.width)\n  renderBlock.layoutBox.setHeight(bounds.height)\n}\n\nconst initSize =\n  (renderBlock: RenderBlock) =>\n  (o: Bounds): Bounds => {\n    o.width = renderBlock.element.computedStyles.width\n    o.height = renderBlock.element.computedStyles.height\n    return o\n  }\n\nconst setRootSize =\n  (renderBlock: RenderBlock) =>\n  (o: Bounds): Bounds => {\n    o.width = renderBlock.viewport.width\n    o.height = renderBlock.viewport.height\n    return o\n  }\n\nconst calcWidthByChild =\n  (renderBlock: RenderBlock) =>\n  (o: Size): Size => {\n    o.width = renderBlock.children.reduce((acc, curr) => {\n      return Number(curr.element.computedStyles.width) > acc\n        ? Number(curr.element.computedStyles.width)\n        : acc\n    }, 0)\n    return o\n  }\n\nconst calcHeightByChild =\n  (renderBlock: RenderBlock) =>\n  (o: Size): Size => {\n    o.height = renderBlock.children.reduce((acc, curr) => {\n      return acc + Number(curr.element.computedStyles.height)\n    }, 0)\n    return o\n  }\n","import { LayoutBox, createLayoutBox } from '../layout/layoutBox-bp'\nimport { RenderInline } from './renderInline'\n\nexport interface LineBox {\n  lines: RenderInline[]\n  layoutBox: LayoutBox\n  add(renderInline: RenderInline): void\n}\n\nexport function createLineBox(parentLayoutBox): LineBox {\n  let lineBox = {\n    lines: [],\n    layoutBox: null,\n    add\n  }\n\n  function _init(renderInline, parentBox, prevBox) {\n    let top = prevBox ? prevBox.bottom : parentBox.top\n    let left = parentBox.left\n    let w = Number(renderInline.element.computedStyles.width)\n    let h = Number(renderInline.element.computedStyles.height)\n\n    lineBox.layoutBox.setTop(top)\n    lineBox.layoutBox.setLeft(left)\n    lineBox.layoutBox.setWidth(w)\n    lineBox.layoutBox.setHeight(h)\n\n    renderInline.layoutBox.setTop(top)\n    renderInline.layoutBox.setLeft(left)\n    renderInline.type === 'inline-block' && renderInline.layoutBox.setWidth(w)\n    renderInline.type === 'inline-block' && renderInline.layoutBox.setHeight(h)\n\n    lineBox.lines = [renderInline]\n  }\n\n  function add(renderInline) {\n    if (lineBox.lines.length === 0) {\n      _init(\n        renderInline,\n        renderInline.getContainer().layoutBox,\n        renderInline.previousSibling\n          ? renderInline.previousSibling.layoutBox\n          : null\n      )\n      return\n    }\n    const {\n      borderLeftWidth,\n      borderRightWidth,\n      paddingLeft,\n      paddingRight,\n      width\n    } = renderInline.element.computedStyles\n\n    let w =\n      Number(borderLeftWidth) +\n      Number(paddingLeft) +\n      Number(width) +\n      Number(paddingRight) +\n      Number(borderRightWidth)\n\n    let testWidth = lineBox.layoutBox.width + w\n    if (testWidth > renderInline.getContainer().element.computedStyles.width) {\n      console.log(\n        'h:',\n        testWidth,\n        renderInline,\n        lineBox.layoutBox.height,\n        Number(renderInline.element.computedStyles.height)\n      )\n\n      renderInline.lineBox = createLineBox(\n        renderInline.getContainer().layoutBox\n      )\n      renderInline.lineBox.add(renderInline)\n    } else {\n      lineBox.lines.push(renderInline)\n      renderInline.layoutBox.setTop(lineBox.layoutBox.top)\n      renderInline.layoutBox.setLeft(\n        renderInline.previousSibling.layoutBox.right\n      )\n\n      lineBox.layoutBox.setWidth(\n        lineBox.layoutBox.width +\n          Number(renderInline.element.computedStyles.width)\n      )\n    }\n  }\n\n  lineBox.layoutBox = createLayoutBox(parentLayoutBox, 0, 0, 0, 0)\n\n  return lineBox\n}\n","import { CanvasElement } from '../element/element'\nimport { createLayoutBox } from '../layout/layoutBox-bp'\nimport { createTreeNode } from '../tree-node'\nimport { pipe, withConstructor } from '../utils'\nimport { LineBox, createLineBox } from './lineBox'\nimport { RenderObject, RenderObjectOptions, createBaseRenderObject } from './renderObject'\n\nexport type CreateRenderInlineFn = (\n  element: CanvasElement,\n  options?: RenderObjectOptions\n) => RenderInline\n\nexport interface RenderInline extends RenderObject {\n  type: string\n  lineBox: LineBox | null\n  initLayout(): void\n  layout(): void\n  measureBoxSize(): void\n}\n\nexport const createRenderInline: CreateRenderInlineFn = function RenderInline(\n  element,\n  options = {}\n) {\n  return pipe(\n    createTreeNode<RenderObject>(),\n    createBaseRenderObject(element, options),\n    createBaseRenderInline(),\n    withConstructor(RenderInline)\n  )({} as RenderInline)\n}\n\nexport const createBaseRenderInline =\n  () =>\n  (o: RenderObject): RenderInline => {\n    let renderInline: RenderInline = {\n      ...o,\n      type: 'inline',\n      lineBox: null,\n      initLayout,\n      layout,\n      measureBoxSize\n    }\n\n    return renderInline\n  }\n\nfunction initLayout(this: RenderInline) {\n  this.layoutBox = createLayoutBox(\n    this.lineBox.layoutBox,\n    this.lineBox.layoutBox.top,\n    this.lineBox.layoutBox.left,\n    0,\n    0\n  )\n}\n\nfunction layout(this: RenderInline) {\n  console.log('layout-inline', this, this.element.id)\n  const prev = this.previousSibling as RenderInline\n  if (prev && prev.type.indexOf('inline') > -1) {\n    this.lineBox = prev.lineBox\n  } else {\n    this.lineBox = createLineBox(this.getContainer().layoutBox)\n  }\n\n  if (!this.layoutBox) {\n    this.initLayout()\n  }\n\n  this.lineBox.add(this)\n}\n\nfunction measureBoxSize(this: RenderInline) {\n  console.log('measureBoxSize-inline', this)\n\n  if (this.hasChildNode()) {\n    this.element.computedStyles.width = this.children.reduce((acc, curr) => {\n      return acc + Number(curr.element.computedStyles.width)\n    }, 0)\n\n    this.element.computedStyles.height = this.children.reduce((acc, curr) => {\n      return acc + Number(curr.element.computedStyles.height)\n    }, 0)\n  }\n}\n","import { CanvasElement } from '../element/element'\nimport { createLayoutBox } from '../layout/layoutBox-bp'\nimport { createTreeNode } from '../tree-node'\nimport { pipe, withConstructor } from '../utils'\nimport { LineBox } from './lineBox'\nimport { RenderInline, createBaseRenderInline } from './renderInline'\nimport { RenderObject, RenderObjectOptions, createBaseRenderObject } from './renderObject'\n\nexport type CreateRenderInlineBlockFn = (\n  element: CanvasElement,\n  options?: RenderObjectOptions\n) => RenderInlineBlock\n\nexport interface RenderInlineBlock extends RenderInline {\n  type: string\n  initLayout(): void\n  layout(): void\n  measureBoxSize(): void\n  lineBox: LineBox | null\n}\n\nexport const createRenderInlineBlock: CreateRenderInlineBlockFn = function RenderInlineBlock(\n  element,\n  options\n) {\n  return pipe(\n    createTreeNode<RenderObject>(),\n    createBaseRenderObject(element, (options = {})),\n    createBaseRenderInline(),\n    createBaseRenderInlineBlock(),\n    withConstructor(RenderInlineBlock)\n  )({} as RenderInlineBlock)\n}\n\nexport const createBaseRenderInlineBlock =\n  () =>\n  (o: RenderInline): RenderInlineBlock => {\n    let renderInlineBlock: RenderInlineBlock = {\n      ...o,\n      type: 'inline-block',\n      initLayout\n    }\n\n    return renderInlineBlock\n  }\n\nfunction initLayout(this: RenderInlineBlock) {\n  const {\n    borderTopWidth,\n    borderBottomWidth,\n    borderLeftWidth,\n    borderRightWidth,\n    paddingTop,\n    paddingBottom,\n    paddingLeft,\n    paddingRight,\n    width,\n    height\n  } = this.element.computedStyles\n\n  let w =\n    Number(borderLeftWidth) +\n    Number(paddingLeft) +\n    Number(width) +\n    Number(paddingRight) +\n    Number(borderRightWidth)\n  let h =\n    Number(borderTopWidth) +\n    Number(paddingTop) +\n    Number(height) +\n    Number(paddingBottom) +\n    Number(borderBottomWidth)\n\n  if (!this.layoutBox) {\n    this.layoutBox = createLayoutBox(\n      this.lineBox.layoutBox,\n      this.lineBox.layoutBox.top,\n      this.lineBox.layoutBox.left,\n      w,\n      h\n    )\n  }\n}\n","const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256)\nfor (let i = 0; i < chars.length; i++) {\n  lookup[chars.charCodeAt(i)] = i\n}\n\nexport const decode = (base64: string): ArrayBuffer | number[] => {\n  let bufferLength = base64.length * 0.75,\n    len = base64.length,\n    i,\n    p = 0,\n    encoded1,\n    encoded2,\n    encoded3,\n    encoded4\n\n  if (base64[base64.length - 1] === '=') {\n    bufferLength--\n    if (base64[base64.length - 2] === '=') {\n      bufferLength--\n    }\n  }\n\n  const buffer =\n    typeof ArrayBuffer !== 'undefined' &&\n    typeof Uint8Array !== 'undefined' &&\n    typeof Uint8Array.prototype.slice !== 'undefined'\n      ? new ArrayBuffer(bufferLength)\n      : new Array(bufferLength)\n  const bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer)\n\n  for (i = 0; i < len; i += 4) {\n    encoded1 = lookup[base64.charCodeAt(i)]\n    encoded2 = lookup[base64.charCodeAt(i + 1)]\n    encoded3 = lookup[base64.charCodeAt(i + 2)]\n    encoded4 = lookup[base64.charCodeAt(i + 3)]\n\n    bytes[p++] = (encoded1 << 2) | (encoded2 >> 4)\n    bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2)\n    bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63)\n  }\n\n  return buffer\n}\n\nexport const polyUint16Array = (buffer: number[]): number[] => {\n  const length = buffer.length\n  const bytes = []\n  for (let i = 0; i < length; i += 2) {\n    bytes.push((buffer[i + 1] << 8) | buffer[i])\n  }\n  return bytes\n}\n\nexport const polyUint32Array = (buffer: number[]): number[] => {\n  const length = buffer.length\n  const bytes = []\n  for (let i = 0; i < length; i += 4) {\n    bytes.push(\n      (buffer[i + 3] << 24) |\n        (buffer[i + 2] << 16) |\n        (buffer[i + 1] << 8) |\n        buffer[i]\n    )\n  }\n  return bytes\n}\n\nexport const toCodePoints = (str: string): number[] => {\n  const codePoints = []\n  let i = 0\n  const length = str.length\n  while (i < length) {\n    const value = str.charCodeAt(i++)\n    if (value >= 0xd800 && value <= 0xdbff && i < length) {\n      const extra = str.charCodeAt(i++)\n      if ((extra & 0xfc00) === 0xdc00) {\n        codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000)\n      } else {\n        codePoints.push(value)\n        i--\n      }\n    } else {\n      codePoints.push(value)\n    }\n  }\n  return codePoints\n}\n\nexport const fromCodePoint = (...codePoints: number[]): string => {\n  if (String.fromCodePoint) {\n    return String.fromCodePoint(...codePoints)\n  }\n\n  const length = codePoints.length\n  if (!length) {\n    return ''\n  }\n\n  const codeUnits = []\n\n  let index = -1\n  let result = ''\n  while (++index < length) {\n    let codePoint = codePoints[index]\n    if (codePoint <= 0xffff) {\n      codeUnits.push(codePoint)\n    } else {\n      codePoint -= 0x10000\n      codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00)\n    }\n    if (index + 1 === length || codeUnits.length > 0x4000) {\n      result += String.fromCharCode(...codeUnits)\n      codeUnits.length = 0\n    }\n  }\n  return result\n}\n","import { decode, polyUint16Array, polyUint32Array } from './Util'\n\nexport type int = number\n\n/** Shift size for getting the index-2 table offset. */\nexport const UTRIE2_SHIFT_2 = 5\n\n/** Shift size for getting the index-1 table offset. */\nexport const UTRIE2_SHIFT_1 = 6 + 5\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nexport const UTRIE2_INDEX_SHIFT = 2\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nexport const UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nexport const UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2\n\n/** Number of entries in a data block. 32=0x20 */\nexport const UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2\n/** Mask for getting the lower bits for the in-data-block offset. */\nexport const UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1\n\nexport const UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nexport const UTRIE2_INDEX_2_BMP_LENGTH =\n  UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nexport const UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH\nexport const UTRIE2_UTF8_2B_INDEX_2_LENGTH =\n  0x800 >> 6 /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nexport const UTRIE2_INDEX_1_OFFSET =\n  UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nexport const UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1\n\n/** Number of entries in an index-2 block. 64=0x40 */\nexport const UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nexport const UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1\n\nconst slice16 = (view: number[] | Uint16Array, start: number, end?: number) => {\n  if (view.slice) {\n    return view.slice(start, end)\n  }\n\n  return new Uint16Array(Array.prototype.slice.call(view, start, end))\n}\n\nconst slice32 = (view: number[] | Uint32Array, start: number, end?: number) => {\n  if (view.slice) {\n    return view.slice(start, end)\n  }\n\n  return new Uint32Array(Array.prototype.slice.call(view, start, end))\n}\n\nexport const createTrieFromBase64 = (\n  base64: string,\n  _byteLength: number\n): Trie => {\n  const buffer = decode(base64)\n  const view32 = Array.isArray(buffer)\n    ? polyUint32Array(buffer)\n    : new Uint32Array(buffer)\n  const view16 = Array.isArray(buffer)\n    ? polyUint16Array(buffer)\n    : new Uint16Array(buffer)\n  const headerLength = 24\n\n  const index = slice16(view16, headerLength / 2, view32[4] / 2)\n  const data =\n    view32[5] === 2\n      ? slice16(view16, (headerLength + view32[4]) / 2)\n      : slice32(view32, Math.ceil((headerLength + view32[4]) / 4))\n\n  return new Trie(view32[0], view32[1], view32[2], view32[3], index, data)\n}\n\nexport class Trie {\n  initialValue: int\n  errorValue: int\n  highStart: int\n  highValueIndex: int\n  index: Uint16Array | number[]\n  data: Uint32Array | Uint16Array | number[]\n\n  constructor(\n    initialValue: int,\n    errorValue: int,\n    highStart: int,\n    highValueIndex: int,\n    index: Uint16Array | number[],\n    data: Uint32Array | Uint16Array | number[]\n  ) {\n    this.initialValue = initialValue\n    this.errorValue = errorValue\n    this.highStart = highStart\n    this.highValueIndex = highValueIndex\n    this.index = index\n    this.data = data\n  }\n\n  /**\n   * Get the value for a code point as stored in the Trie.\n   *\n   * @param codePoint the code point\n   * @return the value\n   */\n  get(codePoint: number): number {\n    let ix\n    if (codePoint >= 0) {\n      if (\n        codePoint < 0x0d800 ||\n        (codePoint > 0x0dbff && codePoint <= 0x0ffff)\n      ) {\n        // Ordinary BMP code point, excluding leading surrogates.\n        // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n        // 16 bit data is stored in the index array itself.\n        ix = this.index[codePoint >> UTRIE2_SHIFT_2]\n        ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK)\n        return this.data[ix]\n      }\n\n      if (codePoint <= 0xffff) {\n        // Lead Surrogate Code Point.  A Separate index section is stored for\n        // lead surrogate code units and code points.\n        //   The main index has the code unit data.\n        //   For this function, we need the code point data.\n        // Note: this expression could be refactored for slightly improved efficiency, but\n        //       surrogate code points will be so rare in practice that it's not worth it.\n        ix =\n          this.index[\n            UTRIE2_LSCP_INDEX_2_OFFSET +\n              ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)\n          ]\n        ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK)\n        return this.data[ix]\n      }\n\n      if (codePoint < this.highStart) {\n        // Supplemental code point, use two-level lookup.\n        ix =\n          UTRIE2_INDEX_1_OFFSET -\n          UTRIE2_OMITTED_BMP_INDEX_1_LENGTH +\n          (codePoint >> UTRIE2_SHIFT_1)\n        ix = this.index[ix]\n        ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK\n        ix = this.index[ix]\n        ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK)\n        return this.data[ix]\n      }\n      if (codePoint <= 0x10ffff) {\n        return this.data[this.highValueIndex]\n      }\n    }\n\n    // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n    return this.errorValue\n  }\n}\n","'use strict'\n\nimport { createTrieFromBase64 } from './utrie'\nimport { base64, byteLength } from './linebreak-trie'\nimport { fromCodePoint, toCodePoints } from './Util'\n\nexport const LETTER_NUMBER_MODIFIER = 50\n\n// Non-tailorable Line Breaking Classes\nconst BK = 1 //  Cause a line break (after)\nconst CR = 2 //  Cause a line break (after), except between CR and LF\nconst LF = 3 //  Cause a line break (after)\nconst CM = 4 //  Prohibit a line break between the character and the preceding character\nconst NL = 5 //  Cause a line break (after)\nconst SG = 6 //  Do not occur in well-formed text\nconst WJ = 7 //  Prohibit line breaks before and after\nconst ZW = 8 //  Provide a break opportunity\nconst GL = 9 //  Prohibit line breaks before and after\nconst SP = 10 // Enable indirect line breaks\nconst ZWJ = 11 // Prohibit line breaks within joiner sequences\n// Break Opportunities\nconst B2 = 12 //  Provide a line break opportunity before and after the character\nconst BA = 13 //  Generally provide a line break opportunity after the character\nconst BB = 14 //  Generally provide a line break opportunity before the character\nconst HY = 15 //  Provide a line break opportunity after the character, except in numeric context\nconst CB = 16 //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nconst CL = 17 //  Prohibit line breaks before\nconst CP = 18 //  Prohibit line breaks before\nconst EX = 19 //  Prohibit line breaks before\nconst IN = 20 //  Allow only indirect line breaks between pairs\nconst NS = 21 //  Allow only indirect line breaks before\nconst OP = 22 //  Prohibit line breaks after\nconst QU = 23 //  Act like they are both opening and closing\n// Numeric Context\nconst IS = 24 //  Prevent breaks after any and before numeric\nconst NU = 25 //  Form numeric expressions for line breaking purposes\nconst PO = 26 //  Do not break following a numeric expression\nconst PR = 27 //  Do not break in front of a numeric expression\nconst SY = 28 //  Prevent a break before; and allow a break after\n// Other Characters\nconst AI = 29 //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nconst AL = 30 //  Are alphabetic characters or symbols that are used with alphabetic characters\nconst CJ = 31 //  Treat as NS or ID for strict or normal breaking.\nconst EB = 32 //  Do not break from following Emoji Modifier\nconst EM = 33 //  Do not break from preceding Emoji Base\nconst H2 = 34 //  Form Korean syllable blocks\nconst H3 = 35 //  Form Korean syllable blocks\nconst HL = 36 //  Do not break around a following hyphen; otherwise act as Alphabetic\nconst ID = 37 //  Break before or after; except in some numeric context\nconst JL = 38 //  Form Korean syllable blocks\nconst JV = 39 //  Form Korean syllable blocks\nconst JT = 40 //  Form Korean syllable blocks\nconst RI = 41 //  Keep pairs together. For pairs; break before and after other classes\nconst SA = 42 //  Provide a line break opportunity contingent on additional, language-specific context analysis\nconst XX = 43 //  Have as yet unknown line breaking behavior or unassigned code positions\n\nconst ea_OP = [0x2329, 0xff08]\n\nexport const classes: { [key: string]: number } = {\n  BK,\n  CR,\n  LF,\n  CM,\n  NL,\n  SG,\n  WJ,\n  ZW,\n  GL,\n  SP,\n  ZWJ,\n  B2,\n  BA,\n  BB,\n  HY,\n  CB,\n  CL,\n  CP,\n  EX,\n  IN,\n  NS,\n  OP,\n  QU,\n  IS,\n  NU,\n  PO,\n  PR,\n  SY,\n  AI,\n  AL,\n  CJ,\n  EB,\n  EM,\n  H2,\n  H3,\n  HL,\n  ID,\n  JL,\n  JV,\n  JT,\n  RI,\n  SA,\n  XX\n}\n\nexport const BREAK_MANDATORY = '!'\nexport const BREAK_NOT_ALLOWED = '×'\nexport const BREAK_ALLOWED = '÷'\nexport const UnicodeTrie = createTrieFromBase64(base64, byteLength)\n\nconst ALPHABETICS = [AL, HL]\nconst HARD_LINE_BREAKS = [BK, CR, LF, NL]\nconst SPACE = [SP, ZW]\nconst PREFIX_POSTFIX = [PR, PO]\nconst LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE)\nconst KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3]\nconst HYPHEN = [HY, BA]\n\nexport const codePointsToCharacterClasses = (\n  codePoints: number[],\n  lineBreak: string = 'strict'\n): [number[], number[], boolean[]] => {\n  const types: number[] = []\n  const indices: number[] = []\n  const categories: boolean[] = []\n  codePoints.forEach((codePoint, index) => {\n    let classType = UnicodeTrie.get(codePoint)\n    if (classType > LETTER_NUMBER_MODIFIER) {\n      categories.push(true)\n      classType -= LETTER_NUMBER_MODIFIER\n    } else {\n      categories.push(false)\n    }\n\n    if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n      // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0\n      if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n        indices.push(index)\n        return types.push(CB)\n      }\n    }\n\n    if (classType === CM || classType === ZWJ) {\n      // LB10 Treat any remaining combining mark or ZWJ as AL.\n      if (index === 0) {\n        indices.push(index)\n        return types.push(AL)\n      }\n\n      // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n      // the base character in all of the following rules. Treat ZWJ as if it were CM.\n      const prev = types[index - 1]\n      if (LINE_BREAKS.indexOf(prev) === -1) {\n        indices.push(indices[index - 1])\n        return types.push(prev)\n      }\n      indices.push(index)\n      return types.push(AL)\n    }\n\n    indices.push(index)\n\n    if (classType === CJ) {\n      return types.push(lineBreak === 'strict' ? NS : ID)\n    }\n\n    if (classType === SA) {\n      return types.push(AL)\n    }\n\n    if (classType === AI) {\n      return types.push(AL)\n    }\n\n    // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n    // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n    // to take into account the actual line breaking properties for these characters.\n    if (classType === XX) {\n      if (\n        (codePoint >= 0x20000 && codePoint <= 0x2fffd) ||\n        (codePoint >= 0x30000 && codePoint <= 0x3fffd)\n      ) {\n        return types.push(ID)\n      } else {\n        return types.push(AL)\n      }\n    }\n\n    types.push(classType)\n  })\n\n  return [indices, types, categories]\n}\n\nconst isAdjacentWithSpaceIgnored = (\n  a: number[] | number,\n  b: number,\n  currentIndex: number,\n  classTypes: number[]\n): boolean => {\n  const current = classTypes[currentIndex]\n  if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n    let i = currentIndex\n    while (i <= classTypes.length) {\n      i++\n      let next = classTypes[i]\n\n      if (next === b) {\n        return true\n      }\n\n      if (next !== SP) {\n        break\n      }\n    }\n  }\n\n  if (current === SP) {\n    let i = currentIndex\n\n    while (i > 0) {\n      i--\n      const prev = classTypes[i]\n\n      if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n        let n = currentIndex\n        while (n <= classTypes.length) {\n          n++\n          let next = classTypes[n]\n\n          if (next === b) {\n            return true\n          }\n\n          if (next !== SP) {\n            break\n          }\n        }\n      }\n\n      if (prev !== SP) {\n        break\n      }\n    }\n  }\n  return false\n}\n\nconst previousNonSpaceClassType = (\n  currentIndex: number,\n  classTypes: number[]\n): number => {\n  let i = currentIndex\n  while (i >= 0) {\n    let type = classTypes[i]\n    if (type === SP) {\n      i--\n    } else {\n      return type\n    }\n  }\n  return 0\n}\n\nexport type BREAK_OPPORTUNITIES =\n  | typeof BREAK_NOT_ALLOWED\n  | typeof BREAK_ALLOWED\n  | typeof BREAK_MANDATORY\n\nconst _lineBreakAtIndex = (\n  codePoints: number[],\n  classTypes: number[],\n  indicies: number[],\n  index: number,\n  forbiddenBreaks?: boolean[]\n): BREAK_OPPORTUNITIES => {\n  if (indicies[index] === 0) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  let currentIndex = index - 1\n  if (\n    Array.isArray(forbiddenBreaks) &&\n    forbiddenBreaks[currentIndex] === true\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  let beforeIndex = currentIndex - 1\n  let afterIndex = currentIndex + 1\n  let current = classTypes[currentIndex]\n\n  // LB4 Always break after hard line breaks.\n  // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n  let before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0\n  let next = classTypes[afterIndex]\n\n  if (current === CR && next === LF) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n    return BREAK_MANDATORY\n  }\n\n  // LB6 Do not break before hard line breaks.\n  if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB7 Do not break before spaces or zero width space.\n  if (SPACE.indexOf(next) !== -1) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n  if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n    return BREAK_ALLOWED\n  }\n\n  // LB8a Do not break after a zero width joiner.\n  if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // zwj emojis\n  if (\n    (current === EB || current === EM) &&\n    UnicodeTrie.get(codePoints[afterIndex]) === ZWJ\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB11 Do not break before or after Word joiner and related characters.\n  if (current === WJ || next === WJ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB12 Do not break after NBSP and related characters.\n  if (current === GL) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n  if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.\n  if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB14 Do not break after ‘[’, even after spaces.\n  if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB15 Do not break within ‘”[’, even with intervening spaces.\n  if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n  if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB17 Do not break within ‘——’, even with intervening spaces.\n  if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB18 Break after spaces.\n  if (current === SP) {\n    return BREAK_ALLOWED\n  }\n\n  // LB19 Do not break before or after quotation marks, such as ‘ ” ’.\n  if (current === QU || next === QU) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB20 Break before and after unresolved CB.\n  if (next === CB || current === CB) {\n    return BREAK_ALLOWED\n  }\n\n  // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n  if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB21a Don't break after Hebrew + Hyphen.\n  if (before === HL && HYPHEN.indexOf(current) !== -1) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB21b Don’t break between Solidus and Hebrew letters.\n  if (current === SY && next === HL) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB22 Do not break before ellipsis.\n  if (next === IN) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB23 Do not break between digits and letters.\n  if (\n    (ALPHABETICS.indexOf(next) !== -1 && current === NU) ||\n    (ALPHABETICS.indexOf(current) !== -1 && next === NU)\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n  if (\n    (current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\n    ([ID, EB, EM].indexOf(current) !== -1 && next === PO)\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n  if (\n    (ALPHABETICS.indexOf(current) !== -1 &&\n      PREFIX_POSTFIX.indexOf(next) !== -1) ||\n    (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB25 Do not break between the following pairs of classes relevant to numbers:\n  if (\n    // (PR | PO) × ( OP | HY )? NU\n    ([PR, PO].indexOf(current) !== -1 &&\n      (next === NU ||\n        ([OP, HY].indexOf(next) !== -1 &&\n          classTypes[afterIndex + 1] === NU))) ||\n    // ( OP | HY ) × NU\n    ([OP, HY].indexOf(current) !== -1 && next === NU) ||\n    // NU ×\t(NU | SY | IS)\n    (current === NU && [NU, SY, IS].indexOf(next) !== -1)\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)\n  if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n    let prevIndex = currentIndex\n    while (prevIndex >= 0) {\n      let type = classTypes[prevIndex]\n      if (type === NU) {\n        return BREAK_NOT_ALLOWED\n      } else if ([SY, IS].indexOf(type) !== -1) {\n        prevIndex--\n      } else {\n        break\n      }\n    }\n  }\n\n  // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))\n  if ([PR, PO].indexOf(next) !== -1) {\n    let prevIndex =\n      [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex\n    while (prevIndex >= 0) {\n      let type = classTypes[prevIndex]\n      if (type === NU) {\n        return BREAK_NOT_ALLOWED\n      } else if ([SY, IS].indexOf(type) !== -1) {\n        prevIndex--\n      } else {\n        break\n      }\n    }\n  }\n\n  // LB26 Do not break a Korean syllable.\n  if (\n    (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\n    ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\n    ([JT, H3].indexOf(current) !== -1 && next === JT)\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB27 Treat a Korean Syllable Block the same as ID.\n  if (\n    (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 &&\n      [IN, PO].indexOf(next) !== -1) ||\n    (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB28 Do not break between alphabetics (“at”).\n  if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).\n  if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n  if (\n    (ALPHABETICS.concat(NU).indexOf(current) !== -1 &&\n      next === OP &&\n      ea_OP.indexOf(codePoints[afterIndex]) === -1) ||\n    (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)\n  ) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n  // indicators preceding the position of the break.\n  if (current === RI && next === RI) {\n    let i = indicies[currentIndex]\n    let count = 1\n    while (i > 0) {\n      i--\n      if (classTypes[i] === RI) {\n        count++\n      } else {\n        break\n      }\n    }\n    if (count % 2 !== 0) {\n      return BREAK_NOT_ALLOWED\n    }\n  }\n\n  // LB30b Do not break between an emoji base and an emoji modifier.\n  if (current === EB && next === EM) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  return BREAK_ALLOWED\n}\n\nexport const lineBreakAtIndex = (\n  codePoints: number[],\n  index: number\n): BREAK_OPPORTUNITIES => {\n  // LB2 Never break at the start of text.\n  if (index === 0) {\n    return BREAK_NOT_ALLOWED\n  }\n\n  // LB3 Always break at the end of text.\n  if (index >= codePoints.length) {\n    return BREAK_MANDATORY\n  }\n\n  const [indices, classTypes] = codePointsToCharacterClasses(codePoints)\n\n  return _lineBreakAtIndex(codePoints, classTypes, indices, index)\n}\n\nexport type LINE_BREAK = 'auto' | 'normal' | 'strict'\nexport type WORD_BREAK = 'normal' | 'break-all' | 'break-word' | 'keep-all'\n\ninterface IOptions {\n  lineBreak?: LINE_BREAK\n  wordBreak?: WORD_BREAK\n}\n\nconst cssFormattedClasses = (\n  codePoints: number[],\n  options?: IOptions\n): [number[], number[], boolean[] | undefined] => {\n  if (!options) {\n    options = { lineBreak: 'normal', wordBreak: 'normal' }\n  }\n  let [indicies, classTypes, isLetterNumber] = codePointsToCharacterClasses(\n    codePoints,\n    options.lineBreak\n  )\n\n  if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n    classTypes = classTypes.map((type) =>\n      [NU, AL, SA].indexOf(type) !== -1 ? ID : type\n    )\n  }\n\n  const forbiddenBreakpoints =\n    options.wordBreak === 'keep-all'\n      ? isLetterNumber.map((letterNumber, i) => {\n          return (\n            letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff\n          )\n        })\n      : undefined\n\n  return [indicies, classTypes, forbiddenBreakpoints]\n}\n\nexport const inlineBreakOpportunities = (\n  str: string,\n  options?: IOptions\n): string => {\n  const codePoints = toCodePoints(str)\n  let output = BREAK_NOT_ALLOWED\n  const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(\n    codePoints,\n    options\n  )\n\n  codePoints.forEach((codePoint, i) => {\n    output +=\n      fromCodePoint(codePoint) +\n      (i >= codePoints.length - 1\n        ? BREAK_MANDATORY\n        : _lineBreakAtIndex(\n            codePoints,\n            classTypes,\n            indicies,\n            i + 1,\n            forbiddenBreakpoints\n          ))\n  })\n\n  return output\n}\n\nclass Break {\n  private readonly codePoints: number[]\n  readonly required: boolean\n  readonly start: number\n  readonly end: number\n\n  constructor(\n    codePoints: number[],\n    lineBreak: string,\n    start: number,\n    end: number\n  ) {\n    this.codePoints = codePoints\n    this.required = lineBreak === BREAK_MANDATORY\n    this.start = start\n    this.end = end\n  }\n\n  slice(): string {\n    return fromCodePoint(...this.codePoints.slice(this.start, this.end))\n  }\n}\n\nexport type LineBreak =\n  | {\n      done: true\n      value: null\n    }\n  | {\n      done: false\n      value: Break\n    }\n\ninterface ILineBreakIterator {\n  next: () => LineBreak\n}\n\nexport const LineBreaker = (\n  str: string,\n  options?: IOptions\n): ILineBreakIterator => {\n  const codePoints = toCodePoints(str)\n  const [indicies, classTypes, forbiddenBreakpoints] = cssFormattedClasses(\n    codePoints,\n    options\n  )\n  const length = codePoints.length\n  let lastEnd = 0\n  let nextIndex = 0\n\n  return {\n    next: () => {\n      if (nextIndex >= length) {\n        return { done: true, value: null }\n      }\n      let lineBreak = BREAK_NOT_ALLOWED\n      while (\n        nextIndex < length &&\n        (lineBreak = _lineBreakAtIndex(\n          codePoints,\n          classTypes,\n          indicies,\n          ++nextIndex,\n          forbiddenBreakpoints\n        )) === BREAK_NOT_ALLOWED\n      ) {}\n\n      if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n        const value = new Break(codePoints, lineBreak, lastEnd, nextIndex)\n        lastEnd = nextIndex\n        return { value, done: false }\n      }\n\n      return { done: true, value: null }\n    }\n  }\n}\n","export const base64 =\n  'KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=='\nexport const byteLength = 39664\n","// import { splitGraphemes } from '../text/graphemeBreak'\nimport { LineBreaker } from '../text/lineBreak'\nimport { fromCodePoint, toCodePoints } from '../text/Util'\nimport { createLayoutBox } from '../layout/layoutBox-bp'\nimport { pipe, withConstructor } from '../utils'\nimport { createTreeNode } from '../tree-node'\nimport { RenderObject, RenderObjectOptions, createBaseRenderObject } from './renderObject'\nimport { CanvasTextNode } from '../element/textNode'\nimport { CanvasBodyElement } from '../element/element'\n\ntype TextStyles = {\n  color: string\n  fontSize: number\n  fontWeight: string\n  lineHeight: number\n}\n\ntype TextLines = {\n  lines: string[]\n  maxLineWidth: number\n  outerHeight: number\n}\n\nexport type CreateRenderTextFn = (\n  element: CanvasTextNode,\n  options?: RenderObjectOptions\n) => RenderText\n\nexport interface RenderText extends RenderObject {\n  type: string\n  textLines: TextLines\n  layout(): void\n  measureBoxSize(): void\n  getTextStyles(): TextStyles\n}\n\nexport const createRenderText: CreateRenderTextFn = function RenderText(element, options) {\n  return pipe(\n    createTreeNode<RenderObject>(),\n    createBaseRenderObject(element, (options = {})),\n    createBaseRenderText(),\n    withConstructor(RenderText)\n  )({} as RenderText)\n}\n\nexport const createBaseRenderText =\n  () =>\n  (o: RenderObject): RenderText => {\n    let renderText: RenderText = {\n      ...o,\n      type: 'text',\n      textLines: null,\n      layout,\n      measureBoxSize,\n      getTextStyles\n    }\n\n    return renderText\n  }\n\nfunction layout(this: RenderText) {\n  console.log('layout-text', this.element)\n  const { width, height } = this.element.computedStyles\n  const parentBox = this.getContainer().layoutBox\n  let top = parentBox.top\n  let left = parentBox.left\n\n  if (!this.layoutBox) {\n    this.layoutBox = createLayoutBox(parentBox, top, left, width, height)\n  } else {\n    this.layoutBox.setTop(top)\n    this.layoutBox.setLeft(left)\n    this.layoutBox.setWidth(width)\n    this.layoutBox.setHeight(height)\n  }\n}\n\nfunction measureBoxSize(this: RenderText) {\n  console.log('measureBoxSize-text', this.element)\n  const body = this.element.getContainer().getRootNode() as CanvasBodyElement\n  const ctx = body.context.renderer.ctx\n  const defaultFontFamily = body.context.renderer.defaultFontFamily\n  ctx.save()\n  ctx.font = `normal ${this.getTextStyles().fontSize}px ${defaultFontFamily}`\n\n  const words = _breakWords(this.element.textContent, this.element.getContainer().computedStyles)\n\n  const textLines = _wrapText(\n    ctx,\n    words,\n    0,\n    0,\n    this.element.getContainer().getContainer().computedStyles.width,\n    Number(this.getTextStyles().lineHeight) || this.getTextStyles().fontSize\n  )\n  ctx.restore()\n  this.textLines = textLines\n  this.element.computedStyles.width = textLines.maxLineWidth\n  this.element.computedStyles.height = textLines.outerHeight\n}\n\nfunction getTextStyles(this: RenderText) {\n  const parentStyles = this.element.getContainer().computedStyles\n  const { color, fontSize, fontWeight, lineHeight } = parentStyles\n\n  return {\n    color,\n    fontSize,\n    fontWeight,\n    lineHeight\n  }\n}\n\n// TODO: 用二分法进行优化，减少ctx.measureText()调用次数\nfunction _wrapText(\n  ctx: CanvasRenderingContext2D,\n  words: string[],\n  x: number,\n  y: number,\n  maxWidth: number,\n  lineHeight: number\n): TextLines {\n  let line = ''\n  let testLine = ''\n  let lineArray = []\n  let maxLineWidth = 0\n  y = lineHeight\n\n  for (var n = 0; n < words.length; n++) {\n    testLine += words[n]\n    let metrics = ctx.measureText(testLine)\n    let testWidth = metrics.width\n\n    if (testWidth > maxWidth && n > 0) {\n      lineArray.push([line.trim(), x, y])\n\n      y += lineHeight\n      line = words[n]\n      testLine = words[n]\n    } else {\n      line += words[n]\n    }\n    if (n === words.length - 1) {\n      lineArray.push([line.trim(), x, y])\n    }\n  }\n\n  return {\n    lines: lineArray,\n    maxLineWidth,\n    outerHeight: lineArray[lineArray.length - 1][2]\n  }\n}\n\n// https://drafts.csswg.org/css-text/#word-separator\nconst wordSeparators = [0x0020, 0x00a0, 0x1361, 0x10100, 0x10101, 0x1039, 0x1091]\n\nconst _breakWords = (str: string, styles): string[] => {\n  const breaker = LineBreaker(str, {\n    lineBreak: styles.lineBreak,\n    wordBreak: 'normal'\n  })\n\n  const words = []\n  let bk\n\n  while (!(bk = breaker.next()).done) {\n    if (bk.value) {\n      const value = bk.value.slice()\n      const codePoints = toCodePoints(value)\n      let word = ''\n      codePoints.forEach((codePoint) => {\n        if (wordSeparators.indexOf(codePoint) === -1) {\n          word += fromCodePoint(codePoint)\n        } else {\n          if (word.length) {\n            words.push(word)\n          }\n          words.push(fromCodePoint(codePoint))\n          word = ''\n        }\n      })\n\n      if (word.length) {\n        words.push(word)\n      }\n    }\n  }\n\n  return words\n}\n","import { CanvasElement } from '../element/element'\nimport { isCanvasTextNode } from '../element/textNode'\nimport { LayoutBox } from '../layout/layoutBox-bp'\nimport { TreeNode } from '../tree-node'\nimport { NOOP } from '../utils'\nimport { BoundCurves, createBoundCurves } from './canvas/boundCurves'\nimport { createRenderBlock } from './renderBlock'\nimport { createRenderInline } from './renderInline'\nimport { createRenderInlineBlock } from './renderInlineBlock'\nimport { createRenderText } from './renderText'\n\nexport type RenderObjectOptions = {}\n\nexport type CreateRenderObjectFn = (\n  element: CanvasElement,\n  options?: RenderObjectOptions\n) => CanvasElement\n\nexport interface RenderObject extends TreeNode<RenderObject> {\n  // TODO: enum type\n  __v_isRenderObject: boolean\n  type: string\n  element: CanvasElement\n  viewport: { width: number; height: number } | null\n  layoutBox: LayoutBox | null\n  curves: BoundCurves\n  children: RenderObject[]\n  previousSibling: RenderObject | null\n  nextSibling: RenderObject | null\n  getContainer(): RenderObject\n  appendChild(chid: RenderObject): void\n  measureBoxSize(): void\n  layout(): void\n  flow(): void\n  reflow(): void\n  isRoot(): boolean\n}\n\nexport const createRenderObject = (element, options = {}) => {\n  if (element.type === 'body') {\n    return createRenderBlock(element, options)\n  }\n  if (isCanvasTextNode(element)) {\n    return createRenderText(element, options)\n  }\n\n  switch (element.renderStyles.display) {\n    case 'block':\n      return createRenderBlock(element, options)\n    case 'inline':\n      return createRenderInline(element, options)\n    case 'inline-block':\n      return createRenderInlineBlock(element, options)\n    default:\n      return createRenderBlock(element, options)\n  }\n}\n\nexport const createBaseRenderObject =\n  (element, options = {}) =>\n  (o: TreeNode<RenderObject>): RenderObject => {\n    let renderObject = {\n      ...o,\n      __v_isRenderObject: true,\n      type: null,\n      options,\n      element,\n      get viewport() {\n        let rootElm = element.getRootNode()\n        return rootElm && rootElm.type === 'body' ? rootElm.context.viewport : null\n      },\n      layoutBox: null,\n      curves: null,\n      getContainer,\n      appendChild,\n      measureBoxSize: NOOP,\n      layout: NOOP,\n      flow,\n      reflow,\n      isRoot\n    }\n\n    return renderObject\n  }\n\nfunction getContainer(this: RenderObject) {\n  return this.parentNode\n}\n\nfunction appendChild(this: RenderObject, child) {\n  this.appendChildNode(child)\n}\n\nfunction flow(this: RenderObject) {\n  this.layout()\n  this.curves = createBoundCurves(this)\n  this.children.forEach((child) => child.flow())\n}\n\nfunction reflow() {}\n\nfunction isRoot(this: RenderObject) {\n  return this.parentNode === null\n}\n","const BODY_STYLES = {\n  accentColor: 'rgb(94, 158, 255)',\n  additiveSymbols: '',\n  alignContent: 'normal',\n  alignItems: 'normal',\n  alignSelf: 'auto',\n  alignmentBaseline: 'auto',\n  all: '',\n  animation: 'none 0s ease 0s 1 normal none running',\n  animationComposition: 'replace',\n  animationDelay: '0s',\n  animationDirection: 'normal',\n  animationDuration: '0s',\n  animationFillMode: 'none',\n  animationIterationCount: '1',\n  animationName: 'none',\n  animationPlayState: 'running',\n  animationTimingFunction: 'ease',\n  appRegion: 'none',\n  appearance: 'none',\n  ascentOverride: '',\n  aspectRatio: 'auto',\n  backdropFilter: 'none',\n  backfaceVisibility: 'visible',\n  background:\n    'rgba(0, 0, 0, 0) none repeat scroll 0% 0% / auto padding-box border-box',\n  backgroundAttachment: 'scroll',\n  backgroundBlendMode: 'normal',\n  backgroundClip: 'border-box',\n  backgroundColor: 'rgba(0, 0, 0, 0)',\n  backgroundImage: 'none',\n  backgroundOrigin: 'padding-box',\n  backgroundPosition: '0% 0%',\n  backgroundPositionX: '0%',\n  backgroundPositionY: '0%',\n  backgroundRepeat: 'repeat',\n  backgroundRepeatX: 'repeat',\n  backgroundRepeatY: 'repeat',\n  backgroundSize: 'auto',\n  basePalette: '',\n  baselineShift: '0',\n  baselineSource: 'auto',\n  blockSize: '8066.71',\n  border: '0 none rgb(255, 255, 255)',\n  borderBlock: '0 none rgb(255, 255, 255)',\n  borderBlockColor: 'rgb(255, 255, 255)',\n  borderBlockEnd: '0 none rgb(255, 255, 255)',\n  borderBlockEndColor: 'rgb(255, 255, 255)',\n  borderBlockEndStyle: 'none',\n  borderBlockEndWidth: '0',\n  borderBlockStart: '0 none rgb(255, 255, 255)',\n  borderBlockStartColor: 'rgb(255, 255, 255)',\n  borderBlockStartStyle: 'none',\n  borderBlockStartWidth: '0',\n  borderBlockStyle: 'none',\n  borderBlockWidth: '0',\n  borderBottom: '0 none rgb(255, 255, 255)',\n  borderBottomColor: 'rgb(255, 255, 255)',\n  borderBottomLeftRadius: '0',\n  borderBottomRightRadius: '0',\n  borderBottomStyle: 'none',\n  borderBottomWidth: '0',\n  borderCollapse: 'separate',\n  borderColor: 'rgb(255, 255, 255)',\n  borderEndEndRadius: '0',\n  borderEndStartRadius: '0',\n  borderImage: 'none',\n  borderImageOutset: '0',\n  borderImageRepeat: 'stretch',\n  borderImageSlice: '100%',\n  borderImageSource: 'none',\n  borderImageWidth: '1',\n  borderInline: '0 none rgb(255, 255, 255)',\n  borderInlineColor: 'rgb(255, 255, 255)',\n  borderInlineEnd: '0 none rgb(255, 255, 255)',\n  borderInlineEndColor: 'rgb(255, 255, 255)',\n  borderInlineEndStyle: 'none',\n  borderInlineEndWidth: '0',\n  borderInlineStart: '0 none rgb(255, 255, 255)',\n  borderInlineStartColor: 'rgb(255, 255, 255)',\n  borderInlineStartStyle: 'none',\n  borderInlineStartWidth: '0',\n  borderInlineStyle: 'none',\n  borderInlineWidth: '0',\n  borderLeft: '0 none rgb(255, 255, 255)',\n  borderLeftColor: 'rgb(255, 255, 255)',\n  borderLeftStyle: 'none',\n  borderLeftWidth: '0',\n  borderRadius: '0',\n  borderRight: '0 none rgb(255, 255, 255)',\n  borderRightColor: 'rgb(255, 255, 255)',\n  borderRightStyle: 'none',\n  borderRightWidth: '0',\n  borderSpacing: '0 0',\n  borderStartEndRadius: '0',\n  borderStartStartRadius: '0',\n  borderStyle: 'none',\n  borderTop: '0 none rgb(255, 255, 255)',\n  borderTopColor: 'rgb(255, 255, 255)',\n  borderTopLeftRadius: '0',\n  borderTopRightRadius: '0',\n  borderTopStyle: 'none',\n  borderTopWidth: '0',\n  borderWidth: '0',\n  bottom: 'auto',\n  boxShadow: 'none',\n  boxSizing: 'content-box',\n  breakAfter: 'auto',\n  breakBefore: 'auto',\n  breakInside: 'auto',\n  bufferedRendering: 'auto',\n  captionSide: 'top',\n  caretColor: 'rgb(255, 255, 255)',\n  clear: 'none',\n  clip: 'auto',\n  clipPath: 'none',\n  clipRule: 'nonzero',\n  color: 'rgb(255, 255, 255)',\n  colorInterpolation: 'srgb',\n  colorInterpolationFilters: 'linearrgb',\n  colorRendering: 'auto',\n  colorScheme: 'dark',\n  columnCount: 'auto',\n  columnFill: 'balance',\n  columnGap: 'normal',\n  columnRule: '0 none rgb(255, 255, 255)',\n  columnRuleColor: 'rgb(255, 255, 255)',\n  columnRuleStyle: 'none',\n  columnRuleWidth: '0',\n  columnSpan: 'none',\n  columnWidth: 'auto',\n  columns: 'auto auto',\n  contain: 'none',\n  containIntrinsicBlockSize: 'none',\n  containIntrinsicHeight: 'none',\n  containIntrinsicInlineSize: 'none',\n  containIntrinsicSize: 'none',\n  containIntrinsicWidth: 'none',\n  container: 'none',\n  containerName: 'none',\n  containerType: 'normal',\n  content: 'normal',\n  contentVisibility: 'visible',\n  counterIncrement: 'none',\n  counterReset: 'none',\n  counterSet: 'none',\n  cursor: 'auto',\n  cx: '0',\n  cy: '0',\n  d: 'none',\n  descentOverride: '',\n  direction: 'ltr',\n  display: 'block',\n  dominantBaseline: 'auto',\n  emptyCells: 'show',\n  fallback: '',\n  fill: 'rgb(0, 0, 0)',\n  fillOpacity: '1',\n  fillRule: 'nonzero',\n  filter: 'none',\n  flex: '0 1 auto',\n  flexBasis: 'auto',\n  flexDirection: 'row',\n  flexFlow: 'row nowrap',\n  flexGrow: '0',\n  flexShrink: '1',\n  flexWrap: 'nowrap',\n  float: 'none',\n  floodColor: 'rgb(0, 0, 0)',\n  floodOpacity: '1',\n  font: '20 / 35 Inter, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif',\n  fontDisplay: '',\n  fontFamily:\n    'Inter, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif',\n  fontFeatureSettings: 'normal',\n  fontKerning: 'auto',\n  fontOpticalSizing: 'auto',\n  fontPalette: 'normal',\n  fontSize: '20',\n  fontStretch: '100%',\n  fontStyle: 'normal',\n  fontSynthesis: 'weight style small-caps',\n  fontSynthesisSmallCaps: 'auto',\n  fontSynthesisStyle: 'auto',\n  fontSynthesisWeight: 'auto',\n  fontVariant: 'normal',\n  fontVariantAlternates: 'normal',\n  fontVariantCaps: 'normal',\n  fontVariantEastAsian: 'normal',\n  fontVariantLigatures: 'normal',\n  fontVariantNumeric: 'normal',\n  fontVariationSettings: 'normal',\n  fontWeight: '400',\n  forcedColorAdjust: 'auto',\n  gap: 'normal',\n  grid: 'none / none / none / row / auto / auto',\n  gridArea: 'auto / auto / auto / auto',\n  gridAutoColumns: 'auto',\n  gridAutoFlow: 'row',\n  gridAutoRows: 'auto',\n  gridColumn: 'auto / auto',\n  gridColumnEnd: 'auto',\n  gridColumnGap: 'normal',\n  gridColumnStart: 'auto',\n  gridGap: 'normal normal',\n  gridRow: 'auto / auto',\n  gridRowEnd: 'auto',\n  gridRowGap: 'normal',\n  gridRowStart: 'auto',\n  gridTemplate: 'none / none / none',\n  gridTemplateAreas: 'none',\n  gridTemplateColumns: 'none',\n  gridTemplateRows: 'none',\n  height: '100%',\n  hyphenateCharacter: 'auto',\n  hyphenateLimitChars: 'auto',\n  hyphens: 'manual',\n  imageOrientation: 'from-image',\n  imageRendering: 'auto',\n  inherits: '',\n  initialLetter: 'normal',\n  initialValue: '',\n  inlineSize: '484',\n  inset: 'auto',\n  insetBlock: 'auto',\n  insetBlockEnd: 'auto',\n  insetBlockStart: 'auto',\n  insetInline: 'auto',\n  insetInlineEnd: 'auto',\n  insetInlineStart: 'auto',\n  isolation: 'auto',\n  justifyContent: 'normal',\n  justifyItems: 'normal',\n  justifySelf: 'auto',\n  left: 'auto',\n  letterSpacing: 'normal',\n  lightingColor: 'rgb(255, 255, 255)',\n  lineBreak: 'auto',\n  lineGapOverride: '',\n  lineHeight: '35',\n  listStyle: 'outside none disc',\n  listStyleImage: 'none',\n  listStylePosition: 'outside',\n  listStyleType: 'disc',\n  margin: '0',\n  marginBlock: '0',\n  marginBlockEnd: '0',\n  marginBlockStart: '0',\n  marginBottom: '0',\n  marginInline: '0',\n  marginInlineEnd: '0',\n  marginInlineStart: '0',\n  marginLeft: '0',\n  marginRight: '0',\n  marginTop: '0',\n  marker: 'none',\n  markerEnd: 'none',\n  markerMid: 'none',\n  markerStart: 'none',\n  mask: 'none',\n  maskType: 'luminance',\n  mathDepth: '0',\n  mathShift: 'normal',\n  mathStyle: 'normal',\n  maxBlockSize: 'none',\n  maxHeight: 'none',\n  maxInlineSize: 'none',\n  maxWidth: 'none',\n  minBlockSize: '0',\n  minHeight: '0',\n  minInlineSize: '0',\n  minWidth: '0',\n  mixBlendMode: 'normal',\n  negative: '',\n  objectFit: 'fill',\n  objectPosition: '50% 50%',\n  objectViewBox: 'none',\n  offset: 'none 0 auto 0deg',\n  offsetDistance: '0',\n  offsetPath: 'none',\n  offsetRotate: 'auto 0deg',\n  opacity: '1',\n  order: '0',\n  orphans: '2',\n  outline: 'rgb(255, 255, 255) none 0',\n  outlineColor: 'rgb(255, 255, 255)',\n  outlineOffset: '0',\n  outlineStyle: 'none',\n  outlineWidth: '0',\n  overflow: 'visible',\n  overflowAnchor: 'auto',\n  overflowClipMargin: '0',\n  overflowWrap: 'normal',\n  overflowX: 'visible',\n  overflowY: 'visible',\n  overrideColors: '',\n  overscrollBehavior: 'auto',\n  overscrollBehaviorBlock: 'auto',\n  overscrollBehaviorInline: 'auto',\n  overscrollBehaviorX: 'auto',\n  overscrollBehaviorY: 'auto',\n  pad: '',\n  padding: '0',\n  paddingBlock: '0',\n  paddingBlockEnd: '0',\n  paddingBlockStart: '0',\n  paddingBottom: '0',\n  paddingInline: '0',\n  paddingInlineEnd: '0',\n  paddingInlineStart: '0',\n  paddingLeft: '0',\n  paddingRight: '0',\n  paddingTop: '0',\n  page: 'auto',\n  pageBreakAfter: 'auto',\n  pageBreakBefore: 'auto',\n  pageBreakInside: 'auto',\n  pageOrientation: '',\n  paintOrder: 'normal',\n  perspective: 'none',\n  perspectiveOrigin: '242 4033.36',\n  placeContent: 'normal',\n  placeItems: 'normal',\n  placeSelf: 'auto',\n  pointerEvents: 'auto',\n  position: 'static',\n  prefix: '',\n  quotes: 'auto',\n  r: '0',\n  range: '',\n  resize: 'none',\n  right: 'auto',\n  rotate: 'none',\n  rowGap: 'normal',\n  rubyPosition: 'over',\n  rx: 'auto',\n  ry: 'auto',\n  scale: 'none',\n  scrollBehavior: 'auto',\n  scrollMargin: '0',\n  scrollMarginBlock: '0',\n  scrollMarginBlockEnd: '0',\n  scrollMarginBlockStart: '0',\n  scrollMarginBottom: '0',\n  scrollMarginInline: '0',\n  scrollMarginInlineEnd: '0',\n  scrollMarginInlineStart: '0',\n  scrollMarginLeft: '0',\n  scrollMarginRight: '0',\n  scrollMarginTop: '0',\n  scrollPadding: 'auto',\n  scrollPaddingBlock: 'auto',\n  scrollPaddingBlockEnd: 'auto',\n  scrollPaddingBlockStart: 'auto',\n  scrollPaddingBottom: 'auto',\n  scrollPaddingInline: 'auto',\n  scrollPaddingInlineEnd: 'auto',\n  scrollPaddingInlineStart: 'auto',\n  scrollPaddingLeft: 'auto',\n  scrollPaddingRight: 'auto',\n  scrollPaddingTop: 'auto',\n  scrollSnapAlign: 'none',\n  scrollSnapStop: 'normal',\n  scrollSnapType: 'none',\n  scrollbarGutter: 'auto',\n  shapeImageThreshold: '0',\n  shapeMargin: '0',\n  shapeOutside: 'none',\n  shapeRendering: 'auto',\n  size: '',\n  sizeAdjust: '',\n  speak: 'normal',\n  speakAs: '',\n  src: '',\n  stopColor: 'rgb(0, 0, 0)',\n  stopOpacity: '1',\n  stroke: 'none',\n  strokeDasharray: 'none',\n  strokeDashoffset: '0',\n  strokeLinecap: 'butt',\n  strokeLinejoin: 'miter',\n  strokeMiterlimit: '4',\n  strokeOpacity: '1',\n  strokeWidth: '1',\n  suffix: '',\n  symbols: '',\n  syntax: '',\n  system: '',\n  tabSize: '8',\n  tableLayout: 'auto',\n  textAlign: 'start',\n  textAlignLast: 'auto',\n  textAnchor: 'start',\n  textCombineUpright: 'none',\n  textDecoration: 'none solid rgb(255, 255, 255)',\n  textDecorationColor: 'rgb(255, 255, 255)',\n  textDecorationLine: 'none',\n  textDecorationSkipInk: 'auto',\n  textDecorationStyle: 'solid',\n  textDecorationThickness: 'auto',\n  textEmphasis: 'none rgb(255, 255, 255)',\n  textEmphasisColor: 'rgb(255, 255, 255)',\n  textEmphasisPosition: 'over',\n  textEmphasisStyle: 'none',\n  textIndent: '0',\n  textOrientation: 'mixed',\n  textOverflow: 'clip',\n  textRendering: 'optimizespeed',\n  textShadow: 'none',\n  textSizeAdjust: 'auto',\n  textTransform: 'none',\n  textUnderlineOffset: 'auto',\n  textUnderlinePosition: 'auto',\n  top: 'auto',\n  touchAction: 'auto',\n  transform: 'none',\n  transformBox: 'view-box',\n  transformOrigin: '242 4033.36',\n  transformStyle: 'flat',\n  transition: 'all 0s ease 0s',\n  transitionDelay: '0s',\n  transitionDuration: '0s',\n  transitionProperty: 'all',\n  transitionTimingFunction: 'ease',\n  translate: 'none',\n  unicodeBidi: 'normal',\n  unicodeRange: '',\n  userSelect: 'auto',\n  vectorEffect: 'none',\n  verticalAlign: 'baseline',\n  viewTransitionName: 'none',\n  visibility: 'visible',\n  whiteSpace: 'normal',\n  widows: '2',\n  width: '100%',\n  willChange: 'auto',\n  wordBreak: 'normal',\n  wordSpacing: '0',\n  wordWrap: 'normal',\n  writingMode: 'horizontal-tb',\n  x: '0',\n  y: '0',\n  zIndex: 'auto',\n  zoom: '1',\n  cssFloat: 'none',\n  cssText: '',\n  length: 351,\n  parentRule: null\n}\n\nconst DEFAULT_VIEW_STYLES = {\n  display: 'block'\n}\nconst DEFAULT_TEXT_STYLES = {\n  display: 'inline'\n}\n\nconst EXTEND_STYLE_KEYS = [\n  'alignItems',\n  'color',\n  'fontFamily',\n  'fontSize',\n  'fontWeight',\n  'letterSpacing',\n  'lineHeight',\n  'textAlign',\n  'visivility',\n  'wordSpacing'\n]\n\nexport {\n  BODY_STYLES,\n  DEFAULT_VIEW_STYLES,\n  DEFAULT_TEXT_STYLES,\n  EXTEND_STYLE_KEYS\n}\n","import {\n  IPropertyListDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nimport { CSSValue, isIdentToken } from '../syntax/parser'\nexport const enum BACKGROUND_CLIP {\n  BORDER_BOX = 0,\n  PADDING_BOX = 1,\n  CONTENT_BOX = 2\n}\n\nexport type BackgroundClip = BACKGROUND_CLIP[]\n\nexport const backgroundClip: IPropertyListDescriptor<BackgroundClip> = {\n  name: 'background-clip',\n  initialValue: 'border-box',\n  prefix: false,\n  type: PropertyDescriptorParsingType.LIST,\n  parse: (tokens: CSSValue[]): BackgroundClip => {\n    return tokens.map((token) => {\n      if (isIdentToken(token)) {\n        switch (token.value) {\n          case 'padding-box':\n            return BACKGROUND_CLIP.PADDING_BOX\n          case 'content-box':\n            return BACKGROUND_CLIP.CONTENT_BOX\n        }\n      }\n      return BACKGROUND_CLIP.BORDER_BOX\n    })\n  }\n}\n","import {\n  IPropertyTypeValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nexport const backgroundColor: IPropertyTypeValueDescriptor = {\n  name: `background-color`,\n  initialValue: 'transparent',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TYPE_VALUE,\n  format: 'color'\n}\n","import {\n  IPropertyTypeValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nconst borderColorForSide = (side: string): IPropertyTypeValueDescriptor => ({\n  name: `border-${side}-color`,\n  initialValue: 'transparent',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TYPE_VALUE,\n  format: 'color'\n})\n\nexport const borderTopColor: IPropertyTypeValueDescriptor =\n  borderColorForSide('top')\nexport const borderRightColor: IPropertyTypeValueDescriptor =\n  borderColorForSide('right')\nexport const borderBottomColor: IPropertyTypeValueDescriptor =\n  borderColorForSide('bottom')\nexport const borderLeftColor: IPropertyTypeValueDescriptor =\n  borderColorForSide('left')\n","import {\n  IPropertyTypeValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nexport const color: IPropertyTypeValueDescriptor = {\n  name: `color`,\n  initialValue: 'transparent',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TYPE_VALUE,\n  format: 'color'\n}\n","import {\n  IPropertyListDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nimport { CSSValue, isIdentToken } from '../syntax/parser'\nexport const enum DISPLAY {\n  NONE = 0,\n  BLOCK = 1 << 1,\n  INLINE = 1 << 2,\n  RUN_IN = 1 << 3,\n  FLOW = 1 << 4,\n  FLOW_ROOT = 1 << 5,\n  TABLE = 1 << 6,\n  FLEX = 1 << 7,\n  GRID = 1 << 8,\n  RUBY = 1 << 9,\n  SUBGRID = 1 << 10,\n  LIST_ITEM = 1 << 11,\n  TABLE_ROW_GROUP = 1 << 12,\n  TABLE_HEADER_GROUP = 1 << 13,\n  TABLE_FOOTER_GROUP = 1 << 14,\n  TABLE_ROW = 1 << 15,\n  TABLE_CELL = 1 << 16,\n  TABLE_COLUMN_GROUP = 1 << 17,\n  TABLE_COLUMN = 1 << 18,\n  TABLE_CAPTION = 1 << 19,\n  RUBY_BASE = 1 << 20,\n  RUBY_TEXT = 1 << 21,\n  RUBY_BASE_CONTAINER = 1 << 22,\n  RUBY_TEXT_CONTAINER = 1 << 23,\n  CONTENTS = 1 << 24,\n  INLINE_BLOCK = 1 << 25,\n  INLINE_LIST_ITEM = 1 << 26,\n  INLINE_TABLE = 1 << 27,\n  INLINE_FLEX = 1 << 28,\n  INLINE_GRID = 1 << 29\n}\n\nexport type Display = number\n\nexport const display: IPropertyListDescriptor<Display> = {\n  name: 'display',\n  initialValue: (type) => {\n    switch (type) {\n      case 'text':\n        return 'inline'\n      default:\n        return 'block'\n    }\n  },\n  prefix: false,\n  type: PropertyDescriptorParsingType.LIST,\n  parse: (tokens: CSSValue[]): Display => {\n    return tokens.filter(isIdentToken).reduce((bit, token) => {\n      return bit | parseDisplayValue(token.value)\n    }, DISPLAY.NONE)\n  }\n}\n\nconst parseDisplayValue = (display: string): Display => {\n  switch (display) {\n    case 'block':\n    case '-webkit-box':\n      return DISPLAY.BLOCK\n    case 'inline':\n      return DISPLAY.INLINE\n    case 'run-in':\n      return DISPLAY.RUN_IN\n    case 'flow':\n      return DISPLAY.FLOW\n    case 'flow-root':\n      return DISPLAY.FLOW_ROOT\n    case 'table':\n      return DISPLAY.TABLE\n    case 'flex':\n    case '-webkit-flex':\n      return DISPLAY.FLEX\n    case 'grid':\n    case '-ms-grid':\n      return DISPLAY.GRID\n    case 'ruby':\n      return DISPLAY.RUBY\n    case 'subgrid':\n      return DISPLAY.SUBGRID\n    case 'list-item':\n      return DISPLAY.LIST_ITEM\n    case 'table-row-group':\n      return DISPLAY.TABLE_ROW_GROUP\n    case 'table-header-group':\n      return DISPLAY.TABLE_HEADER_GROUP\n    case 'table-footer-group':\n      return DISPLAY.TABLE_FOOTER_GROUP\n    case 'table-row':\n      return DISPLAY.TABLE_ROW\n    case 'table-cell':\n      return DISPLAY.TABLE_CELL\n    case 'table-column-group':\n      return DISPLAY.TABLE_COLUMN_GROUP\n    case 'table-column':\n      return DISPLAY.TABLE_COLUMN\n    case 'table-caption':\n      return DISPLAY.TABLE_CAPTION\n    case 'ruby-base':\n      return DISPLAY.RUBY_BASE\n    case 'ruby-text':\n      return DISPLAY.RUBY_TEXT\n    case 'ruby-base-container':\n      return DISPLAY.RUBY_BASE_CONTAINER\n    case 'ruby-text-container':\n      return DISPLAY.RUBY_TEXT_CONTAINER\n    case 'contents':\n      return DISPLAY.CONTENTS\n    case 'inline-block':\n      return DISPLAY.INLINE_BLOCK\n    case 'inline-list-item':\n      return DISPLAY.INLINE_LIST_ITEM\n    case 'inline-table':\n      return DISPLAY.INLINE_TABLE\n    case 'inline-flex':\n      return DISPLAY.INLINE_FLEX\n    case 'inline-grid':\n      return DISPLAY.INLINE_GRID\n  }\n\n  return DISPLAY.NONE\n}\n","import {\n  IPropertyTypeValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nexport const fontSize: IPropertyTypeValueDescriptor = {\n  name: `font-size`,\n  initialValue: '12',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TYPE_VALUE,\n  format: 'length'\n}\n","import {\n  IPropertyValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nimport { CSSValue, isIdentToken, isNumberToken } from '../syntax/parser'\nexport const fontWeight: IPropertyValueDescriptor<number> = {\n  name: 'font-weight',\n  initialValue: 'normal',\n  type: PropertyDescriptorParsingType.VALUE,\n  prefix: false,\n  parse: (token: CSSValue): number => {\n    if (isNumberToken(token)) {\n      return token.number\n    }\n\n    if (isIdentToken(token)) {\n      switch (token.value) {\n        case 'bold':\n          return 700\n        case 'normal':\n        default:\n          return 400\n      }\n    }\n\n    return 400\n  }\n}\n","import {\n  IPropertyTokenValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nexport const height: IPropertyTokenValueDescriptor = {\n  name: 'height',\n  initialValue: 'auto',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TOKEN_VALUE\n}\n","import {\n  IPropertyTokenValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nimport { CSSValue, isIdentToken } from '../syntax/parser'\nimport { TokenType } from '../syntax/tokenizer'\nimport {\n  getAbsoluteValue,\n  isLengthPercentage\n} from '../types/length-percentage'\nexport const lineHeight: IPropertyTokenValueDescriptor = {\n  name: 'line-height',\n  initialValue: 'normal',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TOKEN_VALUE\n}\n\nexport const computeLineHeight = (\n  token: CSSValue,\n  fontSize: number\n): number => {\n  if (isIdentToken(token) && token.value === 'normal') {\n    return 1.2 * fontSize\n  } else if (token.type === TokenType.NUMBER_TOKEN) {\n    return fontSize * token.number\n  } else if (isLengthPercentage(token)) {\n    return getAbsoluteValue(token, fontSize)\n  }\n\n  return fontSize\n}\n","import {\n  IPropertyTokenValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nconst marginForSide = (side: string): IPropertyTokenValueDescriptor => ({\n  name: `margin-${side}`,\n  initialValue: '0',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TOKEN_VALUE\n})\n\nexport const marginTop: IPropertyTokenValueDescriptor = marginForSide('top')\nexport const marginRight: IPropertyTokenValueDescriptor = marginForSide('right')\nexport const marginBottom: IPropertyTokenValueDescriptor =\n  marginForSide('bottom')\nexport const marginLeft: IPropertyTokenValueDescriptor = marginForSide('left')\n","import {\n  IPropertyValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nimport { CSSValue, isNumberToken } from '../syntax/parser'\nexport const opacity: IPropertyValueDescriptor<number> = {\n  name: 'opacity',\n  initialValue: '1',\n  type: PropertyDescriptorParsingType.VALUE,\n  prefix: false,\n  parse: (token: CSSValue): number => {\n    if (isNumberToken(token)) {\n      return token.number\n    }\n    return 1\n  }\n}\n","import {\n  IPropertyTypeValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nconst paddingForSide = (side: string): IPropertyTypeValueDescriptor => ({\n  name: `padding-${side}`,\n  initialValue: '0',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TYPE_VALUE,\n  format: 'length-percentage'\n})\n\nexport const paddingTop: IPropertyTypeValueDescriptor = paddingForSide('top')\nexport const paddingRight: IPropertyTypeValueDescriptor =\n  paddingForSide('right')\nexport const paddingBottom: IPropertyTypeValueDescriptor =\n  paddingForSide('bottom')\nexport const paddingLeft: IPropertyTypeValueDescriptor = paddingForSide('left')\n","import {\n  IPropertyIdentValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nexport const enum TEXT_ALIGN {\n  LEFT = 0,\n  CENTER = 1,\n  RIGHT = 2\n}\n\nexport const textAlign: IPropertyIdentValueDescriptor<TEXT_ALIGN> = {\n  name: 'text-align',\n  initialValue: 'left',\n  prefix: false,\n  type: PropertyDescriptorParsingType.IDENT_VALUE,\n  parse: (textAlign: string) => {\n    switch (textAlign) {\n      case 'right':\n        return TEXT_ALIGN.RIGHT\n      case 'center':\n      case 'justify':\n        return TEXT_ALIGN.CENTER\n      case 'left':\n      default:\n        return TEXT_ALIGN.LEFT\n    }\n  }\n}\n","import {\n  IPropertyValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nimport { CSSValue } from '../syntax/parser'\nimport { NumberValueToken, TokenType } from '../syntax/tokenizer'\nexport type Matrix = [number, number, number, number, number, number]\nexport type Transform = Matrix | null\n\nexport const transform: IPropertyValueDescriptor<Transform> = {\n  name: 'transform',\n  initialValue: 'none',\n  prefix: true,\n  type: PropertyDescriptorParsingType.VALUE,\n  parse: (token: CSSValue) => {\n    if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\n      return null\n    }\n\n    if (token.type === TokenType.FUNCTION) {\n      const transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name]\n      if (typeof transformFunction === 'undefined') {\n        throw new Error(\n          `Attempting to parse an unsupported transform function \"${token.name}\"`\n        )\n      }\n      return transformFunction(token.values)\n    }\n\n    return null\n  }\n}\n\nconst matrix = (args: CSSValue[]): Transform => {\n  const values = args\n    .filter((arg) => arg.type === TokenType.NUMBER_TOKEN)\n    .map((arg: NumberValueToken) => arg.number)\n\n  return values.length === 6 ? (values as Matrix) : null\n}\n\n// doesn't support 3D transforms at the moment\nconst matrix3d = (args: CSSValue[]): Transform => {\n  const values = args\n    .filter((arg) => arg.type === TokenType.NUMBER_TOKEN)\n    .map((arg: NumberValueToken) => arg.number)\n\n  const [a1, b1, {}, {}, a2, b2, {}, {}, {}, {}, {}, {}, a4, b4, {}, {}] =\n    values\n\n  return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null\n}\n\nconst SUPPORTED_TRANSFORM_FUNCTIONS: {\n  [key: string]: (args: CSSValue[]) => Transform\n} = {\n  matrix: matrix,\n  matrix3d: matrix3d\n}\n","import {\n  IPropertyIdentValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nexport const enum VISIBILITY {\n  VISIBLE = 0,\n  HIDDEN = 1,\n  COLLAPSE = 2\n}\n\nexport const visibility: IPropertyIdentValueDescriptor<VISIBILITY> = {\n  name: 'visible',\n  initialValue: 'none',\n  prefix: false,\n  type: PropertyDescriptorParsingType.IDENT_VALUE,\n  parse: (visibility: string) => {\n    switch (visibility) {\n      case 'hidden':\n        return VISIBILITY.HIDDEN\n      case 'collapse':\n        return VISIBILITY.COLLAPSE\n      case 'visible':\n      default:\n        return VISIBILITY.VISIBLE\n    }\n  }\n}\n","import {\n  IPropertyTokenValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\n\nexport const width: IPropertyTokenValueDescriptor = {\n  name: 'width',\n  initialValue: 'auto',\n  prefix: false,\n  type: PropertyDescriptorParsingType.TOKEN_VALUE\n}\n","import {\n  IPropertyValueDescriptor,\n  PropertyDescriptorParsingType\n} from '../IPropertyDescriptor'\nimport { CSSValue, isNumberToken } from '../syntax/parser'\nimport { TokenType } from '../syntax/tokenizer'\n\ninterface zIndex {\n  order: number\n  auto: boolean\n}\n\nexport const zIndex: IPropertyValueDescriptor<zIndex> = {\n  name: 'z-index',\n  initialValue: 'auto',\n  prefix: false,\n  type: PropertyDescriptorParsingType.VALUE,\n  parse: (token: CSSValue): zIndex => {\n    if (token.type === TokenType.IDENT_TOKEN) {\n      return { auto: true, order: 0 }\n    }\n\n    if (isNumberToken(token)) {\n      return { auto: false, order: token.number }\n    }\n\n    throw new Error(`Invalid z-index number parsed`)\n  }\n}\n","import { CSSPropertyDescriptor } from './IPropertyDescriptor'\nimport { DEFAULT_TEXT_STYLES, DEFAULT_VIEW_STYLES } from './constant'\nimport { backgroundClip } from './property-descriptors/background-clip'\nimport { backgroundColor } from './property-descriptors/background-color'\nimport {\n  borderBottomColor,\n  borderLeftColor,\n  borderRightColor,\n  borderTopColor\n} from './property-descriptors/border-color'\nimport {\n  borderBottomLeftRadius,\n  borderBottomRightRadius,\n  borderTopLeftRadius,\n  borderTopRightRadius\n} from './property-descriptors/border-radius'\nimport {\n  borderBottomWidth,\n  borderLeftWidth,\n  borderRightWidth,\n  borderTopWidth\n} from './property-descriptors/border-width'\nimport { color } from './property-descriptors/color'\nimport { display } from './property-descriptors/display'\nimport { fontSize } from './property-descriptors/font-size'\nimport { fontWeight } from './property-descriptors/font-weight'\nimport { height } from './property-descriptors/height'\nimport { lineHeight } from './property-descriptors/line-height'\nimport {\n  marginBottom,\n  marginLeft,\n  marginRight,\n  marginTop\n} from './property-descriptors/margin'\nimport { opacity } from './property-descriptors/opacity'\nimport {\n  paddingBottom,\n  paddingLeft,\n  paddingRight,\n  paddingTop\n} from './property-descriptors/padding'\nimport { textAlign } from './property-descriptors/text-align'\nimport { transform } from './property-descriptors/transform'\nimport { visibility } from './property-descriptors/visibility'\nimport { width } from './property-descriptors/width'\nimport { zIndex } from './property-descriptors/z-index'\n\nexport function createCSSDeclaration(type, styles) {\n  const DEFAULT_STYLES = getDefaultStyle(type)\n  return {\n    ...DEFAULT_STYLES,\n    backgroundClip: parse(type, backgroundClip, styles.backgroundClip),\n    backgroundColor: parse(type, backgroundColor, styles.backgroundColor),\n    borderTopColor: parse(type, borderTopColor, styles.borderTopColor),\n    borderRightColor: parse(type, borderRightColor, styles.borderRightColor),\n    borderBottomColor: parse(type, borderBottomColor, styles.borderBottomColor),\n    borderLeftColor: parse(type, borderLeftColor, styles.borderLeftColor),\n    // borderTopLeftRadius: parse(\n    //   type,\n    //   borderTopLeftRadius,\n    //   styles.borderTopLeftRadius\n    // ),\n    // borderTopRightRadius: parse(\n    //   type,\n    //   borderTopRightRadius,\n    //   styles.borderTopRightRadius\n    // ),\n    // borderBottomRightRadius: parse(\n    //   type,\n    //   borderBottomRightRadius,\n    //   styles.borderBottomRightRadius\n    // ),\n    // borderBottomLeftRadius: parse(\n    //   type,\n    //   borderBottomLeftRadius,\n    //   styles.borderBottomLeftRadius\n    // ),\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    borderBottomLeftRadius: 0,\n    // borderTopStyle: parse(type,borderTopStyle, styles.borderTopStyle),\n    // borderRightStyle: parse(type,borderRightStyle, styles.borderRightStyle),\n    // borderBottomStyle: parse(type,borderBottomStyle, styles.borderBottomStyle),\n    // borderLeftStyle: parse(type,borderLeftStyle, styles.borderLeftStyle),\n    // borderTopWidth: parse(type, borderTopWidth, styles.borderTopWidth),\n    // borderRightWidth: parse(type, borderRightWidth, styles.borderRightWidth),\n    // borderBottomWidth: parse(type, borderBottomWidth, styles.borderBottomWidth),\n    // borderLeftWidth: parse(type, borderLeftWidth, styles.borderLeftWidth),\n    borderTopWidth: 0,\n    borderRightWidth: 0,\n    borderBottomWidth: 0,\n    borderLeftWidth: 0,\n    // boxShadow: parse(type,boxShadow, styles.boxShadow),\n    color: parse(type, color, styles.color),\n    // direction: parse(type,direction, styles.direction),\n    display: parse(type, display, styles.display),\n    // float: parse(float, styles.cssFloat),\n    // fontFamily: parse(fontFamily, styles.fontFamily),\n    fontSize: Number(parse(type, fontSize, styles.fontSize)),\n    // fontStyle: parse(type,fontStyle, styles.fontStyle),\n    // fontVariant: parse(type,fontVariant, styles.fontVariant),\n    fontWeight: parse(type, fontWeight, styles.fontWeight),\n    height: parse(type, height, styles.height),\n    // letterSpacing: parse(type,letterSpacing, styles.letterSpacing),\n    // lineBreak: parse(type,lineBreak, styles.lineBreak),\n    lineHeight: parse(type, lineHeight, styles.lineHeight),\n    // listStyleImage: parse(type,listStyleImage, styles.listStyleImage),\n    // listStylePosition: parse(type,listStylePosition, styles.listStylePosition),\n    // listStyleType: parse(type,listStyleType, styles.listStyleType),\n    marginTop: Number(parse(type, marginTop, styles.marginTop)),\n    marginRight: Number(parse(type, marginRight, styles.marginRight)),\n    marginBottom: Number(parse(type, marginBottom, styles.marginBottom)),\n    marginLeft: Number(parse(type, marginLeft, styles.marginLeft)),\n    opacity: parse(type, opacity, styles.opacity),\n    // const overflowTuple: parse(type,overflow, styles.overflow),\n    // overflowX: overflowTuple[0],\n    // overflowY: overflowTuple[overflowTuple.length > 1 ? 1 : 0],\n    // overflowWrap: parse(type,overflowWrap, styles.overflowWrap),\n    paddingTop: Number(parse(type, paddingTop, styles.paddingTop)),\n    paddingRight: Number(parse(type, paddingRight, styles.paddingRight)),\n    paddingBottom: Number(parse(type, paddingBottom, styles.paddingBottom)),\n    paddingLeft: Number(parse(type, paddingLeft, styles.paddingLeft)),\n    // paintOrder: parse(type,paintOrder, styles.paintOrder),\n    // position: parse(type,position, styles.position),\n    textAlign: parse(type, textAlign, styles.textAlign),\n    // textDecorationColor: parse(type,\n    //     context,\n    //     textDecorationColor,\n    //     styles.textDecorationColor ?? styles.color\n    // ),\n    // textDecorationLine: parse(type,\n    //     context,\n    //     textDecorationLine,\n    //     styles.textDecorationLine ?? styles.textDecoration\n    // ),\n    // textShadow: parse(type,textShadow, styles.textShadow),\n    // textTransform: parse(type,textTransform, styles.textTransform),\n    transform: parse(type, transform, styles.transform),\n    // transformOrigin: parse(type,transformOrigin, styles.transformOrigin),\n    visibility: parse(type, visibility, styles.visibility),\n    // webkitTextStrokeColor: parse(type,webkitTextStrokeColor, styles.webkitTextStrokeColor),\n    // webkitTextStrokeWidth: parse(type,webkitTextStrokeWidth, styles.webkitTextStrokeWidth),\n    width: parse(type, width, styles.width),\n    // wordBreak: parse(type,wordBreak, styles.wordBreak),\n    zIndex: parse(type, zIndex, styles.zIndex)\n  }\n}\n\nconst parse = (\n  // TODO: enum type\n  type: string,\n  descriptor: CSSPropertyDescriptor<any>,\n  style?: string | null\n) => {\n  const value =\n    style !== null && typeof style !== 'undefined'\n      ? style.toString()\n      : typeof descriptor.initialValue === 'string'\n      ? descriptor.initialValue\n      : descriptor.initialValue(type)\n\n  // TODO: finish tokenizer\n  return value\n}\n\nfunction getDefaultStyle(type) {\n  switch (type) {\n    case 'text':\n      return DEFAULT_TEXT_STYLES\n    default:\n      return DEFAULT_VIEW_STYLES\n  }\n}\n","import { isString, pipe, withConstructor } from '../utils'\nimport { ElementStyleType } from '../styleConstant'\nimport { TreeNode, createTreeNode } from '../tree-node'\nimport { RenderObject, createRenderObject } from '../render/renderObject'\nimport { Engine } from '../engine'\nimport { createCSSDeclaration } from '../css'\nimport { BODY_STYLES, EXTEND_STYLE_KEYS } from '../css/constant'\nimport { CanvasTextNode, createTextNode } from './textNode'\n\nexport const DEFAULT_CONTAINER = {\n  styles: {},\n  renderStyles: {\n    width: 0,\n    height: 0,\n    paddingWidth: 0,\n    paddingHeight: 0,\n    paddingTop: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    paddingRight: 0,\n    marginLeft: 0,\n    marginRight: 0,\n    marginTop: 0,\n    marginBottom: 0,\n    borderTopWidth: 0,\n    borderBottomWidth: 0,\n    borderLeftWidth: 0,\n    borderRightWidth: 0,\n    contentWidth: 0,\n    contentHeight: 0,\n    fullBoxWidth: 0,\n    fullBoxHeight: 0,\n    lineCap: 'butt',\n    visible: true\n  },\n  layout: {\n    x: 0,\n    y: 0,\n    contentX: 0,\n    contentY: 0\n  }\n}\n\n// export enum ElementTypes {\n//   root = 'root',\n//   view = 'view',\n//   text = 'text',\n//   img = 'img'\n// }\n\ntype ExtendStyles = {\n  textAlign?: string\n  lineHeight?: number\n  fontSize?: number\n  color?: string\n  fontFamily?: string\n  alignItems?: string\n  alignSelf?: string\n  visible?: boolean\n}\n\nexport type RenderStyles = {\n  display: string\n  width: number\n  height: number\n  borderTopWidth: number\n  borderBottomWidth: number\n  borderLeftWidth: number\n  borderRightWidth: number\n  paddingTop: number\n  paddingBottom: number\n  paddingLeft: number\n  paddingRight: number\n  marginTop: number\n  marginBottom: number\n  marginLeft: number\n  marginRight: number\n  backgroundColor: string\n  color: string\n  fontSize: number\n  fontWeight: string\n  lineHeight: number\n  // contentWidth: number\n  // contentHeight: number\n  // fullBoxWidth: number\n  // fullBoxHeight: number\n  // lineCap: string // butt round square\n  // visible: boolean\n}\n\nexport type ComputedStyles = {\n  display: string\n  width: number\n  height: number\n  borderTopWidth: number\n  borderBottomWidth: number\n  borderLeftWidth: number\n  borderRightWidth: number\n  paddingTop: number\n  paddingBottom: number\n  paddingLeft: number\n  paddingRight: number\n  marginTop: number\n  marginBottom: number\n  marginLeft: number\n  marginRight: number\n  backgroundColor: string\n  color: string\n  fontSize: number\n  fontWeight: string\n  lineHeight: number\n  // contentWidth: number\n  // contentHeight: number\n  // fullBoxWidth: number\n  // fullBoxHeight: number\n  // lineCap: string // butt round square\n  // visible: boolean\n}\n\nexport type Layout = {\n  x: number\n  y: number\n  contentX?: number\n  contentY?: number\n}\n\n// type DefaultContainer = {\n//   styles: ElementStyleType\n//   renderStyles: RenderStyle\n//   layout: Layout\n// }\n\n// type CanvasElementContainer = CanvasElement | DefaultContainer\n\nexport type ElementOptions = {\n  id?: string\n  style?: ElementStyleType\n  text?: string\n}\n\nexport interface CanvasBodyElement extends CanvasElement {\n  context: Engine\n}\n\nexport interface CanvasElement extends TreeNode<CanvasElement> {\n  __v_isCanvasElement: boolean\n  type: string\n  id: string | null\n  options: ElementOptions\n  styles: ElementStyleType\n  renderStyles: RenderStyles\n  computedStyles: ComputedStyles | null\n  debugColor: string | null\n  renderObject: RenderObject\n  attach(parent: CanvasElement): void\n  appendChild(child: CanvasElement): void\n  computeStyles(): void\n  hasChildren(): boolean\n  getRootElement(): CanvasElement\n  getContainerStyle(styleName: string): ComputedStyles\n  getContainer(): CanvasElement | null\n  isVisible(): boolean\n}\n\nexport type CreateElementAPI = (context: Engine) => CreateElementFn\n\nexport type CreateElementFn = (\n  type: string,\n  options?: ElementOptions,\n  children?: CanvasElement[] | string\n) => CanvasElement\n\nexport const createElementAPI = (context: Engine): CreateElementFn => {\n  const createElement = function CanvasElement(\n    type: string,\n    options: ElementOptions = {},\n    children?: CanvasElement[] | string\n  ) {\n    return pipe(\n      createTreeNode(),\n      createBaseElement(context, type, options, children),\n      withConstructor(CanvasElement),\n      createTextNodeIfHasText()\n    )({} as CanvasElement)\n  }\n\n  return createElement\n}\n\nconst createTextNodeIfHasText = () => (o) => {\n  if (isString(o.children)) {\n    let textNode = createTextNode(o.children)\n    o.children = [textNode]\n    _initRenderObject(o)\n    textNode.setParentNode(o)\n    textNode.attach(o)\n  }\n\n  return o\n}\n\nexport function isCanvasElement(value: any): value is CanvasElement {\n  return value ? value.__v_isCanvasElement === true : false\n}\n\nexport const createBaseElement =\n  (context: Engine, type: string, options: ElementOptions = {}, children?) =>\n  (o: TreeNode<CanvasElement>): CanvasElement => {\n    let element: CanvasElement = {\n      ...o,\n      __v_isCanvasElement: true,\n      type,\n      id: options.id || null,\n      options,\n      styles: options.style || {},\n      computedStyles: null,\n      renderStyles: null,\n      renderObject: null,\n      debugColor: null,\n      attach,\n      appendChild,\n      computeStyles,\n      hasChildren,\n      getRootElement,\n      getContainerStyle,\n      getContainer,\n      isVisible\n    }\n\n    if (children) {\n      element.children = children\n    }\n\n    if (element.type === 'body') {\n      ;(<CanvasBodyElement>element).context = context\n      element.styles = {\n        width: '100%',\n        height: '100%'\n      } as ElementStyleType\n      _initRenderObject(element)\n    }\n\n    _createRenderStyles(element)\n    element.computedStyles = { ...element.renderStyles }\n\n    return element\n  }\n\nfunction attach(this: CanvasElement, parent: CanvasElement) {\n  if (!this.renderObject) {\n    _initRenderObject(this)\n  }\n  parent.renderObject.appendChild(this.renderObject)\n  if (this.hasChildren()) {\n    this.children.forEach((child) => {\n      child.attach(this)\n    })\n  }\n}\n\nfunction appendChild(this: CanvasElement, child: CanvasElement) {\n  this.appendChildNode(child)\n\n  // attach to renderTree\n  const rootElm = this.getRootElement()\n  if (rootElm && rootElm.type === 'body') {\n    child.attach(this)\n    ;(<CanvasBodyElement>rootElm).context.flow(this)\n  }\n}\n\nfunction computeStyles(this: CanvasElement) {\n  if (this.getContainer()) {\n    EXTEND_STYLE_KEYS.forEach((key) => {\n      const value = this.getContainerStyle(key)\n      if (value) this.computedStyles[key] = value\n    })\n  }\n\n  if (this.hasChildren()) {\n    this.children.forEach((child) => {\n      child.computeStyles()\n    })\n  }\n}\n\nfunction hasChildren(this: CanvasElement) {\n  return this.hasChildNode()\n}\n\nfunction getRootElement(this: CanvasElement) {\n  return this.getRootNode()\n}\n\nfunction getContainerStyle(this: CanvasElement, styleName: string): ComputedStyles {\n  const container = this.getContainer()\n\n  if (!container) return\n  if (this.computedStyles[styleName] === 'transparent') {\n    return container.computedStyles[styleName]\n  } else {\n    return container.getContainerStyle(styleName)\n  }\n}\n\nfunction getContainer(this: CanvasElement) {\n  return this.parentNode\n}\n\nfunction isVisible() {\n  return true\n  // return (\n  //   this.styles.display > 0 &&\n  //   this.styles.opacity > 0 &&\n  //   this.style.visibility === VISIBILITY.VISIBLE\n  // )\n}\n\nfunction _createRenderStyles(element: CanvasElement) {\n  if (element.type === 'body') {\n    element.renderStyles = createCSSDeclaration(element.type, BODY_STYLES)\n  } else {\n    element.renderStyles = createCSSDeclaration(element.type, element.styles)\n  }\n}\n\nexport function _initRenderObject(element: CanvasElement | CanvasTextNode) {\n  element.renderObject = createRenderObject(element)\n}\n","import { Engine, createEngine } from './engine'\nimport { CanvasRenderer, createRenderer } from './render'\nimport { CanvasElement, CreateElementFn, createElementAPI } from './element/element'\n\nexport interface DoCanvas {\n  body: CanvasElement\n  engine: Engine\n  renderer: CanvasRenderer\n  createElement: CreateElementFn\n}\n\nexport function createDoCanvas(options) {\n  console.log('createDoCanvas', options)\n  let doCanvas = {} as DoCanvas\n  const renderer = createRenderer(options)\n  const engine = createEngine(renderer, options)\n  const createElement = createElementAPI(engine)\n\n  doCanvas = {\n    body: null,\n    engine,\n    renderer,\n    createElement\n  }\n\n  doCanvas.body = createElement('body')\n\n  return doCanvas\n}\n","import { CanvasElement } from './element/element'\nimport { CanvasRenderer } from './render'\nimport { RenderObject, createRenderObject } from './render/renderObject'\nimport { BFS, PostOrderDFS } from './utils/treeSearch'\n\nexport interface Engine {\n  renderer: CanvasRenderer\n  viewport: { width: number; height: number }\n  rootRenderObject: RenderObject\n  DFSRenderArray: RenderObject[]\n  updateDFSRenderArray(renderObject: RenderObject): void\n  measureBoxSize(elm: CanvasElement): void\n  flow(elm: CanvasElement): void\n  reflow(elm: CanvasElement): void\n  paint(elm: CanvasElement): void\n  repaint(elm: CanvasElement): void\n}\n\nexport function createEngine(renderer, options): Engine {\n  let engine: Engine = {\n    renderer,\n    viewport: {\n      width: options.width,\n      height: options.height\n    },\n    rootRenderObject: null,\n    DFSRenderArray: [],\n    updateDFSRenderArray,\n    measureBoxSize,\n    flow,\n    reflow,\n    paint,\n    repaint\n  }\n\n  function updateDFSRenderArray(renderObject) {\n    engine.DFSRenderArray = PostOrderDFS(renderObject)\n  }\n\n  function measureBoxSize(elm) {\n    engine.updateDFSRenderArray(elm.renderObject)\n    engine.DFSRenderArray.forEach((item) => {\n      item.measureBoxSize()\n    })\n  }\n\n  function flow(elm) {\n    const startTime = Date.now()\n    console.log(\n      'flow',\n      elm,\n      BFS(elm.renderObject).map((item) => `${item.type} ${item.element.id}`),\n      PostOrderDFS(elm.renderObject).map((item) => `${item.type} ${item.element.id}`)\n    )\n    elm.computeStyles()\n    BFS(elm.renderObject)\n      .reverse()\n      .forEach((item) => item.measureBoxSize())\n    elm.renderObject.flow()\n    console.log(`渲染${BFS(elm).length}个元素 耗时 ${Date.now() - startTime} ms`)\n    elm.getRootElement().type === 'body' && paint(elm)\n  }\n\n  function reflow(elm) {\n    console.log('reflow', elm)\n    elm.computeStyles()\n    elm.renderObject.flow()\n    elm.getRootElement().type === 'body' && repaint(elm)\n  }\n\n  function paint(elm) {\n    console.log('paint', elm)\n    if (!elm) {\n      renderer.paint(engine.rootRenderObject)\n    } else {\n      renderer.paint(elm.renderObject)\n    }\n  }\n\n  function repaint(elm) {\n    console.log('repaint', elm)\n    if (!elm) {\n      renderer.paint(engine.rootRenderObject)\n    } else {\n      renderer.paint(elm.renderObject)\n    }\n  }\n\n  renderer.engine = engine\n\n  return engine\n}\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","NOOP","isAuto","num","isArray","Array","BFS","node","traversed","queue","item","children","unshift","shift","push","PostOrderDFS","traverse","curr","forEach","child","CORNER","getBackgroundValueForIndex","values","index","Vector","x","y","type","add","deltaX","deltaY","lerp","a","b","BezierCurve","start","startControl","endControl","end","subdivide","firstHalf","ab","bc","cd","abbc","bccd","dest","reverse","isBezierCurve","path","isNumberToken","token","isIdentToken","getAbsoluteValueForTuple","tuple","width","height","getCurvePoints","r1","r2","position","kappa","Math","sqrt","ox","oy","xm","ym","TOP_LEFT","TOP_RIGHT","BOTTOM_RIGHT","BOTTOM_LEFT","render","elm","paint","renderObject","_this","paintBlock","paintInline","paintText","hasChildNode","mask","paths","ctx","beginPath","moveTo","lineTo","canvas","formatPath","slice","closePath","_path","point","bezierCurveTo","_formatPath","_paintBackGroundAndBorder","styles","element","computedStyles","backgroundPaintingArea","calculateBackgroundCurvedPaintingArea","backgroundClip","curves","save","clip","backgroundColor","fillStyle","fill","restore","getTextStyles","textBaseline","console","log","fontFamily","fontSize","font","concat","defaultFontFamily","color","textLines","lines","line","fillText","layoutBox","top","topLeftBorderBox","topRightBorderBox","bottomRightBorderBox","bottomLeftBorderBox","calculateBorderBoxPath","topLeftContentBox","topRightContentBox","bottomRightContentBox","bottomLeftContentBox","calculateContentBoxPath","topLeftPaddingBox","topRightPaddingBox","bottomRightPaddingBox","bottomLeftPaddingBox","calculatePaddingBoxPath","withConstructor","constructor","o","proto","getPrototypeOf","create","pipe","fns","_i","reduce","f","breakFlag","pipeLine","resetPipeLine","breakPipe","when","cond","hook","isTreeNode","value","__v_isTreeNode","_a","createTreeNode","options","textContent","_parentNode","_previousSibling","_nextSibling","_children","parentNode","val","previousSibling","nextSibling","setParentNode","getRootNode","appendChildNode","prependChildNode","removeChildNode","append","prepend","remove","_getRoot","Error","prev","_setSiblingNode","next","createTextNode","CanvasTextNode","text","createBaseTextNode","__v_isCanvasTextNode","debugColor","getContainer","attach","parent","_initRenderObject","appendChild","createLayoutBox","LayoutBox","left","__v_isLayoutBox","bottom","right","setTop","setLeft","setWidth","setHeight","createBaseLayoutBox","createRenderBlock","RenderBlock","createBaseRenderObject","createBaseRenderBlock","layout","measureBoxSize","renderBlock","bounds","isRoot","initRootBounds","calcBounds","parentBox","updateLayout","initLayout","size","initSize","setRootSize","calcWidthByChild","calcHeightByChild","viewport","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","paddingTop","paddingBottom","paddingLeft","paddingRight","marginTop","prevSiblingBox","_top","_left","_width","Number","_height","acc","createLineBox","parentLayoutBox","lineBox","renderInline","prevBox","w","h","_init","testWidth","createRenderInline","RenderInline","createBaseRenderInline","id","indexOf","createRenderInlineBlock","RenderInlineBlock","createBaseRenderInlineBlock","chars","lookup","Uint8Array","charCodeAt","toCodePoints","str","codePoints","extra","fromCodePoint","String","codeUnits","result","codePoint","fromCharCode","slice16","view","Uint16Array","Trie","initialValue","errorValue","highStart","highValueIndex","data","get","ix","UTRIE2_DATA_BLOCK_LENGTH","UTRIE2_INDEX_1_OFFSET","UTRIE2_INDEX_2_BLOCK_LENGTH","SP","BA","HY","CL","CP","EX","IN","NS","OP","IS","NU","PO","PR","SY","AL","EB","EM","H2","H3","ID","JL","JV","JT","SA","ea_OP","BREAK_NOT_ALLOWED","BREAK_ALLOWED","UnicodeTrie","base64","_byteLength","buffer","encoded1","encoded2","encoded3","encoded4","bufferLength","len","ArrayBuffer","bytes","decode","view32","polyUint32Array","Uint32Array","view16","polyUint16Array","headerLength","ceil","createTrieFromBase64","ALPHABETICS","HARD_LINE_BREAKS","SPACE","PREFIX_POSTFIX","LINE_BREAKS","KOREAN_SYLLABLE_BLOCK","HYPHEN","isAdjacentWithSpaceIgnored","currentIndex","classTypes","current","previousNonSpaceClassType","_lineBreakAtIndex","indicies","forbiddenBreaks","beforeIndex","afterIndex","before","prevIndex","count","cssFormattedClasses","lineBreak","wordBreak","types","indices","categories","classType","codePointsToCharacterClasses","isLetterNumber","map","forbiddenBreakpoints","letterNumber","undefined","Break","required","createRenderText","RenderText","createBaseRenderText","body","context","renderer","words","maxWidth","lineHeight","testLine","lineArray","maxLineWidth","measureText","trim","outerHeight","_wrapText","_breakWords","parentStyles","fontWeight","wordSeparators","bk","breaker","lastEnd","nextIndex","done","LineBreaker","word_1","createRenderObject","renderStyles","display","__v_isRenderObject","rootElm","flow","reflow","borderTopLeftRadius","tlh","tlv","_b","borderTopRightRadius","trh","trv","_c","borderBottomRightRadius","brh","brv","_d","borderBottomLeftRadius","blh","blv","factors","maxFactor","max","topWidth","rightHeight","bottomWidth","leftHeight","boundCurves","topLeftBorderDoubleOuterBox","topRightBorderDoubleOuterBox","bottomRightBorderDoubleOuterBox","bottomLeftBorderDoubleOuterBox","topLeftBorderDoubleInnerBox","topRightBorderDoubleInnerBox","bottomRightBorderDoubleInnerBox","bottomLeftBorderDoubleInnerBox","topLeftBorderStroke","topRightBorderStroke","bottomRightBorderStroke","bottomLeftBorderStroke","min","createBoundCurves","BODY_STYLES","accentColor","additiveSymbols","alignContent","alignItems","alignSelf","alignmentBaseline","all","animation","animationComposition","animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction","appRegion","appearance","ascentOverride","aspectRatio","backdropFilter","backfaceVisibility","background","backgroundAttachment","backgroundBlendMode","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundRepeatX","backgroundRepeatY","backgroundSize","basePalette","baselineShift","baselineSource","blockSize","border","borderBlock","borderBlockColor","borderBlockEnd","borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth","borderBlockStart","borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth","borderBlockStyle","borderBlockWidth","borderBottom","borderBottomColor","borderBottomStyle","borderCollapse","borderColor","borderEndEndRadius","borderEndStartRadius","borderImage","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderInline","borderInlineColor","borderInlineEnd","borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth","borderInlineStart","borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth","borderInlineStyle","borderInlineWidth","borderLeft","borderLeftColor","borderLeftStyle","borderRadius","borderRight","borderRightColor","borderRightStyle","borderSpacing","borderStartEndRadius","borderStartStartRadius","borderStyle","borderTop","borderTopColor","borderTopStyle","borderWidth","boxShadow","boxSizing","breakAfter","breakBefore","breakInside","bufferedRendering","captionSide","caretColor","clear","clipPath","clipRule","colorInterpolation","colorInterpolationFilters","colorRendering","colorScheme","columnCount","columnFill","columnGap","columnRule","columnRuleColor","columnRuleStyle","columnRuleWidth","columnSpan","columnWidth","columns","contain","containIntrinsicBlockSize","containIntrinsicHeight","containIntrinsicInlineSize","containIntrinsicSize","containIntrinsicWidth","container","containerName","containerType","content","contentVisibility","counterIncrement","counterReset","counterSet","cursor","cx","cy","d","descentOverride","direction","dominantBaseline","emptyCells","fallback","fillOpacity","fillRule","filter","flex","flexBasis","flexDirection","flexFlow","flexGrow","flexShrink","flexWrap","float","floodColor","floodOpacity","fontDisplay","fontFeatureSettings","fontKerning","fontOpticalSizing","fontPalette","fontStretch","fontStyle","fontSynthesis","fontSynthesisSmallCaps","fontSynthesisStyle","fontSynthesisWeight","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariationSettings","forcedColorAdjust","gap","grid","gridArea","gridAutoColumns","gridAutoFlow","gridAutoRows","gridColumn","gridColumnEnd","gridColumnGap","gridColumnStart","gridGap","gridRow","gridRowEnd","gridRowGap","gridRowStart","gridTemplate","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","hyphenateCharacter","hyphenateLimitChars","hyphens","imageOrientation","imageRendering","inherits","initialLetter","inlineSize","inset","insetBlock","insetBlockEnd","insetBlockStart","insetInline","insetInlineEnd","insetInlineStart","isolation","justifyContent","justifyItems","justifySelf","letterSpacing","lightingColor","lineGapOverride","listStyle","listStyleImage","listStylePosition","listStyleType","margin","marginBlock","marginBlockEnd","marginBlockStart","marginBottom","marginInline","marginInlineEnd","marginInlineStart","marginLeft","marginRight","marker","markerEnd","markerMid","markerStart","maskType","mathDepth","mathShift","mathStyle","maxBlockSize","maxHeight","maxInlineSize","minBlockSize","minHeight","minInlineSize","minWidth","mixBlendMode","negative","objectFit","objectPosition","objectViewBox","offset","offsetDistance","offsetPath","offsetRotate","opacity","order","orphans","outline","outlineColor","outlineOffset","outlineStyle","outlineWidth","overflow","overflowAnchor","overflowClipMargin","overflowWrap","overflowX","overflowY","overrideColors","overscrollBehavior","overscrollBehaviorBlock","overscrollBehaviorInline","overscrollBehaviorX","overscrollBehaviorY","pad","padding","paddingBlock","paddingBlockEnd","paddingBlockStart","paddingInline","paddingInlineEnd","paddingInlineStart","page","pageBreakAfter","pageBreakBefore","pageBreakInside","pageOrientation","paintOrder","perspective","perspectiveOrigin","placeContent","placeItems","placeSelf","pointerEvents","prefix","quotes","r","range","resize","rotate","rowGap","rubyPosition","rx","ry","scale","scrollBehavior","scrollMargin","scrollMarginBlock","scrollMarginBlockEnd","scrollMarginBlockStart","scrollMarginBottom","scrollMarginInline","scrollMarginInlineEnd","scrollMarginInlineStart","scrollMarginLeft","scrollMarginRight","scrollMarginTop","scrollPadding","scrollPaddingBlock","scrollPaddingBlockEnd","scrollPaddingBlockStart","scrollPaddingBottom","scrollPaddingInline","scrollPaddingInlineEnd","scrollPaddingInlineStart","scrollPaddingLeft","scrollPaddingRight","scrollPaddingTop","scrollSnapAlign","scrollSnapStop","scrollSnapType","scrollbarGutter","shapeImageThreshold","shapeMargin","shapeOutside","shapeRendering","sizeAdjust","speak","speakAs","src","stopColor","stopOpacity","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","suffix","symbols","syntax","system","tabSize","tableLayout","textAlign","textAlignLast","textAnchor","textCombineUpright","textDecoration","textDecorationColor","textDecorationLine","textDecorationSkipInk","textDecorationStyle","textDecorationThickness","textEmphasis","textEmphasisColor","textEmphasisPosition","textEmphasisStyle","textIndent","textOrientation","textOverflow","textRendering","textShadow","textSizeAdjust","textTransform","textUnderlineOffset","textUnderlinePosition","touchAction","transform","transformBox","transformOrigin","transformStyle","transition","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction","translate","unicodeBidi","unicodeRange","userSelect","vectorEffect","verticalAlign","viewTransitionName","visibility","whiteSpace","widows","willChange","wordSpacing","wordWrap","writingMode","zIndex","zoom","cssFloat","cssText","parentRule","DEFAULT_VIEW_STYLES","DEFAULT_TEXT_STYLES","EXTEND_STYLE_KEYS","name","parse","tokens","format","borderColorForSide","side","bit","parseDisplayValue","number","marginForSide","paddingForSide","transformFunction","SUPPORTED_TRANSFORM_FUNCTIONS","matrix","args","arg","matrix3d","a1","b1","a2","b2","a4","b4","auto","createCSSDeclaration","DEFAULT_STYLES","getDefaultStyle","descriptor","style","toString","createTextNodeIfHasText","textNode","createBaseElement","__v_isCanvasElement","computeStyles","hasChildren","getRootElement","getContainerStyle","isVisible","_createRenderStyles","key","styleName","doCanvas","dpr","root","createRenderer","engine","rootRenderObject","DFSRenderArray","updateDFSRenderArray","startTime","Date","now","repaint","createEngine","createElement","CanvasElement"],"mappings":"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","x_google_ignoreList":[0]}